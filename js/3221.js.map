{"version":3,"file":"js/3221.js","mappings":"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","sources":["webpack://site/../zarm/src/back-top/BackTop.tsx","webpack://site/../zarm/src/utils/dom/getScrollContainer.ts","webpack://site/../zarm/src/back-top/index.ts","webpack://site/../zarm/src/safe-area/index.tsx","webpack://site/../zarm/src/utils/hooks/useSafeState/index.ts","webpack://site/../zarm/src/action-sheet/ActionSheetItem.tsx","webpack://site/../zarm/src/action-sheet/ActionSheet.tsx","webpack://site/../zarm/src/action-sheet/index.ts","webpack://site/../zarm/src/action-sheet/show.tsx","webpack://site/../zarm/src/affix/index.tsx","webpack://site/../zarm/src/badge/Badge.tsx","webpack://site/../zarm/src/badge/index.ts","webpack://site/../zarm/src/carousel/index.tsx","webpack://site/../zarm/src/use-scroll/index.ts","webpack://site/../zarm/src/picker-view/utils.ts","webpack://site/../zarm/src/utils/hooks/usePrevious/index.ts","webpack://site/../zarm/src/utils/hooks/useEventCallback/index.ts","webpack://site/../zarm/src/utils/hooks/useSafeLayoutEffect/index.ts","webpack://site/../zarm/src/wheel/Wheel.tsx","webpack://site/../zarm/src/wheel/index.ts","webpack://site/../zarm/src/picker-view/PickerView.tsx","webpack://site/../zarm/src/picker-view/index.ts","webpack://site/../zarm/src/calendar/Header.tsx","webpack://site/../zarm/src/calendar/utils/parseDataSource.ts","webpack://site/../zarm/src/calendar/Month.tsx","webpack://site/../zarm/src/calendar/Week.tsx","webpack://site/../zarm/src/calendar/Calendar.tsx","webpack://site/../zarm/src/calendar/utils/parseState.ts","webpack://site/../zarm/src/calendar/index.ts","webpack://site/../zarm/src/tabs/TabPanel.tsx","webpack://site/../zarm/src/tabs/Tabs.tsx","webpack://site/../zarm/src/utils/deprecationWarning.ts","webpack://site/../zarm/src/tabs/util/index.ts","webpack://site/../zarm/src/tabs/index.ts","webpack://site/../zarm/src/cascader-view/utils.ts","webpack://site/../zarm/src/cascader-view/CascaderView.tsx","webpack://site/../zarm/src/cascader-view/index.ts","webpack://site/../zarm/src/picker/Container.tsx","webpack://site/../zarm/src/cascader/Cascader.tsx","webpack://site/../zarm/src/cascader/index.ts","webpack://site/../zarm/src/cascader/prompt.tsx","webpack://site/../zarm/src/checkbox/context.ts","webpack://site/../zarm/src/checkbox/Checkbox.tsx","webpack://site/../zarm/src/checkbox/CheckboxGroup.tsx","webpack://site/../zarm/src/checkbox/index.ts","webpack://site/../zarm/src/collapse/Collapse.tsx","webpack://site/../zarm/src/collapse/CollapseItem.tsx","webpack://site/../zarm/src/collapse/index.ts","webpack://site/../zarm/src/utils/hooks/useLatest/index.ts","webpack://site/../zarm/src/use-long-press/index.ts","webpack://site/../zarm/src/keyboard/BuildInConfig.tsx","webpack://site/../zarm/src/keyboard/Keyboard.tsx","webpack://site/../zarm/src/keyboard/index.ts","webpack://site/../zarm/src/keyboard-picker/index.tsx","webpack://site/../zarm/src/utils/getTargetElement.ts","webpack://site/../zarm/src/use-click-away/index.ts","webpack://site/../zarm/src/custom-input/CustomInput.tsx","webpack://site/../zarm/src/date-picker-view/interface.ts","webpack://site/../zarm/src/custom-input/index.ts","webpack://site/../zarm/src/date-picker-view/utils.ts","webpack://site/../zarm/src/date-picker-view/DatePickerView.tsx","webpack://site/../zarm/src/date-picker-view/index.ts","webpack://site/../zarm/src/date-picker/DatePicker.tsx","webpack://site/../zarm/src/date-picker/index.tsx","webpack://site/../zarm/src/date-picker/prompt.tsx","webpack://site/../zarm/src/date-select/DateSelect.tsx","webpack://site/../zarm/src/date-select/index.tsx","webpack://site/../zarm/src/file-picker/utils/handleFileInfo.tsx","webpack://site/../zarm/src/file-picker/utils/getFileDetail.tsx","webpack://site/../zarm/src/file-picker/utils/isImage.tsx","webpack://site/../zarm/src/file-picker/utils/createThumbnail.tsx","webpack://site/../zarm/src/file-picker/utils/changeImageSize.tsx","webpack://site/../zarm/src/file-picker/index.tsx","webpack://site/../zarm/src/grid/GridContext.ts","webpack://site/../zarm/src/grid/Grid.tsx","webpack://site/../zarm/src/grid/Item.tsx","webpack://site/../zarm/src/grid/index.ts","webpack://site/../zarm/src/pinch-zoom/index.tsx","webpack://site/../zarm/src/image-preview/utils/loadStatus.ts","webpack://site/../zarm/src/image-preview/utils/formatImages.ts","webpack://site/../zarm/src/image-preview/ImagePreview.tsx","webpack://site/../zarm/src/image-preview/utils/showOriginButton.ts","webpack://site/../zarm/src/image-preview/index.ts","webpack://site/../zarm/src/image-preview/show.tsx","webpack://site/../zarm/src/use-in-viewport/index.ts","webpack://site/../zarm/src/image/lazy-detector.tsx","webpack://site/../zarm/src/image/Image.tsx","webpack://site/../zarm/src/image/index.ts","webpack://site/../zarm/src/utils/hooks/useControllableEventValue/index.ts","webpack://site/../zarm/src/utils/resolveOnChange.ts","webpack://site/../zarm/src/input/Input.tsx","webpack://site/../zarm/src/input/index.ts","webpack://site/../zarm/src/marquee/Marquee.tsx","webpack://site/../zarm/src/marquee/constants.tsx","webpack://site/../zarm/src/marquee/index.tsx","webpack://site/../zarm/src/message/Message.tsx","webpack://site/../zarm/src/message/index.ts","webpack://site/../zarm/src/modal/ModalAction.tsx","webpack://site/../zarm/src/modal/Modal.tsx","webpack://site/../zarm/src/modal/methods.tsx","webpack://site/../zarm/src/modal/Confirm.tsx","webpack://site/../zarm/src/modal/index.ts","webpack://site/../zarm/src/modal/Alert.tsx","webpack://site/../zarm/src/nav-bar/NavBar.tsx","webpack://site/../zarm/src/nav-bar/index.ts","webpack://site/../zarm/src/notice-bar/index.tsx","webpack://site/../zarm/src/notice-bar/hooks.ts","webpack://site/../zarm/src/utils/keyframes.tsx","webpack://site/../zarm/src/picker/Picker.tsx","webpack://site/../zarm/src/picker/index.ts","webpack://site/../zarm/src/picker/prompt.tsx","webpack://site/../zarm/src/progress/hooks.ts","webpack://site/../zarm/src/progress/index.tsx","webpack://site/../zarm/src/pull/interface.ts","webpack://site/../zarm/src/pull/Pull.tsx","webpack://site/../zarm/src/pull/index.ts","webpack://site/../zarm/src/rate/Rate.tsx","webpack://site/../zarm/src/rate/index.ts","webpack://site/../zarm/src/search-bar/SearchBar.tsx","webpack://site/../zarm/src/search-bar/index.ts","webpack://site/../zarm/src/select/Select.tsx","webpack://site/../zarm/src/select/index.ts","webpack://site/../zarm/src/skeleton/Skeleton.tsx","webpack://site/../zarm/src/skeleton/index.ts","webpack://site/../zarm/src/slider/utils/getClosestPoint.ts","webpack://site/../zarm/src/slider/utils/getValue.ts","webpack://site/../zarm/src/slider/index.tsx","webpack://site/../zarm/src/slider/utils/ensureValuePrecision.ts","webpack://site/../zarm/src/slider/utils/getPrecision.ts","webpack://site/../zarm/src/stepper/Stepper.tsx","webpack://site/../zarm/src/stepper/index.ts","webpack://site/../zarm/src/swipe-action/SwipeActionItem.tsx","webpack://site/../zarm/src/swipe-action/SwipeAction.tsx","webpack://site/../zarm/src/swipe-action/index.ts","webpack://site/../zarm/src/switch/index.tsx","webpack://site/../zarm/src/tab-bar/TabBar.tsx","webpack://site/../zarm/src/tab-bar/TabBarItem.tsx","webpack://site/../zarm/src/tab-bar/index.ts","webpack://site/../zarm/src/use-orientation/index.ts","webpack://site/../zarm/src/utils/hooks/useMutationObserverRef/index.ts","webpack://site/../zarm/src/water-mark/defaults.ts","webpack://site/../zarm/src/water-mark/utils.ts","webpack://site/../zarm/src/water-mark/WaterMark.tsx","webpack://site/../zarm/src/water-mark/index.ts","webpack://site/../zarm/src/tooltip/index.tsx"],"sourcesContent":["import { useScroll } from '@use-gesture/react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Transition from '../transition';\r\nimport {\r\n  canUseDOM,\r\n  getMountContainer,\r\n  getScrollContainer,\r\n  getScrollTop,\r\n  renderToContainer,\r\n  scrollTo,\r\n} from '../utils/dom';\r\nimport { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseBackTopProps } from './interface';\r\n\r\nexport interface BackTopCssVars {\r\n  '--right'?: React.CSSProperties['right'];\r\n  '--bottom'?: React.CSSProperties['bottom'];\r\n}\r\n\r\nexport interface BackTopProps extends BaseBackTopProps, HTMLProps<BackTopCssVars> {\r\n  onClick?: (event: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst BackTop: React.FC<BackTopProps> = (props) => {\r\n  const { className, style, visibleDistance, destroy, onClick, children } = props;\r\n  const [visible, setVisible] = React.useState(false);\r\n  const { prefixCls, mountContainer: globalMountContainer, scrollContainer: globalScrollContainer } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('back-top', { prefixCls });\r\n\r\n  const scrollContainer = React.useMemo(() => {\r\n    return canUseDOM ? getScrollContainer(props.scrollContainer ?? globalScrollContainer) : undefined;\r\n  }, [props.scrollContainer, globalScrollContainer]);\r\n\r\n  const mountContainer = React.useMemo(() => {\r\n    return canUseDOM ? getMountContainer(props.mountContainer ?? globalMountContainer) : undefined;\r\n  }, [props.mountContainer, globalMountContainer]);\r\n\r\n  const scrollToTop = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    onClick?.(event);\r\n\r\n    if (!scrollContainer) return;\r\n    const scrollTop = getScrollTop(scrollContainer as HTMLElement) || 0;\r\n    const speed = props.speed || 0;\r\n    const duration = speed <= 0 || speed === Infinity ? 0 : scrollTop / ((speed / 10) * 1000);\r\n    scrollTo(scrollContainer, 0, 0, duration);\r\n  };\r\n\r\n  useScroll(\r\n    (event) => {\r\n      const scrollTop = getScrollTop(event.target as HTMLElement) || 0;\r\n      setVisible(scrollTop > visibleDistance!);\r\n    },\r\n    {\r\n      target: scrollContainer,\r\n    },\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const scrollTop = getScrollTop(scrollContainer);\r\n    setVisible(scrollTop > visibleDistance!);\r\n  }, [scrollContainer]);\r\n\r\n  return renderToContainer(\r\n    mountContainer,\r\n    <Transition\r\n      visible={visible}\r\n      duration={props.duration}\r\n      destroy={destroy}\r\n      tranisitionName={`${prefixCls}-fade`}\r\n    >\r\n      <div\r\n        className={bem([className])}\r\n        style={{\r\n          position: mountContainer !== document.body ? 'absolute' : 'fixed',\r\n          ...style,\r\n        }}\r\n        onClick={scrollToTop}\r\n      >\r\n        {children}\r\n      </div>\r\n    </Transition>,\r\n  );\r\n};\r\n\r\nBackTop.defaultProps = {\r\n  speed: 100,\r\n  visibleDistance: 400,\r\n  destroy: true,\r\n};\r\n\r\nexport default BackTop;\r\n","import isFunction from \"lodash/isFunction\";\r\n\r\ntype Container = HTMLElement | Window;\r\nexport type ScrollContainer = Container | (() => Container) | undefined | null;\r\n\r\nexport const getScrollContainer = (scrollContainer: ScrollContainer) => {\r\n  const container = isFunction(scrollContainer) ? scrollContainer() : scrollContainer;\r\n  return container || window;\r\n};\r\n","import BackTop from './BackTop';\r\n\r\nexport type { BackTopProps, BackTopCssVars } from './BackTop';\r\n\r\nexport default BackTop;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseSafeAreaProps } from './interface';\r\n\r\n// React.HTMLAttributes<HTMLDivElement> 这是 React 提供的内置类型；表示 <div> 元素可接受的所有标准 HTML 属性\r\nexport type SafeAreaProps = BaseSafeAreaProps & React.HTMLAttributes<HTMLDivElement>;\r\n\r\nconst SafeArea: React.FC<SafeAreaProps> = (props) => {\r\n  const { position, ...rest } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('safe-area', { prefixCls });\r\n\r\n  return <div {...rest} className={bem('', [bem(`position-${position}`)])} />;\r\n};\r\n\r\nexport default SafeArea;\r\n","import * as React from 'react';\r\n\r\nfunction useSafeState<S>(initialState: S | (() => S)): [S, React.Dispatch<React.SetStateAction<S>>];\r\n\r\nfunction useSafeState<S = undefined>(): [\r\n  S | undefined,\r\n  React.Dispatch<React.SetStateAction<S | undefined>>,\r\n];\r\n\r\nfunction useSafeState<S>(initialState?: S | (() => S)) {\r\n  const [state, setState] = React.useState(initialState);\r\n  const mounted = React.useRef(false);\r\n\r\n  React.useEffect(() => {\r\n    mounted.current = true;\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const update = React.useCallback((nextState) => {\r\n    mounted.current && setState(nextState);\r\n  }, []);\r\n\r\n  return [state, update] as const;\r\n}\r\n\r\nexport default useSafeState;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Loading from '../loading';\r\nimport { useSafeState } from '../utils/hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseActionSheetItemProps } from './interface';\r\n\r\nexport type ActionSheetItemProps = BaseActionSheetItemProps & HTMLProps;\r\n\r\nconst ActionSheetItem = React.forwardRef<HTMLDivElement, ActionSheetItemProps>((props, ref) => {\r\n  const { className, bold, theme, disabled, text, onClick, ...rest } = props;\r\n  const [loading, setLoading] = useSafeState(false);\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('action-sheet', { prefixCls });\r\n  const cls = bem('item', [\r\n    {\r\n      [`${theme}`]: !!theme,\r\n      bold,\r\n      disabled: disabled || loading,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  return (\r\n    <div\r\n      {...rest}\r\n      ref={ref}\r\n      className={cls}\r\n      onClick={async () => {\r\n        setLoading(true);\r\n        try {\r\n          await onClick?.();\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      }}\r\n    >\r\n      {loading ? <Loading /> : text}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ActionSheetItem;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, { useContext } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Popup from '../popup';\r\nimport SafeArea from '../safe-area';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport ActionSheetItem, { ActionSheetItemProps } from './ActionSheetItem';\r\nimport type { BaseActionSheetProps } from './interface';\r\n\r\nexport interface ActionSheetCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--spacing-margin'?: React.CSSProperties['margin'];\r\n  '--item-height'?: React.CSSProperties['height'];\r\n  '--item-font-size'?: React.CSSProperties['fontSize'];\r\n  '--item-font-weight'?: React.CSSProperties['fontWeight'];\r\n  '--item-text-color'?: React.CSSProperties['color'];\r\n  '--item-active-background'?: React.CSSProperties['background'];\r\n  '--item-opacity-disabled'?: React.CSSProperties['opacity'];\r\n  '--cancel-text-color'?: React.CSSProperties['color'];\r\n  '--cancel-margin-top'?: React.CSSProperties['marginTop'];\r\n}\r\n\r\nexport interface ActionSheetProps extends BaseActionSheetProps, HTMLProps<ActionSheetCssVars> {\r\n  safeArea?: boolean;\r\n  actions?: ActionSheetItemProps[];\r\n  onAction?: (action: ActionSheetItemProps, index: number) => void;\r\n}\r\n\r\nconst ActionSheet = React.forwardRef<HTMLDivElement, ActionSheetProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    style,\r\n    spacing,\r\n    actions,\r\n    cancelText,\r\n    onCancel,\r\n    onAction,\r\n    safeArea,\r\n    ...restProps\r\n  } = props;\r\n  const { prefixCls, safeArea: globalSafeArea, locale } = useContext(ConfigContext);\r\n\r\n  const bem = createBEM('action-sheet', { prefixCls });\r\n\r\n  const cls = bem([\r\n    {\r\n      spacing,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  const actionsRender = actions!.map((action, index) => (\r\n    <ActionSheetItem\r\n      {...action}\r\n      key={+index}\r\n      onClick={async () => {\r\n        await action.onClick?.();\r\n        await onAction?.(action, index);\r\n      }}\r\n    />\r\n  ));\r\n\r\n  const renderCancel = () => {\r\n    if (typeof onCancel !== 'function') return;\r\n\r\n    return (\r\n      <div className={bem('cancel')}>\r\n        <div className={bem('item', [{ bold: true }])} onClick={onCancel}>\r\n          {cancelText || locale?.ActionSheet?.cancelText}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Popup {...restProps}>\r\n      <div ref={ref} className={cls} style={style}>\r\n        <div className={bem('actions')}>{actionsRender}</div>\r\n        {renderCancel()}\r\n        {(safeArea ?? globalSafeArea) && <SafeArea position=\"bottom\" />}\r\n      </div>\r\n    </Popup>\r\n  );\r\n});\r\n\r\nActionSheet.displayName = 'ActionSheet';\r\n\r\nActionSheet.defaultProps = {\r\n  spacing: false,\r\n  visible: false,\r\n  actions: [],\r\n  destroy: true,\r\n};\r\n\r\nexport default ActionSheet;\r\n","import attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\nimport ActionSheet from './ActionSheet';\r\nimport { show } from './show';\r\n\r\nexport type { ActionSheetProps, ActionSheetCssVars } from './ActionSheet';\r\nexport type { ActionSheetItemProps } from './ActionSheetItem';\r\n\r\nexport default attachPropertiesToComponent(ActionSheet, { show });\r\n","import * as React from 'react';\r\nimport { renderImperatively } from '../utils/dom';\r\nimport ActionSheet, { ActionSheetProps } from './ActionSheet';\r\n\r\nexport const show = (props: Omit<ActionSheetProps, 'visible'>) => {\r\n  return renderImperatively(<ActionSheet {...props} />);\r\n};\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport throttle from 'lodash/throttle';\r\nimport React, { CSSProperties, forwardRef, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { canUseDOM } from '../utils/dom';\r\nimport Events from '../utils/events';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseAffixProps } from './interface';\r\n\r\nexport interface AffixCssVars {\r\n  '--zindex'?: React.CSSProperties['zIndex'];\r\n}\r\n\r\nexport interface AffixStates {\r\n  affixed: boolean;\r\n  // used to record origin dom rect\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport type AffixProps = BaseAffixProps & React.PropsWithChildren<HTMLProps<AffixCssVars>>;\r\n\r\nconst DEFAULT_SCROLL_CONTAINER = canUseDOM ? window : undefined;\r\n\r\nconst Affix = forwardRef<HTMLDivElement, AffixProps>((props, ref) => {\r\n  const { className, style, children, offsetBottom, offsetTop, onChange, scrollContainer } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('affix', { prefixCls });\r\n\r\n  const cls = bem([className]);\r\n\r\n  const [affixState, setAffixState] = useState<AffixStates>({\r\n    affixed: false,\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n\r\n  const savePlaceholderNode = (ref as any) || React.createRef<HTMLDivElement>();\r\n\r\n  const timerRef = useRef(0);\r\n  const fixedNodeTopRef = useRef('offsetBottom' in props ? -10000 : 10000);\r\n\r\n  const getContainer = useCallback(() => {\r\n    const container = typeof scrollContainer === 'function' ? scrollContainer!() : scrollContainer;\r\n    return !container ? window : container;\r\n  }, [scrollContainer]);\r\n\r\n  const getContainerRect = (): DOMRect => {\r\n    if (!canUseDOM) {\r\n      return { top: 0, bottom: 0 } as any;\r\n    }\r\n\r\n    const container = getContainer();\r\n\r\n    return container !== window\r\n      ? (container as HTMLElement).getBoundingClientRect()\r\n      : ({ top: 0, bottom: container.innerHeight, width: 0, height: 0 } as any);\r\n  };\r\n\r\n  const getAffixed = () => {\r\n    const containerRect = getContainerRect();\r\n    if (\r\n      typeof offsetBottom !== 'undefined' &&\r\n      fixedNodeTopRef.current + offsetBottom >= containerRect.bottom\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    if (\r\n      typeof offsetBottom === 'undefined' &&\r\n      typeof offsetTop !== 'undefined' &&\r\n      fixedNodeTopRef.current - offsetTop <= containerRect.top\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  const onPositionUpdate = throttle(() => {\r\n    const { affixed } = affixState;\r\n    const target = savePlaceholderNode.current!;\r\n    if (!target) {\r\n      return false;\r\n    }\r\n    const { top, width, height } = target?.getBoundingClientRect();\r\n\r\n    fixedNodeTopRef.current = top;\r\n\r\n    const currentAffixed = getAffixed();\r\n    if (currentAffixed !== affixed) {\r\n      setAffixState({\r\n        affixed: currentAffixed,\r\n        // use 'auto' when get width or height is 0\r\n        width: width === 0 ? ('auto' as any) : width,\r\n        height: height === 0 ? ('auto' as any) : height,\r\n      });\r\n      onChange && onChange(currentAffixed);\r\n    }\r\n  }, 10);\r\n\r\n  const getAffixStyle = (): CSSProperties => {\r\n    const containerRect = getContainerRect();\r\n    const affixed = getAffixed();\r\n\r\n    const { width, height } = affixState;\r\n\r\n    if (affixed && offsetBottom != null) {\r\n      return {\r\n        position: 'fixed',\r\n        bottom: offsetBottom,\r\n        width,\r\n        height,\r\n      };\r\n    }\r\n\r\n    if (affixed && offsetTop != null) {\r\n      return {\r\n        position: 'fixed',\r\n        top: containerRect.top + offsetTop,\r\n        width,\r\n        height,\r\n      };\r\n    }\r\n\r\n    return {};\r\n  };\r\n\r\n  useEffect(() => {\r\n    // wait for ref not null\r\n    timerRef.current = window.setTimeout(() => {\r\n      Events.on(getContainer(), 'scroll', onPositionUpdate);\r\n      if (offsetBottom != null) {\r\n        onPositionUpdate();\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      const container = getContainer();\r\n      Events.off(container, 'scroll', onPositionUpdate);\r\n\r\n      window.clearTimeout(timerRef.current);\r\n    };\r\n  }, [getContainer, offsetBottom, onPositionUpdate]);\r\n\r\n  return (\r\n    <div ref={savePlaceholderNode}>\r\n      <div\r\n        className={affixState.affixed ? cls : className}\r\n        style={{\r\n          ...style,\r\n          ...getAffixStyle(),\r\n        }}\r\n      >\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nAffix.displayName = 'Affix';\r\n\r\nAffix.defaultProps = {\r\n  scrollContainer: DEFAULT_SCROLL_CONTAINER,\r\n  offsetTop: 0,\r\n};\r\n\r\nexport default Affix;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseBadgeProps } from './interface';\r\n\r\nexport interface BadgeCssVars {\r\n  '--dot-size'?: string | number;\r\n  '--color'?: React.CSSProperties['background'];\r\n  '--text-color'?: React.CSSProperties['color'];\r\n  '--border-color'?: React.CSSProperties['borderColor'];\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--font-weight'?: React.CSSProperties['fontWeight'];\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--padding-horizontal'?: React.CSSProperties['padding'];\r\n  '--border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--top'?: React.CSSProperties['top'];\r\n  '--right'?: React.CSSProperties['right'];\r\n}\r\n\r\nexport type BadgeProps = BaseBadgeProps & HTMLProps<BadgeCssVars>;\r\n\r\nconst Badge = React.forwardRef<HTMLSpanElement, BadgeProps>((props, ref) => {\r\n  const { className, shape, bordered, text, children, ...restProps } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('badge', { prefixCls });\r\n\r\n  const cls = bem([\r\n    {\r\n      [`${shape}`]: !!shape,\r\n      sup: !!children,\r\n      bordered,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  return (\r\n    <span ref={ref} className={cls} {...restProps}>\r\n      {children}\r\n      <sup className={bem('content')}>{shape !== 'dot' && text}</sup>\r\n    </span>\r\n  );\r\n});\r\n\r\nBadge.displayName = 'Badge';\r\n\r\nBadge.defaultProps = {\r\n  shape: 'dot',\r\n};\r\n\r\nexport default Badge;\r\n","import Badge from './Badge';\r\n\r\nexport type { BadgeProps, BadgeCssVars } from './Badge';\r\n\r\nexport default Badge;\r\n","import { useDrag } from '@use-gesture/react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport type { CSSProperties } from 'react';\r\nimport React, {\r\n  Children,\r\n  cloneElement,\r\n  forwardRef,\r\n  useCallback,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { getBoundingClientRect } from '../utils/dom';\r\nimport Events from '../utils/events';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseCarouselProps } from './interface';\r\n\r\nexport interface CarouselCssVars {\r\n  '--pagination-margin'?: React.CSSProperties['right' | 'bottom'];\r\n  '--pagination-item-width'?: React.CSSProperties['width'];\r\n  '--pagination-item-height'?: React.CSSProperties['height'];\r\n  '--pagination-item-border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--pagination-item-spacing'?: React.CSSProperties['marginRight'];\r\n  '--pagination-item-background'?: React.CSSProperties['background'];\r\n  '--pagination-item-active-background'?: React.CSSProperties['background'];\r\n}\r\n\r\nexport type CarouselProps = BaseCarouselProps & HTMLProps<CarouselCssVars>;\r\n\r\nexport interface CarouselHTMLElement extends HTMLDivElement {\r\n  onJumpTo: (index: number) => void;\r\n  onSlideTo: (index: number) => void;\r\n}\r\n\r\ninterface Offset {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\ninterface StateProps {\r\n  activeIndex: number;\r\n  activeIndexChanged: boolean;\r\n}\r\n\r\n// 用户向左滑动到克隆节点（Item3）：\r\n// 动画显示克隆节点，用户感觉无缝滚动\r\n// 动画结束后，程序 立即把索引切回真实 Item3，位置瞬移但用户看不到\r\n// 用户向右滑动到克隆节点（Item0）：\r\n// 同理，动画显示克隆节点，结束后切回真实 Item0\r\n\r\nconst Carousel = forwardRef<CarouselHTMLElement, CarouselProps>((props, ref) => {\r\n  // props CarouselProps\r\n  // CarouselHTMLElement\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('carousel', { prefixCls });\r\n\r\n  const {\r\n    className,\r\n    height,\r\n    style,\r\n    children,\r\n    direction,\r\n    loop,\r\n    onChangeEnd,\r\n    onChange,\r\n    autoPlay,\r\n    autoPlayIntervalTime,\r\n    swipeable,\r\n    animationDuration,\r\n    activeIndex: propActiveIndex,\r\n    showPagination,\r\n    moveDistanceRatio,\r\n    moveTimeSpan,\r\n  } = props;\r\n\r\n  // 为什么要同时用\r\n  // 如果只用 useState：\r\n  // 拖拽或动画中，索引和标志频繁变化 → 每次更新都会触发渲染 → 性能损耗大。\r\n  // 内部逻辑需要快速读取最新索引（比如拖拽计算），但不想每次渲染 → useState 无法做到不触发渲染。\r\n  // 如果只用 useRef：\r\n  // UI 不会更新 → React 不知道轮播项索引变了 → 页面不会显示最新滑块。\r\n  // 所以两者结合：\r\n  // useRef：内部逻辑和标志管理。\r\n  // useState：驱动 UI 渲染，且只在需要显示变化时触发。\r\n  // TODO: 搞定\r\n  const stateRef = useRef<StateProps>({\r\n    activeIndex: propActiveIndex!,\r\n    activeIndexChanged: false,\r\n  });\r\n  // TODO: 搞定\r\n  const [activeIndexState, setActiveIndexState] = useState(stateRef.current.activeIndex);\r\n  // TODO: 搞定\r\n  const updateRef = useRef((state: StateProps) => {\r\n    stateRef.current = state;\r\n    setActiveIndexState(state.activeIndex);\r\n  });\r\n\r\n  // TODO: 搞定\r\n  const isVertical = direction === 'vertical';\r\n  // TODO: 搞定\r\n  const carouselRef = (ref as any) || React.createRef<CarouselHTMLElement>();\r\n  // TODO: 搞定\r\n  const carouselItemsRef = useRef<HTMLDivElement>(null);\r\n  // TODO: 搞定\r\n  const translateXRef = useRef(0);\r\n  const translateYRef = useRef(0);\r\n  // TODO: 搞定\r\n  const count = useMemo(() => Children.count(children), [children]);\r\n\r\n  // 处理节点（首尾拼接）\r\n  // TODO: 搞定\r\n  const carouselItems = useMemo(() => {\r\n    if (children == null || children.length === 0) {\r\n      return;\r\n    }\r\n    // 增加头尾拼接节点\r\n    const itemList = [...children];\r\n    const firstItem = itemList[0];\r\n    const lastItem = itemList[itemList.length - 1];\r\n\r\n    if (loop) {\r\n      itemList.push(firstItem);\r\n      itemList.unshift(lastItem);\r\n    }\r\n\r\n    // 节点追加后重排key\r\n    const newItems = React.Children.map(itemList, (element: any, index) => {\r\n      return cloneElement(element, {\r\n        key: index,\r\n        className: bem('item', [element.props.className]),\r\n      });\r\n    });\r\n    return newItems;\r\n  }, [children]);\r\n\r\n  // 执行过渡动画\r\n  // TODO: 搞定\r\n  const doTransition = useCallback(\r\n    (offset: Offset, animationDurationNum: number) => {\r\n      const dom = carouselItemsRef.current;\r\n      let x = 0;\r\n      let y = 0;\r\n\r\n      if (!isVertical) {\r\n        ({ x } = offset);\r\n      } else {\r\n        ({ y } = offset);\r\n      }\r\n      dom!.style.transitionDuration = `${animationDurationNum}ms`;\r\n      dom!.style.transform = `translate3d(${x}px, ${y}px, 0)`;\r\n    },\r\n    [isVertical],\r\n  );\r\n  // TODO: 搞定\r\n  const onMoving = useRef(false);\r\n\r\n  // TODO: 搞定\r\n  const transitionEnd = useCallback(() => {\r\n    // 动画结束后的处理逻辑\r\n    onMoving.current = false;\r\n    const { activeIndex, activeIndexChanged } = stateRef.current;\r\n    const dom = carouselItemsRef.current;\r\n    // 循环轮播通常会在开头和结尾增加克隆节点：\r\n    // activeIndex + 1：对应 DOM 中的真实位置（第一个克隆节点后偏移 1）\r\n    // 非循环轮播：直接使用 activeIndex\r\n    const index = loop ? activeIndex + 1 : activeIndex;\r\n    const size = getBoundingClientRect(dom);\r\n    translateXRef.current = -size.width * index;\r\n    translateYRef.current = -size.height * index;\r\n    // 强制移动到最终位置（无动画）\r\n    doTransition({ x: translateXRef.current, y: translateYRef.current }, 0);\r\n\r\n    if (activeIndexChanged) {\r\n      onChangeEnd?.(activeIndex);\r\n    }\r\n  }, [loop, doTransition, onChangeEnd]);\r\n\r\n  // 移动到指定编号\r\n  // TODO: 搞定\r\n  const onMoveTo = useCallback(\r\n    (index: number, animationDurationNum: number) => {\r\n      const dom = carouselItemsRef.current;\r\n      const previousIndex = stateRef.current.activeIndex;\r\n      const activeIndexChanged = previousIndex !== index;\r\n      // 如果轮播是 循环的，通常在 DOM 上会额外增加一个 前后克隆节点 用于无缝循环。\r\n      // num = 1 表示在计算偏移时要考虑这个额外的克隆节点。\r\n      const num = loop ? 1 : 0;\r\n      const size = getBoundingClientRect(dom);\r\n      translateXRef.current = -size.width * (index + num);\r\n      translateYRef.current = -size.height * (index + num);\r\n      doTransition({ x: translateXRef.current, y: translateYRef.current }, animationDurationNum);\r\n\r\n      if (index > count - 1) {\r\n        index = 0;\r\n      } else if (index < 0) {\r\n        index = count - 1;\r\n      }\r\n\r\n      updateRef.current({\r\n        activeIndex: index,\r\n        activeIndexChanged,\r\n      });\r\n      if (activeIndexChanged) {\r\n        onChange?.(index);\r\n      }\r\n    },\r\n    [children, doTransition, loop, onChange],\r\n  );\r\n\r\n  // TODO: 搞定\r\n  // 滑动到指定编号\r\n  const onSlideTo = useCallback(\r\n    (index: number) => {\r\n      onMoveTo(index, animationDuration!);\r\n    },\r\n    [onMoveTo, animationDuration],\r\n  );\r\n\r\n  // TODO: 搞定\r\n  // 静默跳到指定编号\r\n  const onJumpTo = useCallback(\r\n    (index: number) => {\r\n      onMoveTo(index, 0);\r\n    },\r\n    [onMoveTo],\r\n  );\r\n\r\n  // 更新窗口变化的位置偏移\r\n  // TODO: 搞定\r\n  const resize = useCallback(() => {\r\n    onJumpTo(stateRef.current.activeIndex);\r\n  }, [onJumpTo]);\r\n\r\n  const intervalRef = useRef<number>();\r\n\r\n  // 你这段代码是用 @use-gesture/react（或类似库）实现的一个 拖拽滑动（useDrag）逻辑，通常用于轮播图（carousel）中。\r\n  // useDrag 是一个 React Hook，用于监听 拖拽手势事件（鼠标或触摸）。\r\n  // 它返回一个函数（bind），可以绑定到 DOM 元素上，例如 <div {...bind()}>。\r\n  // 回调函数的参数 state 包含当前拖拽手势的所有状态\r\n  const bind = useDrag(\r\n    (state) => {\r\n      // 这里 state 包含了当前拖拽的状态，例如：\r\n      // offset: 当前拖拽的累计偏移量（x, y）。\r\n      // last: 是否是“最后一次拖拽事件”（即释放手指或鼠标）。\r\n      // intentional: 用户是否有意地拖拽（防止误触，比如轻轻滑动一下不算）。\r\n      // elapsedTime: 当前拖拽持续的时间（ms）。\r\n      let { activeIndex } = stateRef.current; // 前活跃的 slide 下标\r\n      // 是否处于正在滚动动画中\r\n      // 如果仍在运动中，这里会做“边界检查”\r\n      if (onMoving.current) {\r\n        if (activeIndex <= 0) {\r\n          onJumpTo(0);\r\n        } else if (activeIndex >= count - 1) {\r\n          onJumpTo(count - 1);\r\n        }\r\n        onMoving.current = false;\r\n      }\r\n      if (!state.intentional) {\r\n        return false;\r\n      }\r\n      // 如果轮播图开启了自动播放，那么拖拽时需要暂停播放。\r\n      intervalRef.current && window.clearInterval(intervalRef.current);\r\n\r\n      // 从拖拽状态中取出偏移量和持续时间。\r\n      const { offset, elapsedTime } = state;\r\n\r\n      const [offsetX, offsetY] = offset;\r\n      const index = isVertical ? 1 : 0;\r\n      if (!offset[index]) {\r\n        return false;\r\n      }\r\n\r\n      // 判断滑动方向：\r\n      // 水平：右滑 → prev（上一张）；左滑 → next（下一张）。\r\n      // 垂直：下滑 → prev；上滑 → next。\r\n      const action = (!isVertical && offsetX > 0) || (isVertical && offsetY > 0) ? 'prev' : 'next';\r\n\r\n      // 如果没有开启循环（loop = false）：\r\n      // 当前在第一张时，不能再往前；\r\n      // 当前在最后一张时，不能再往后。\r\n      if (\r\n        !loop &&\r\n        ((action === 'prev' && activeIndex <= 0) || (action === 'next' && activeIndex >= count - 1))\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      if (state.last) {\r\n        // 当用户松开手指时（last === true）才会进入此逻辑。\r\n        const dom = carouselItemsRef.current;\r\n        // 拿到轮播容器的尺寸信息（宽度或高度）。\r\n        const size = getBoundingClientRect(dom);\r\n\r\n        // 计算拖拽偏移量与容器长度的比例。\r\n        // 比如水平滑动 200px，而容器宽 400px → ratio = 0.5\r\n        const ratio = !isVertical\r\n          ? Math.abs(offsetX / size.width)\r\n          : Math.abs(offsetY / size.height);\r\n        // 判断滑动临界点\r\n        // 1.滑动距离超过0，且滑动距离和父容器长度之比超过moveDistanceRatio\r\n        // 2.滑动释放时间差低于moveTimeSpan\r\n\r\n        // 满足任意一个条件，就认为用户希望翻页：\r\n        // 拖拽距离比例超过 moveDistanceRatio（比如 0.3）\r\n        // 拖拽时间小于 moveTimeSpan（快速滑动）\r\n        if (ratio >= moveDistanceRatio! || elapsedTime <= moveTimeSpan!) {\r\n          activeIndex = action === 'next' ? activeIndex + 1 : activeIndex - 1;\r\n        }\r\n        // 如果启用了循环模式，在首尾页时需要特殊处理动画；\r\n        // 设置 onMoving.current = true 表示需要在动画结束后修正位置。\r\n        if (loop && (activeIndex >= count - 1 || activeIndex <= 1)) {\r\n          onMoving.current = true;\r\n        }\r\n        // 执行滑动到新的页面；\r\n        // 返回 false 阻止默认行为。\r\n        onSlideTo(activeIndex);\r\n        return false;\r\n      }\r\n      // 在拖拽过程中（非 last）执行实时跟随；\r\n      // 即时更新元素位置（x/y 平移），无动画延迟（duration=0）。\r\n      doTransition(\r\n        { x: translateXRef.current + offset[0], y: translateYRef.current + offset[1] },\r\n        0,\r\n      );\r\n    },\r\n    {\r\n      from: () => [0, 0], // 初始偏移\r\n      enabled: swipeable, // 是否允许拖拽\r\n      axis: isVertical ? 'y' : 'x', // 拖拽轴\r\n      pointer: { touch: true }, // 支持触摸\r\n      preventScroll: !isVertical, // 禁止滚动（非垂直时）\r\n      triggerAllEvents: true, // 触发所有事件\r\n    },\r\n  );\r\n\r\n  // TODO: 搞定\r\n  useEffect(() => {\r\n    // 如果 autoPlay 为 false，说明关闭自动播放，直接退出。\r\n    // 如果 count <= 1，只有一张图也没必要轮播，也直接退出。\r\n    if (!autoPlay || count <= 1) return;\r\n    intervalRef.current = window.setInterval(() => {\r\n      !onMoving.current && onSlideTo(stateRef.current.activeIndex + 1);\r\n    }, autoPlayIntervalTime);\r\n    return () => {\r\n      window.clearInterval(intervalRef.current);\r\n    };\r\n  }, [autoPlay, autoPlayIntervalTime, loop, onSlideTo, stateRef.current.activeIndex]);\r\n\r\n  useEffect(() => {\r\n    // 监听窗口变化\r\n    Events.on(window, 'resize', resize);\r\n    // 设置起始位置编号\r\n    onJumpTo(propActiveIndex!);\r\n\r\n    return () => {\r\n      // 移除监听窗口变化\r\n      Events.off(window, 'resize', resize);\r\n    };\r\n  }, [onJumpTo, onSlideTo, propActiveIndex, resize, transitionEnd]);\r\n\r\n  // TODO: 搞定\r\n  // 是将子组件的内部逻辑（如函数或状态）暴露给父组件，而无需公开整个组件实例或 DOM 节点。\r\n  useImperativeHandle(carouselRef, () => {\r\n    return {\r\n      onJumpTo: (index: number) => {\r\n        onJumpTo(index);\r\n      },\r\n      onSlideTo: (index: number) => {\r\n        onSlideTo(index);\r\n      },\r\n    };\r\n  });\r\n\r\n  // TODO: 搞定\r\n  const pagination = useMemo(() => {\r\n    if (!showPagination) return null;\r\n    const paginationItems = Children.map(children, (_child: React.ReactNode, index: number) => {\r\n      return (\r\n        <div\r\n          key={`pagination-${+index}`}\r\n          className={bem('pagination__item', [\r\n            {\r\n              active: index === activeIndexState,\r\n            },\r\n          ])}\r\n          onClick={() => onSlideTo(index)}\r\n        />\r\n      );\r\n    });\r\n\r\n    return <div className={bem('pagination')}>{paginationItems}</div>;\r\n  }, [showPagination, children, activeIndexState]);\r\n\r\n  // TODO: 搞定\r\n  const cls = bem([\r\n    {\r\n      horizontal: !isVertical,\r\n      vertical: isVertical,\r\n    },\r\n    className,\r\n  ]);\r\n  // TODO: 搞定\r\n  const itemsStyle: CSSProperties = {};\r\n  if (isVertical) {\r\n    itemsStyle.height = height;\r\n  }\r\n\r\n  return (\r\n    <div className={cls} style={style} ref={carouselRef} {...bind()}>\r\n      <div\r\n        ref={carouselItemsRef}\r\n        className={bem('items')}\r\n        onTransitionEnd={transitionEnd}\r\n        // 垂直需要一个高度\r\n        style={itemsStyle}\r\n      >\r\n        {carouselItems}\r\n      </div>\r\n      {pagination}\r\n    </div>\r\n  );\r\n});\r\n\r\nCarousel.displayName = 'Carousel';\r\n\r\nCarousel.defaultProps = {\r\n  direction: 'horizontal',\r\n  height: 160,\r\n  loop: false,\r\n  activeIndex: 0,\r\n  animationDuration: 500,\r\n  swipeable: true,\r\n  autoPlay: false,\r\n  autoPlayIntervalTime: 3000,\r\n  moveDistanceRatio: 0.5,\r\n  moveTimeSpan: 300,\r\n  showPagination: true,\r\n};\r\n\r\nexport default Carousel;\r\n","import throttle from 'lodash/throttle';\r\nimport { MouseEvent, RefObject, TouchEvent, useEffect } from 'react';\r\nimport Events from '../utils/events';\r\n\r\nexport interface UseScrollProps {\r\n  container: RefObject<HTMLElement>;\r\n  onScroll?: (event: MouseEvent | TouchEvent) => void;\r\n  wait?: number;\r\n}\r\n\r\nconst useScroll = ({ container, onScroll, wait = 200 }: UseScrollProps) => {\r\n  useEffect(() => {\r\n    const handler = throttle((event): void => {\r\n      // console.log(`[${Date.now()}] handler`);\r\n      typeof onScroll === 'function' && onScroll(event);\r\n    }, wait);\r\n\r\n    if (container.current) {\r\n      Events.on(container.current, 'scroll', handler);\r\n    }\r\n\r\n    return () => {\r\n      if (container.current) {\r\n        Events.off(container.current, 'scroll', handler);\r\n      }\r\n    };\r\n  }, [container]);\r\n};\r\n\r\nexport default useScroll;\r\n","import omit from 'lodash/omit';\r\nimport { toArray } from '../utils';\r\nimport type {\r\n  BasePickerViewProps as PickerViewProps,\r\n  PickerColumn,\r\n  PickerColumnItem,\r\n  PickerDataSource,\r\n  PickerOption,\r\n  PickerValue,\r\n} from './interface';\r\n// const userFieldNames = { value: 'id', label: 'name' };\r\n// const fields = resolvedFieldNames(userFieldNames);\r\n// fields = { value: 'id', label: 'name', children: 'children' }\r\n\r\nconst DEFAULT_FIELD_NAMES = {\r\n  value: 'value',\r\n  label: 'label',\r\n  children: 'children',\r\n};\r\n\r\nexport const resolvedFieldNames = <T = object>(left: Partial<T> | undefined) => {\r\n  const merged = { ...DEFAULT_FIELD_NAMES };\r\n  left &&\r\n    Object.keys(left).forEach((key) => {\r\n      merged[key] = left?.[key] || DEFAULT_FIELD_NAMES[key];\r\n    });\r\n  return merged;\r\n};\r\n\r\nexport const isCascader = (dataSource?: PickerDataSource): dataSource is PickerOption[] => {\r\n  return Array.isArray(dataSource) && dataSource[0] && !Array.isArray(dataSource[0]);\r\n};\r\nexport const isColumn = (dataSource?: PickerDataSource): dataSource is PickerColumn => {\r\n  return Array.isArray(dataSource) && dataSource[0] && Array.isArray(dataSource[0]);\r\n};\r\n\r\nexport const isValidValue = (value?: PickerValue | PickerValue[]) => {\r\n  const currentValue = toArray(value);\r\n  return currentValue.some((item) => !!item || item === 0 || item === false);\r\n};\r\n\r\nconst resolvedValue = (props: PickerViewProps, initialValue?: PickerValue[]) => {\r\n  const { value, defaultValue, wheelDefaultValue } = props;\r\n  if ('value' in props && isValidValue(value)) {\r\n    return toArray(value);\r\n  }\r\n\r\n  if ('defaultValue' in props && isValidValue(defaultValue)) {\r\n    return toArray(defaultValue);\r\n  }\r\n\r\n  if ('wheelDefaultValue' in props && isValidValue(wheelDefaultValue)) {\r\n    return toArray(wheelDefaultValue);\r\n  }\r\n\r\n  return toArray(initialValue);\r\n};\r\n\r\nexport const resolveColumn = (props: PickerViewProps) => {\r\n  const columns = toArray(props.dataSource) as PickerColumn;\r\n  const fieldNames = resolvedFieldNames(props.fieldNames);\r\n  const value = resolvedValue(\r\n    props,\r\n    columns.map((item) => item?.[0]?.[fieldNames?.value!]),\r\n  );\r\n  return {\r\n    value,\r\n    columns,\r\n    items: columns.map(\r\n      (column, index) => column.filter((option) => option?.[fieldNames.value] === value[index])[0],\r\n    ),\r\n  };\r\n};\r\n\r\nconst resolveCascade = (props: PickerViewProps) => {\r\n  const { cols } = props;\r\n  const fieldNames = resolvedFieldNames(props.fieldNames);\r\n\r\n  const value: PickerValue[] = resolvedValue(props, []);\r\n  const columns: PickerColumn[] = [];\r\n  const items: PickerColumnItem[] = [];\r\n  const traverse = (options: PickerOption[], depth = 0) => {\r\n    columns[depth] = options.map((option, index) => {\r\n      const rest = omit<PickerColumnItem>(option, fieldNames.children) as PickerColumnItem;\r\n      const children = option[fieldNames.children] as PickerOption[] | undefined;\r\n      const currentValue = value[depth];\r\n      if (\r\n        (isValidValue(currentValue) && rest[fieldNames.value] === currentValue) ||\r\n        (!isValidValue(currentValue) && index === 0)\r\n      ) {\r\n        value[depth] = rest[fieldNames.value];\r\n        items[depth] = rest;\r\n\r\n        if (Array.isArray(children) && children.length > 0 && depth + 1 < cols!) {\r\n          traverse(children, depth + 1);\r\n        }\r\n      }\r\n      return rest;\r\n    });\r\n  };\r\n\r\n  traverse(props.dataSource as PickerOption[]);\r\n\r\n  return {\r\n    value,\r\n    items,\r\n    columns,\r\n  };\r\n};\r\n\r\nexport const resolved = (props: PickerViewProps) => {\r\n  return isCascader(props.dataSource) ? resolveCascade(props) : resolveColumn(props);\r\n};\r\n","import { useEffect, useRef } from 'react';\r\n\r\nexport default function usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n","import { useCallback, useEffect, useRef } from 'react';\r\n\r\nexport default function useEventCallback(fn, dependencies) {\r\n  const ref = useRef(() => {\r\n    throw new Error('Cannot call an event handler while rendering.');\r\n  });\r\n\r\n  useEffect(() => {\r\n    ref.current = fn;\r\n  }, [fn, ...dependencies]);\r\n\r\n  return useCallback(() => {\r\n    const _fn = ref.current;\r\n    return _fn();\r\n  }, [ref]);\r\n}\r\n","import * as React from 'react';\r\nimport { canUseDOM } from '../../dom';\r\n\r\nconst useSafeLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;\r\n\r\nexport default useSafeLayoutEffect;\r\n","// 基于 BetterScroll 的 React Wheel 组件实现，用于实现滚轮选择器（类似 iOS Picker View）\r\n\r\nimport BScroll, { BScrollInstance } from '@better-scroll/core';\r\n// 使用 BetterScroll 的 wheel 插件来实现滚轮效果。\r\nimport WheelPlugin from '@better-scroll/wheel';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport isEqual from 'lodash/isEqual';\r\nimport React, { createRef, useEffect, useRef } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\n// TODO:\r\nimport { resolvedFieldNames } from '../picker-view/utils';\r\n// TODO:\r\nimport { useEventCallback, usePrevious, useSafeLayoutEffect } from '../utils/hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseWheelProps, WheelItem, WheelValue } from './interface';\r\n\r\nBScroll.use(WheelPlugin);\r\n\r\nconst getValue = (props: Omit<WheelProps, 'itemRender'>) => {\r\n  if ('defaultValue' in props) {\r\n    return props.defaultValue;\r\n  }\r\n  if ('value' in props) {\r\n    return props.value;\r\n  }\r\n  if (Array.isArray(props.dataSource) && props.dataSource[0] && props.fieldNames?.value) {\r\n    return props.dataSource[0][props.fieldNames?.value];\r\n  }\r\n};\r\n\r\nexport interface WheelCssVars {\r\n  '--text-color': React.CSSProperties['color'];\r\n  '--disabled-text-color': React.CSSProperties['color'];\r\n  '--item-height': React.CSSProperties['height'];\r\n  '--item-rows': number;\r\n  '--item-font-size': React.CSSProperties['fontSize'];\r\n}\r\n\r\nexport type WheelProps = BaseWheelProps & HTMLProps<WheelCssVars>;\r\n\r\nconst Wheel: React.FC<WheelProps> = (props) => {\r\n  const { className, value, defaultValue, dataSource, disabled, stopScroll, itemRender, onChange } =\r\n    props;\r\n\r\n  const scrollInstance = useRef<BScrollInstance | null>(null);\r\n  const wheelWrapperRef = createRef<HTMLDivElement>();\r\n  const currentValue = getValue(props);\r\n  const prevValue = usePrevious(value);\r\n  const prevDataSource = usePrevious(dataSource);\r\n  const prevStopScroll = usePrevious(stopScroll);\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const heightRef = React.useRef(0);\r\n  const bem = createBEM('wheel', { prefixCls });\r\n\r\n  const fieldNames = resolvedFieldNames(props.fieldNames);\r\n\r\n  const getSelectedIndex = (\r\n    changedValue?: WheelValue,\r\n    newDataSource?: Array<WheelItem>,\r\n  ): number => {\r\n    let index = 0;\r\n    if (newDataSource) {\r\n      newDataSource.some((item, i) => {\r\n        if (item[fieldNames.value!] === changedValue) {\r\n          index = i;\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n    return index;\r\n  };\r\n\r\n  const fireValueChange = (changedValue: WheelValue) => {\r\n    if (changedValue === currentValue) {\r\n      return;\r\n    }\r\n    onChange?.(changedValue);\r\n  };\r\n\r\n  const handleScrollEnd = useEventCallback(() => {\r\n    const index = scrollInstance.current?.getSelectedIndex();\r\n    const child = dataSource?.[index];\r\n    if (child) {\r\n      fireValueChange(child[fieldNames.value!]);\r\n    }\r\n  }, []);\r\n\r\n  // TODO: OK\r\n  useSafeLayoutEffect(() => {\r\n    let resize: ResizeObserver | null;\r\n    heightRef.current = wheelWrapperRef.current?.clientHeight || 0;\r\n    const initIndex = getSelectedIndex(currentValue, dataSource);\r\n    if (wheelWrapperRef.current) {\r\n      scrollInstance.current = new BScroll(wheelWrapperRef.current, {\r\n        wheel: {\r\n          // 初始化时选中的索引。\r\n          selectedIndex: initIndex,\r\n          // 轮子内容容器的 class 名。\r\n          wheelWrapperClass: bem('content'),\r\n          // 每一项的 class 名。\r\n          wheelItemClass: bem('item'),\r\n        },\r\n        // 滚动监听模式：\r\n        // /0：不监听滚动。\r\n        // 1：滚动时触发 scroll 事件（但不频繁）。\r\n        // 2：滚动时触发，较高频率。\r\n        // 3：滚动时高频触发，实时监听滚动位置（常用）。\r\n        probeType: 3,\r\n      });\r\n\r\n      if (scrollInstance.current.scroller?.wrapper) {\r\n        resize = new ResizeObserver((entries) => {\r\n          const [entry] = entries || [];\r\n          // 如果高度没有变化，则直接返回\r\n          if (entry.contentRect.height === heightRef.current) return;\r\n          // 更新记录的高度\r\n          heightRef.current = entry.contentRect.height;\r\n          // 刷新滚动实例\r\n          scrollInstance.current?.refresh();\r\n        });\r\n        resize.observe(scrollInstance.current.scroller.wrapper);\r\n      }\r\n    }\r\n\r\n    scrollInstance.current?.on('scrollEnd', () => {\r\n      handleScrollEnd();\r\n    });\r\n\r\n    return () => {\r\n      resize?.disconnect();\r\n      scrollInstance.current?.destroy();\r\n    };\r\n  }, []);\r\n\r\n  // TODO: OK\r\n  useEffect(() => {\r\n    disabled && scrollInstance.current?.disable();\r\n  }, [disabled]);\r\n\r\n  useEffect(() => {\r\n    if (isEqual(prevDataSource, dataSource)) return;\r\n    scrollInstance.current?.refresh();\r\n\r\n    const targetIndex = dataSource?.findIndex((item) => item[fieldNames.value] === value);\r\n    if (targetIndex >= 0) return;\r\n    handleScrollEnd();\r\n  }, [dataSource, fieldNames, value]);\r\n\r\n  // TODO: OK\r\n  useEffect(() => {\r\n    const oldIndex = getSelectedIndex(prevValue, prevDataSource);\r\n    const newIndex = getSelectedIndex(value, dataSource);\r\n    if (newIndex !== oldIndex) {\r\n      scrollInstance.current?.wheelTo(newIndex);\r\n    }\r\n\r\n    if (stopScroll && prevStopScroll !== stopScroll) {\r\n      scrollInstance.current?.stop();\r\n    }\r\n  }, [value, defaultValue, dataSource, stopScroll, fieldNames.value]);\r\n\r\n  // TODO: OK\r\n  const items = dataSource!.map((item, index) => {\r\n    const itemCls = bem('item', [\r\n      {\r\n        selected: currentValue === item[fieldNames.value!],\r\n        disabled,\r\n      },\r\n    ]);\r\n\r\n    return (\r\n      <div key={+index} className={itemCls}>\r\n        {itemRender?.(item) || item?.[fieldNames.label]}\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={bem([className])} ref={wheelWrapperRef}>\r\n      <div className={bem('content')}>{items}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nWheel.displayName = 'Wheel';\r\nWheel.defaultProps = {\r\n  dataSource: [],\r\n  stopScroll: false,\r\n};\r\n\r\nexport default Wheel;\r\n","import Wheel from './Wheel';\r\n\r\nexport type { WheelProps, WheelCssVars } from './Wheel';\r\nexport type { WheelItem, WheelValue } from './interface';\r\n\r\nexport default Wheel;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport isEqual from 'lodash/isEqual';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { useSafeState } from '../utils/hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n// Wheel\r\nimport Wheel from '../wheel';\r\nimport type { WheelValue } from '../wheel/interface';\r\nimport type { BasePickerViewProps, PickerColumnItem } from './interface';\r\nimport { isCascader, resolved } from './utils';\r\n\r\nexport interface PickerViewCssVars {\r\n  '--background': React.CSSProperties['background'];\r\n  '--padding': React.CSSProperties['padding'];\r\n  '--mask-start-background': React.CSSProperties['background'];\r\n  '--mask-end-background': React.CSSProperties['background'];\r\n  '--wheel-item-rows': number;\r\n  '--wheel-item-height': React.CSSProperties['height'];\r\n  '--wheel-item-font-size': React.CSSProperties['fontSize'];\r\n  '--wheel-item-text-color': React.CSSProperties['color'];\r\n  '--wheel-item-disabled-text-color': React.CSSProperties['color'];\r\n  '--wheel-item-selected-background': React.CSSProperties['background'];\r\n  '--wheel-item-selected-border-radius': React.CSSProperties['borderRadius'];\r\n}\r\n\r\nexport type PickerViewProps = BasePickerViewProps & HTMLProps<PickerViewCssVars>;\r\n\r\nexport interface PickerViewInstance {\r\n  value: WheelValue[];\r\n  items: PickerColumnItem[];\r\n  reset: () => void;\r\n}\r\n\r\nconst PickerView = React.forwardRef<PickerViewInstance, PickerViewProps>((props, ref) => {\r\n  const { className, style, cols, dataSource, fieldNames, itemRender, disabled, onChange } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('picker-view', { prefixCls });\r\n  const [innerValue, setInnerValue] = React.useState(resolved(props).value);\r\n  const [stopScroll, setStopScroll] = useSafeState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (props.value === undefined) return;\r\n    if (isEqual(props.value, innerValue)) return;\r\n    setInnerValue(resolved(props).value);\r\n  }, [props.value]);\r\n\r\n  const { columns, items } = React.useMemo(\r\n    () => resolved({ ...props, value: innerValue }),\r\n    [cols, innerValue, dataSource, fieldNames],\r\n  );\r\n\r\n  const reset = () => {\r\n    setStopScroll(true);\r\n    setTimeout(() => {\r\n      setInnerValue(resolved(props).value);\r\n      setStopScroll(false);\r\n    }, 0);\r\n  };\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    value: innerValue,\r\n    items,\r\n    reset,\r\n  }));\r\n\r\n  const onValueChange = React.useCallback(\r\n    (selected: WheelValue, index: number) => {\r\n      const value = innerValue.slice();\r\n      if (isCascader(props.dataSource)) {\r\n        value.length = index + 1;\r\n      }\r\n      value[index] = selected;\r\n      const next = resolved({ ...props, value });\r\n      setInnerValue(next.value);\r\n      onChange?.(next.value, next.items, index);\r\n    },\r\n    [innerValue],\r\n  );\r\n\r\n  return (\r\n    <div className={bem([className])} style={style}>\r\n      <div className={bem('content')}>\r\n        {columns.map((column, index) => (\r\n          <Wheel\r\n            key={+index}\r\n            dataSource={column}\r\n            value={innerValue?.[index]}\r\n            fieldNames={fieldNames}\r\n            itemRender={itemRender ? (item) => itemRender(item, index) : undefined}\r\n            disabled={disabled}\r\n            onChange={(selected: WheelValue) => onValueChange(selected, index)}\r\n            stopScroll={stopScroll}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className={bem('mask', [{ top: true }])} />\r\n      <div className={bem('mask', [{ bottom: true }])} />\r\n    </div>\r\n  );\r\n});\r\n\r\nPickerView.defaultProps = {\r\n  defaultValue: [],\r\n  dataSource: [],\r\n  cols: Infinity,\r\n  disabled: false,\r\n};\r\n\r\nexport default PickerView;\r\n","import PickerView from './PickerView';\r\n\r\nexport type { PickerValue, PickerColumn, PickerColumnItem, PickerOption } from './interface';\r\nexport type { PickerViewProps, PickerViewInstance, PickerViewCssVars } from './PickerView';\r\n\r\nexport default PickerView;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport { ArrowLeft, ArrowRight } from '@zarm-design/icons';\r\nimport dayjs from 'dayjs';\r\nimport React, { useContext, useState } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\n// PickView\r\nimport PickerView from '../picker-view';\r\nimport parseDataSource from './utils/parseDataSource';\r\n\r\ninterface HeaderProps {\r\n  months: Date[];\r\n  currentMonth: number;\r\n  changeMonth: Function;\r\n}\r\n\r\nfunction Header(props: HeaderProps) {\r\n  const { prefixCls, locale: globalLocal } = useContext(ConfigContext);\r\n  const locale = globalLocal?.Calendar;\r\n\r\n  const bem = createBEM('calendar', { prefixCls });\r\n\r\n  const [showDatePicker, setShowDatePicker] = useState<boolean>(false);\r\n\r\n  const { changeMonth, months, currentMonth } = props;\r\n\r\n  // 根据传过的value[0] 匹配到 当前月\r\n  const current = months[currentMonth] || new Date();\r\n  const year = current.getFullYear();\r\n  const month = current.getMonth();\r\n  //\r\n  const title = dayjs().year(year).month(month).format(globalLocal?.Calendar?.yearMonthFormat);\r\n  //   {\r\n  //     \"value\": 2022,\r\n  //     \"label\": 2022,\r\n  //     \"children\": [\r\n  //         {\r\n  //             \"value\": 4,\r\n  //             \"label\": \"5月\"\r\n  //         },\r\n  //         {\r\n  //             \"value\": 5,\r\n  //             \"label\": \"6月\"\r\n  //         },\r\n  //         {\r\n  //             \"value\": 6,\r\n  //             \"label\": \"7月\"\r\n  //         },\r\n  //         {\r\n  //             \"value\": 7,\r\n  //             \"label\": \"8月\"\r\n  //         },\r\n  //         {\r\n  //             \"value\": 8,\r\n  //             \"label\": \"9月\"\r\n  //         },\r\n  //         {\r\n  //             \"value\": 9,\r\n  //             \"label\": \"10月\"\r\n  //         }\r\n  //     ]\r\n  // }\r\n  const dataSource = parseDataSource(months, locale);\r\n  const currentValue = [year, month];\r\n\r\n  // 根据日期修改外面的月份\r\n  const dateChange = (value) => {\r\n    const day = dayjs().year(value[0]).month(value[1]);\r\n    const index = months.findIndex((i) => {\r\n      return dayjs(i).isSame(day, 'month');\r\n    });\r\n    changeMonth(index);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={bem('header')}>\r\n        <div\r\n          className={bem('title', [\r\n            {\r\n              animate: showDatePicker,\r\n            },\r\n          ])}\r\n          onClick={() => setShowDatePicker(!showDatePicker)}\r\n        >\r\n          {title}\r\n          <ArrowRight theme=\"primary\" size=\"sm\" />\r\n        </div>\r\n        <div className={bem('action')}>\r\n          <ArrowLeft\r\n            theme=\"primary\"\r\n            className={bem('action-btn', [\r\n              {\r\n                disabled: currentMonth === 0,\r\n              },\r\n            ])}\r\n            onClick={() => {\r\n              if (currentMonth > 0) {\r\n                changeMonth(currentMonth - 1);\r\n              }\r\n            }}\r\n          />\r\n          <ArrowRight\r\n            theme=\"primary\"\r\n            className={bem('action-btn', [\r\n              {\r\n                disabled: currentMonth >= months.length - 1,\r\n              },\r\n            ])}\r\n            onClick={() => {\r\n              if (currentMonth < months.length - 1) {\r\n                changeMonth(currentMonth + 1);\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      {showDatePicker ? (\r\n        // TODO: PickerView待定\r\n        <PickerView\r\n          dataSource={Object.values(dataSource)}\r\n          value={currentValue}\r\n          onChange={dateChange}\r\n        />\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default React.memo(Header);\r\n","function parseDataSource(months, locale) {\r\n  const dataSource = {};\r\n  for (let i = 0; i < months.length; i++) {\r\n    const year = months[i].getFullYear();\r\n    const month = months[i].getMonth();\r\n    if (!dataSource[year]) {\r\n      dataSource[year] = {\r\n        value: year,\r\n        label: year,\r\n        children: [\r\n          {\r\n            value: month,\r\n            label: locale?.months[month],\r\n          },\r\n        ],\r\n      };\r\n    } else {\r\n      dataSource[year].children.push({\r\n        value: month,\r\n        label: locale?.months[month],\r\n      });\r\n    }\r\n  }\r\n  return dataSource;\r\n}\r\n\r\nexport default parseDataSource;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport dayjs from 'dayjs';\r\nimport React, {\r\n  forwardRef,\r\n  isValidElement,\r\n  ReactNode,\r\n  useCallback,\r\n  useContext,\r\n  useImperativeHandle,\r\n  useRef,\r\n} from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { BaseCalendarMonthProps } from './interface';\r\n\r\nexport type CalendarMonthProps = BaseCalendarMonthProps & React.HTMLAttributes<HTMLElement>;\r\n\r\nconst CalendarMonthView = forwardRef<any, CalendarMonthProps>((props, ref) => {\r\n  const { dateRender, min, max, disabledDate, onDateClick, dateMonth, value, mode } = props;\r\n  const { prefixCls, locale: globalLocal } = useContext(ConfigContext);\r\n\r\n  // \"Monday\"\r\n  const weekStartsOn = globalLocal?.Calendar.weekStartsOn;\r\n\r\n  const bem = createBEM('calendar', { prefixCls });\r\n\r\n  const monthRef = useRef<any>();\r\n\r\n  const isDisabled = useCallback(\r\n    (date) => {\r\n      return (\r\n        dayjs(date).isBefore(dayjs(min), 'day') ||\r\n        dayjs(date).isAfter(dayjs(max), 'day') ||\r\n        (typeof disabledDate === 'function' && disabledDate(date))\r\n      );\r\n    },\r\n    [min, max, disabledDate],\r\n  );\r\n\r\n  const isSelected = useCallback(\r\n    (date) => {\r\n      const currentDate = dayjs(date);\r\n      return mode === 'single'\r\n        ? value[0] && currentDate.isSame(dayjs(value[0]), 'day')\r\n        : // 用于检测数组中 是否至少有一个元素满足指定条件\r\n          value.some((item) => (item ? currentDate.isSame(dayjs(item), 'day') : false));\r\n    },\r\n    [mode, value],\r\n  );\r\n\r\n  const range = useCallback(\r\n    (date) => {\r\n      if (mode !== 'range') {\r\n        return '';\r\n      }\r\n      const currentDate = dayjs(date);\r\n      const start = value[0];\r\n      const end = value[value.length - 1];\r\n      if (currentDate.isAfter(dayjs(start)) && currentDate.isBefore(dayjs(end))) {\r\n        return 'range';\r\n      }\r\n      if (value.length > 1 && !dayjs(start).isSame(dayjs(end))) {\r\n        if (currentDate.isSame(dayjs(start), 'day') && start) {\r\n          return 'start';\r\n        }\r\n        if (currentDate.isSame(dayjs(end), 'day') && end) {\r\n          return 'end';\r\n        }\r\n      }\r\n      return '';\r\n    },\r\n    [mode, value],\r\n  );\r\n\r\n  const hanlerDateClick = useCallback(\r\n    (date) => {\r\n      if (!isDisabled(date) && typeof onDateClick === 'function') {\r\n        onDateClick(date);\r\n      }\r\n    },\r\n    [onDateClick],\r\n  );\r\n\r\n  const renderDay = (day: number, year: number, month: number, firstDay: number): ReactNode => {\r\n    const date = new Date(year, month, day);\r\n    const dayjsDate = dayjs(date);\r\n    const isToday = dayjs().isSame(dayjsDate, 'day');\r\n    let text: string | ReactNode = '';\r\n    if (typeof dateRender === 'function') {\r\n      text = dateRender(date, value);\r\n      if (typeof text === 'object' && !isValidElement(text)) {\r\n        console.warn('dateRender函数返回数据类型错误，请返回基本数据类型或者reactNode');\r\n        text = '';\r\n      }\r\n    }\r\n\r\n    // firstDay 就是设置首行的样式 偏移量\r\n    const style =\r\n      day === 1\r\n        ? {\r\n            marginLeft: `${14.28571 * firstDay}%`,\r\n          }\r\n        : {};\r\n\r\n    const rangeStatus = range(date);\r\n    const className = bem('day', [\r\n      {\r\n        disabled: isDisabled(date), // 是否禁用\r\n        today: isToday, // false\r\n        selected: isSelected(date) && rangeStatus !== 'range', // 不是rang 并选中\r\n        range: rangeStatus === 'range', // 范围模式 开始和结束中间的\r\n        d6: (day + firstDay) % 7 === 0 && !!rangeStatus, // 范围模式 周日\r\n        d7: (day + firstDay) % 7 === 1 && !!rangeStatus, // 范围模式 周一\r\n        start: rangeStatus === 'start', // 范围 开始\r\n        end: rangeStatus === 'end', // 范围 结束\r\n        last: rangeStatus === 'end' && (day === 1 || (day + firstDay) % 7 === 1), // 范围模式 当前月的最后一天\r\n        first:\r\n          rangeStatus === 'start' &&\r\n          (dayjsDate.daysInMonth() === day || (day + firstDay) % 7 === 0), // 范围模式 当前月的第一天\r\n      },\r\n    ]);\r\n    return (\r\n      <li\r\n        key={`${year}-${month}-${day}`}\r\n        className={className}\r\n        style={style}\r\n        onClick={() => hanlerDateClick(date)}\r\n      >\r\n        {(text && <div className={bem('day__content')}>{text}</div>) || ''}\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const renderDays = (year: number, month: number): ReactNode[] => {\r\n    // .date(1)：设置日期为 1 号，也就是把这个日期对象改成当月的第一天。\r\n    const date = dayjs().year(year).month(month).date(1);\r\n    const daysInMonth = date.daysInMonth();\r\n    let firstDay = date.day(); // 返回当月第一天星期几，值是 0~6：\r\n    // 星期日不是第一天\r\n    // 一周从 星期一开始\r\n    // 如果 firstDay === 0（原本是星期日）\r\n    // → 调整为 0 + 6 = 6\r\n    // → 放到一周的最后一天（星期日成为第 7 列）\r\n\r\n    // 否则 firstDay - 1\r\n    // → 原来的星期一（1）变 0（第一列）\r\n    // → 星期二（2）变 1\r\n    // → …\r\n    // → 星期六（6）变 5\r\n    if (weekStartsOn !== 'Sunday') {\r\n      firstDay = firstDay === 0 ? firstDay + 6 : firstDay - 1;\r\n    }\r\n    const days: ReactNode[] = [];\r\n    let i = 1;\r\n    while (i <= daysInMonth) {\r\n      days.push(renderDay(i, year, month, firstDay));\r\n      i += 1;\r\n    }\r\n    return days;\r\n  };\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      el: () => {\r\n        return monthRef.current;\r\n      },\r\n    };\r\n  });\r\n\r\n  const year = dateMonth.getFullYear();\r\n  const month = dateMonth.getMonth();\r\n  const monthKey = `${year}-${month}`;\r\n  const title = dayjs().year(year).month(month).format(globalLocal?.Calendar?.yearMonthFormat);\r\n\r\n  return (\r\n    <div key={monthKey} className={bem('month__wrapper')} ref={monthRef} title={title}>\r\n      <div className={bem('month')}>{title}</div>\r\n      <ul>{renderDays(year, month)}</ul>\r\n    </div>\r\n  );\r\n});\r\n\r\nCalendarMonthView.defaultProps = {\r\n  value: [],\r\n  dateMonth: new Date(),\r\n  min: new Date(),\r\n  max: new Date(),\r\n  dateRender: (date: Date) => date.getDate(),\r\n  disabledDate: () => false,\r\n};\r\n\r\nexport default React.memo(CalendarMonthView);\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, { forwardRef, useContext } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\n\r\nconst Week = forwardRef<any, any>((_props, ref) => {\r\n  const { prefixCls, locale: globalLocal } = useContext(ConfigContext);\r\n  const weeks = globalLocal?.Calendar?.weeks;\r\n  const bem = createBEM('calendar', { prefixCls });\r\n\r\n  const content = weeks?.map((week) => <li key={week}>{week}</li>);\r\n  return (\r\n    <ul className={bem('week')} ref={ref}>\r\n      {content}\r\n    </ul>\r\n  );\r\n});\r\n\r\nexport default React.memo(Week);\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport dayjs from 'dayjs';\r\nimport throttle from 'lodash/throttle';\r\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\r\n// Carousel\r\nimport { Transition } from 'react-transition-group';\r\nimport Carousel from '../carousel';\r\nimport { ConfigContext } from '../config-provider';\r\nimport useScroll from '../use-scroll';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport Header from './Header';\r\nimport { BaseCalendarProps } from './interface';\r\nimport CalendarMonthView from './Month';\r\nimport parseState from './utils/parseState';\r\nimport Week from './Week';\r\n\r\nexport interface CalendarCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--padding-horizontal'?: React.CSSProperties['paddingLeft'];\r\n  '--padding-vertical'?: React.CSSProperties['paddingTop'];\r\n  '--header-height'?: React.CSSProperties['height'];\r\n  '--week-height'?: React.CSSProperties['height'];\r\n  '--week-font-size'?: React.CSSProperties['fontSize'];\r\n  '--week-font-weight'?: React.CSSProperties['fontWeight'];\r\n  '--week-background'?: React.CSSProperties['background'];\r\n  '--week-text-color'?: React.CSSProperties['color'];\r\n  '--month-font-size'?: React.CSSProperties['fontSize'];\r\n  '--month-font-weight'?: React.CSSProperties['fontWeight'];\r\n  '--month-height'?: React.CSSProperties['height'];\r\n  '--month-scroll-background'?: React.CSSProperties['background'];\r\n  '--day-height'?: React.CSSProperties['height'];\r\n  '--day-width'?: React.CSSProperties['width'];\r\n  '--day-margin-vertical'?: React.CSSProperties['marginTop'];\r\n  '--day-font-size'?: React.CSSProperties['fontSize'];\r\n  '--day-text-color'?: React.CSSProperties['color'];\r\n  '--day-today-background'?: React.CSSProperties['background'];\r\n  '--day-today-text-color'?: React.CSSProperties['color'];\r\n  '--day-selected-border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--day-selected-background'?: React.CSSProperties['background'];\r\n  '--day-selected-text-color'?: React.CSSProperties['color'];\r\n  '--day-selected-shadow'?: React.CSSProperties['background'];\r\n  '--day-range-background'?: React.CSSProperties['background'];\r\n  '--day-range-text-color'?: React.CSSProperties['color'];\r\n  '--action-btn-disabled'?: React.CSSProperties['color'];\r\n}\r\n\r\nexport type CalendarProps = BaseCalendarProps & HTMLProps<CalendarCssVars>;\r\n\r\ninterface CalendarStates {\r\n  value: Date[];\r\n  // min: Date;\r\n  // max: Date;\r\n  // 是否是入参更新(主要是月份跨度更新，需要重新定位)\r\n  // refresh: boolean;\r\n  // // 注掉该逻辑，强制根据 multiple 控制节点个数，后面改进\r\n  // // steps:Math.max(tmp.value.length; tmp.defaultValue.length);\r\n  // // steps 是总的选择的个数 via zouhuan\r\n  // steps: number;\r\n  // 初始化点击步数\r\n  // step 是为了扩展的，以后如果是三选，四选之类的，用这个，step 标注每次事件是第几次选择 via zouhuan\r\n  step?: number;\r\n  // mode: string;\r\n}\r\n\r\nconst Calendar = React.forwardRef<HTMLDivElement, CalendarProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    dateRender,\r\n    disabledDate,\r\n    onChange,\r\n    onSelect,\r\n    mode,\r\n    max: maxDate, // 最大日期\r\n    min: minDate, // 最小日期\r\n    direction,\r\n    header,\r\n  } = props;\r\n\r\n  const container = (ref as any) || React.createRef<HTMLDivElement>();\r\n  const { prefixCls } = useContext(ConfigContext);\r\n  const carouselRef = useRef(null);\r\n\r\n  const bem = createBEM('calendar', { prefixCls });\r\n  const cls = bem([className]);\r\n  // 外面传进来 [value]\r\n  const [state, setState] = useState<CalendarStates>(() => {\r\n    return { ...parseState(props), step: 0 };\r\n  });\r\n\r\n  const [min, max] = useMemo(() => {\r\n    const minDay = minDate ? dayjs(minDate).toDate() : dayjs().toDate();\r\n    const maxDay = maxDate ? dayjs(maxDate).toDate() : dayjs().add(1, 'year').toDate();\r\n    const duration = [minDay, maxDay].sort((item1: Date, item2: Date) => +item1 - +item2);\r\n    return duration;\r\n  }, [maxDate, minDate]);\r\n\r\n  const steps = useMemo(() => {\r\n    return mode === 'range' ? 2 : 1;\r\n  }, [mode]);\r\n\r\n  const { value } = state;\r\n\r\n  const nodes = useRef<any>({});\r\n\r\n  const scrollBodyRef = React.createRef<HTMLDivElement>();\r\n  const weekRef = React.useRef<HTMLDivElement>();\r\n\r\n  const [scrollDate, setScrollDate] = useState<string | null>();\r\n\r\n  const [scrolling, setScrolling] = useState(false);\r\n\r\n  const isHorizontal = useMemo(() => {\r\n    return direction === 'horizontal';\r\n  }, [direction]);\r\n\r\n  // 根据min max日期 生成一个months(一个月范围)\r\n  const months = useMemo(() => {\r\n    const month: Date[] = [];\r\n    const dateMax = dayjs(max);\r\n    const dateMin = dayjs(min);\r\n    const len = (dateMax.year() - dateMin.year()) * 12 + dateMax.month() - dateMin.month();\r\n    let i = 0;\r\n    do {\r\n      month.push(dayjs(min).add(i, 'month').toDate());\r\n      i += 1;\r\n    } while (i <= len);\r\n    return month;\r\n  }, [max, min]);\r\n\r\n  // 根据value[0]||当前时间 去获取当前月的索引\r\n  const currentMonthIndex = useMemo(() => {\r\n    const currentTime = dayjs(value[0] || new Date());\r\n    return months.findIndex((current) => {\r\n      return dayjs(current).isSame(currentTime, 'month');\r\n    });\r\n  }, [value]);\r\n\r\n  const [currentMonth, setCurrentMonth] = useState<number>(currentMonthIndex);\r\n\r\n  // 月历定位\r\n  const scrollIntoView = useRef(false);\r\n  const anchor = () => {\r\n    const target = value[0] || new Date();\r\n    const key = `${target.getFullYear()}-${target.getMonth() + 1}`;\r\n    const node = nodes.current[key]!;\r\n    node?.el()?.scrollIntoView?.();\r\n  };\r\n\r\n  const handleDateClick = useCallback(\r\n    (date: Date) => {\r\n      const { step } = state;\r\n      const currentStep = step + 1;\r\n      const idx = value.map(Number).indexOf(Number(date));\r\n      if (currentStep === 1 && mode !== 'multiple') {\r\n        value.splice(0, value.length);\r\n      }\r\n      if (mode === 'range') {\r\n        value[currentStep - 1] = date;\r\n      } else if (idx > -1) {\r\n        value.splice(idx, 1);\r\n      } else if (mode === 'multiple') {\r\n        value.push(date);\r\n      } else {\r\n        value[currentStep - 1] = date;\r\n      }\r\n      value.sort((item1: Date, item2: Date) => +item1 - +item2);\r\n\r\n      setState((prevState) => ({\r\n        ...prevState,\r\n        value,\r\n        step: currentStep === steps ? 0 : currentStep,\r\n      }));\r\n\r\n      if ((currentStep >= steps || mode === 'multiple') && typeof onChange === 'function') {\r\n        onChange(value);\r\n      }\r\n\r\n      if (typeof onSelect === 'function') {\r\n        onSelect(value);\r\n      }\r\n    },\r\n    [mode, state, value, onChange],\r\n  );\r\n\r\n  const renderMonth = useCallback(\r\n    (dateMonth: Date) => {\r\n      const key = `${dateMonth.getFullYear()}-${dateMonth.getMonth() + 1}`;\r\n      return (\r\n        <CalendarMonthView\r\n          key={key}\r\n          min={min}\r\n          max={max}\r\n          mode={mode}\r\n          value={value}\r\n          dateMonth={dateMonth}\r\n          dateRender={dateRender}\r\n          disabledDate={disabledDate}\r\n          onDateClick={handleDateClick}\r\n          ref={(n) => {\r\n            nodes.current[key] = n;\r\n          }}\r\n        />\r\n      );\r\n    },\r\n    [min, max, mode, value, dateRender, disabledDate, handleDateClick, nodes],\r\n  );\r\n\r\n  const content = useMemo(() => {\r\n    return months.map((item) => renderMonth(item));\r\n  }, [renderMonth]);\r\n\r\n  // showHeader 满足了bailout四要素\r\n  const showHeader = useMemo(() => {\r\n    return direction === 'horizontal' && header;\r\n  }, [direction, header]);\r\n\r\n  const bodyScroll = throttle(() => {\r\n    const weekNode = weekRef?.current;\r\n    const body = scrollBodyRef.current;\r\n    if (!body) {\r\n      return false;\r\n    }\r\n    const { scrollTop } = body as HTMLDivElement;\r\n    let keys = Object.keys(nodes?.current);\r\n    keys = keys.sort((a, b) => new Date(a).getTime() - new Date(b).getTime());\r\n    for (let i = 0; i < keys.length; i++) {\r\n      const el = nodes?.current[keys[i]]?.el()! as HTMLElement;\r\n      if (el?.offsetTop + el?.clientHeight - weekNode?.clientHeight! > scrollTop) {\r\n        setScrollDate(el.getAttribute('title'));\r\n        return;\r\n      }\r\n    }\r\n  }, 150);\r\n\r\n  const monthsContent = useMemo(() => {\r\n    if (isHorizontal) {\r\n      // 水平走Carousel\r\n      return (\r\n        <Carousel\r\n          className={bem('body')}\r\n          showPagination={false}\r\n          activeIndex={currentMonth}\r\n          onChange={setCurrentMonth}\r\n          ref={carouselRef}\r\n        >\r\n          {content}\r\n        </Carousel>\r\n      );\r\n    }\r\n    // 垂直\r\n    return (\r\n      <div className={bem('body')} ref={scrollBodyRef} onScroll={bodyScroll}>\r\n        {content}\r\n        <Transition in={scrolling} timeout={500}>\r\n          {(tState) => (\r\n            <div className={bem('scroll-month', [{ [tState]: true }])}>{scrollDate}</div>\r\n          )}\r\n        </Transition>\r\n      </div>\r\n    );\r\n  }, [mode, currentMonth, content, isHorizontal, scrollDate, scrolling]);\r\n\r\n  useEffect(() => {\r\n    !isHorizontal && anchor();\r\n  }, [direction, minDate, maxDate]);\r\n\r\n  const timer = useRef<ReturnType<typeof setTimeout>>();\r\n\r\n  useScroll({\r\n    container: scrollBodyRef,\r\n    onScroll: () => {\r\n      !scrollIntoView.current && setScrolling(true);\r\n      if (timer.current) {\r\n        clearTimeout(timer.current);\r\n      }\r\n      timer.current = setTimeout(() => {\r\n        setScrolling(false);\r\n        scrollIntoView.current = false;\r\n      }, 250);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className={cls} ref={container}>\r\n      {showHeader && (\r\n        <Header\r\n          changeMonth={(idx) => {\r\n            // @ts-ignore\r\n            carouselRef?.current?.onSlideTo(idx)!;\r\n          }}\r\n          // [min max] 月份得到数组\r\n          months={months}\r\n          // 当前月份的索引\r\n          currentMonth={currentMonth}\r\n        />\r\n      )}\r\n      <Week ref={weekRef} />\r\n      {monthsContent}\r\n    </div>\r\n  );\r\n});\r\n\r\nCalendar.defaultProps = {\r\n  mode: 'single',\r\n  dateRender: (date: Date) => date.getDate(),\r\n  disabledDate: () => false,\r\n  direction: 'vertical',\r\n  header: false,\r\n};\r\n\r\nexport default Calendar;\r\n","import dayjs from 'dayjs';\r\n\r\n// // 示例 1：单个日期\r\n// const state1 = parseState({\r\n//   value: new Date('2023-05-10'),\r\n//   mode: 'single',\r\n// });\r\n// console.log(state1);\r\n// // 输出: { value: [ 2023-05-10T00:00:00.000Z ] }\r\n\r\n// // 示例 2：日期数组\r\n// const state2 = parseState({\r\n//   value: [new Date('2023-05-15'), new Date('2023-05-10')],\r\n//   mode: 'single',\r\n// });\r\n// console.log(state2);\r\n// // 输出: { value: [ 2023-05-10T00:00:00.000Z, 2023-05-15T00:00:00.000Z ] }\r\n// // 注意数组会自动排序\r\n\r\n// // 示例 3：范围模式，使用单个日期作为 value\r\n// const state3 = parseState({\r\n//   value: new Date('2023-05-10'),\r\n//   defaultValue: new Date('2023-05-01'),\r\n//   mode: 'range',\r\n// });\r\n// console.log(state3);\r\n// // 输出: { value: [ 2023-05-01T00:00:00.000Z, 2023-05-10T00:00:00.000Z ] }\r\n\r\n// // 示例 4：范围模式，日期数组\r\n// const state4 = parseState({\r\n//   value: [new Date('2023-05-20'), new Date('2023-05-05'), new Date('2023-05-10')],\r\n//   mode: 'range',\r\n// });\r\n// console.log(state4);\r\n// // 输出: { value: [ 2023-05-05T00:00:00.000Z, 2023-05-20T00:00:00.000Z ] }\r\n\r\n// // 示例 5：没有 value，使用 defaultValue\r\n// const state5 = parseState({\r\n//   defaultValue: [new Date('2023-06-01'), new Date('2023-06-15')],\r\n//   mode: 'single',\r\n// });\r\n// console.log(state5);\r\n// // 输出: { value: [ 2023-06-01T00:00:00.000Z, 2023-06-15T00:00:00.000Z ] }\r\n// mode 'single' | 'multiple' | 'range';\r\nconst parseState = (props: {\r\n  value?: Date | Date[];\r\n  defaultValue?: Date | Date[];\r\n  mode: string;\r\n}) => {\r\n  const { defaultValue, mode } = props;\r\n  let { value } = props;\r\n\r\n  let tmpValue: Date[];\r\n\r\n  value = value || defaultValue;\r\n  value = Array.isArray(value) ? value : ((value ? [value] : []) as Date[]);\r\n  tmpValue = value\r\n    .map((item: Date) => dayjs(item).toDate())\r\n    .sort((item1: Date, item2: Date) => +item1 - +item2);\r\n  if (mode === 'range') {\r\n    tmpValue = [tmpValue[0], tmpValue[tmpValue.length - 1]];\r\n  }\r\n  return {\r\n    value: tmpValue,\r\n  };\r\n};\r\n\r\nexport default parseState;\r\n","import Calendar from './Calendar';\r\n\r\nexport type { CalendarProps, CalendarCssVars } from './Calendar';\r\n\r\nexport default Calendar;\r\n","import * as React from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseTabPanelProps } from './interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport type TabPanelProps = BaseTabPanelProps & HTMLProps;\r\n\r\nconst TabPanel = React.forwardRef<HTMLDivElement, TabPanelProps>((props, ref) => {\r\n  const { className, selected, children, style } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('tabs__panel', { prefixCls });\r\n\r\n  const cls = bem([{\r\n    active: selected,\r\n  }, className]);\r\n\r\n  return (\r\n    <div ref={ref} className={cls} style={style} role=\"tabpanel\">\r\n      {children}\r\n    </div>\r\n  );\r\n});\r\n\r\nTabPanel.displayName = 'TabPanel';\r\n\r\nTabPanel.defaultProps = {};\r\n\r\nexport default TabPanel;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport type { CarouselHTMLElement } from '../carousel';\r\nimport Carousel from '../carousel';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { useTypeChangeWarning } from '../utils/deprecationWarning';\r\nimport { scrollTo } from '../utils/dom';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseTabsProps } from './interface';\r\nimport type { TabPanelProps } from './TabPanel';\r\nimport TabPanel from './TabPanel';\r\nimport { getPxStyle, getTransformPropValue } from './util/index';\r\n\r\nconst getChildChecked = (children: TabPanelProps['children']) => {\r\n  let selectIndex;\r\n  React.Children.forEach(children, (item, index) => {\r\n    if (React.isValidElement(item) && item.props && item.props.selected) {\r\n      selectIndex = index;\r\n    }\r\n  });\r\n  return selectIndex;\r\n};\r\n\r\nconst parseValueBoundary = (\r\n  inputValue: TabsProps['value'],\r\n  children: TabPanelProps['children'],\r\n) => {\r\n  const count = React.Children.count(children);\r\n  if (inputValue! <= 0) {\r\n    return 0;\r\n  }\r\n  if (inputValue! > count - 1) {\r\n    return count - 1;\r\n  }\r\n  return inputValue;\r\n};\r\n\r\nconst getValue = (props: TabsProps, defaultValue: TabsProps['value']) => {\r\n  if (typeof props.value !== 'undefined') {\r\n    return parseValueBoundary(props.value, props.children);\r\n  }\r\n  if (typeof props.defaultValue !== 'undefined') {\r\n    return parseValueBoundary(props.defaultValue, props.children);\r\n  }\r\n  if (getChildChecked(props.children)) {\r\n    return parseValueBoundary(getChildChecked(props.children), props.children);\r\n  }\r\n  return parseValueBoundary(defaultValue, props.children);\r\n};\r\n\r\nexport interface TabsCssVars {\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--color'?: React.CSSProperties['color'];\r\n  '--color-disabled'?: React.CSSProperties['color'];\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--active-color'?: React.CSSProperties['color'];\r\n  '--active-line-height'?: React.CSSProperties['height'];\r\n  '--padding-horizontal'?: React.CSSProperties['left'];\r\n  '--padding-vertical'?: React.CSSProperties['top'];\r\n}\r\nexport type TabsProps = BaseTabsProps & HTMLProps<TabsCssVars>;\r\n\r\ninterface CompoundedComponent\r\n  extends React.ForwardRefExoticComponent<TabsProps & React.RefAttributes<HTMLDivElement>> {\r\n  Panel: typeof TabPanel;\r\n}\r\n\r\nconst Tabs = React.forwardRef<HTMLDivElement, TabsProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    style,\r\n    value,\r\n    defaultValue,\r\n    disabled,\r\n    swipeable,\r\n    scrollable,\r\n    direction,\r\n    lineWidth,\r\n    onChange,\r\n    children,\r\n  } = props;\r\n\r\n  // TODO: DeprecationWarning - remove this warning in next major version\r\n  useTypeChangeWarning(\r\n    ['vertical', 'horizontal'].includes(direction),\r\n    'Tabs',\r\n    'direction',\r\n    direction,\r\n    \"'top' | 'right' | 'bottom' | 'left'\",\r\n  );\r\n\r\n  const carouselRef = React.useRef<CarouselHTMLElement>(null);\r\n  const tablistRef = React.useRef<HTMLUListElement>(null);\r\n  const [itemWidth, setItemWidth] = React.useState(0);\r\n  const [currentValue, setCurrentValue] = React.useState(\r\n    getValue({ value, defaultValue, children }, 0),\r\n  );\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('tabs', { prefixCls });\r\n\r\n  // TODO: direction='vertical' 暂作兼容\r\n  const isVertical: boolean = ['left', 'right', 'vertical'].includes(direction);\r\n\r\n  const parseValue = React.useCallback(\r\n    (inputValue) => parseValueBoundary(inputValue, children),\r\n    [children],\r\n  );\r\n\r\n  const classes = bem([\r\n    {\r\n      [`${direction}`]: true,\r\n      scroll: scrollable,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  // 计算 line 大小和位置\r\n  const caclLineSizePos = () => {\r\n    const newValue = parseValue(currentValue)!;\r\n    const ChildCount = React.Children.count(children);\r\n\r\n    let pos = 100 * newValue;\r\n    if (scrollable && tablistRef.current) {\r\n      const el = tablistRef.current.children[newValue];\r\n      const { offsetLeft = 0, offsetTop = 0 } = el as HTMLElement;\r\n      pos = isVertical ? offsetTop : offsetLeft;\r\n    }\r\n\r\n    const size = scrollable ? `${itemWidth}px` : `${100 / ChildCount}%`;\r\n    const transformValue = scrollable\r\n      ? getPxStyle(pos, 'px', isVertical)\r\n      : getPxStyle(pos, '%', isVertical);\r\n    const styleUl = getTransformPropValue(transformValue);\r\n    const itemSize = isVertical ? { height: `${size}` } : { width: `${size}` };\r\n\r\n    return {\r\n      ...styleUl,\r\n      ...itemSize,\r\n    };\r\n  };\r\n\r\n  const onTabChange = React.useCallback(\r\n    (newValue: number) => {\r\n      if (typeof value === 'undefined') {\r\n        setCurrentValue(newValue);\r\n      }\r\n      typeof onChange === 'function' && onChange(newValue);\r\n    },\r\n    [value, onChange],\r\n  );\r\n\r\n  const onTabClick = (tab: React.ReactElement<TabPanelProps, typeof TabPanel>, index: number) => {\r\n    if (disabled || tab.props.disabled) {\r\n      return;\r\n    }\r\n    if (swipeable) {\r\n      carouselRef.current && carouselRef.current!.onSlideTo(index);\r\n      return;\r\n    }\r\n    onTabChange(index);\r\n  };\r\n\r\n  const lineStyle: React.CSSProperties = caclLineSizePos();\r\n  let lineInnerRender;\r\n  if (lineWidth) {\r\n    lineStyle.backgroundColor = 'transparent';\r\n    lineInnerRender = <span className={bem('line__inner')} style={{ width: lineWidth }} />;\r\n  }\r\n\r\n  // 渲染内容\r\n  let contentRender;\r\n  if (swipeable) {\r\n    contentRender = (\r\n      <Carousel\r\n        swipeable={!disabled}\r\n        direction={isVertical ? 'vertical' : 'horizontal'}\r\n        showPagination={false}\r\n        activeIndex={parseValue(currentValue)}\r\n        ref={carouselRef}\r\n        onChange={onTabChange}\r\n      >\r\n        {React.Children.map(children, (item: any, index: number) => (\r\n          <div key={+index}>{item.props.children}</div>\r\n        ))}\r\n      </Carousel>\r\n    );\r\n  } else {\r\n    contentRender = React.Children.map(\r\n      children,\r\n      (item: React.ReactElement<TabPanelProps, typeof TabPanel>, index: number) => (\r\n        <TabPanel {...item.props} selected={parseValue(currentValue) === index} />\r\n      ),\r\n    );\r\n  }\r\n\r\n  const renderTabs = (tab: React.ReactElement<TabPanelProps, typeof TabPanel>, index: number) => {\r\n    const itemCls = bem('tab', [\r\n      {\r\n        disabled: disabled || tab.props.disabled,\r\n        active: parseValue(currentValue) === index,\r\n      },\r\n      tab.props.className,\r\n    ]);\r\n\r\n    return (\r\n      <li role=\"tab\" key={+index} className={itemCls} onClick={() => onTabClick(tab, index)}>\r\n        {tab.props.title}\r\n      </li>\r\n    );\r\n  };\r\n\r\n  // 渲染选项\r\n  const tabsRender = React.Children.map(children, renderTabs);\r\n\r\n  const getItemStyle = (el, prop) => {\r\n    let newValue = '0';\r\n    if (prop in el.style) {\r\n      newValue = el.style[prop] || window.getComputedStyle(el).getPropertyValue(prop) || '0';\r\n    }\r\n    return newValue;\r\n  };\r\n\r\n  const calculateLineWidth = React.useCallback(() => {\r\n    if (!scrollable) {\r\n      return;\r\n    }\r\n    const newValue = parseValue(currentValue)!;\r\n    const el = tablistRef.current!.children[newValue];\r\n    const size = isVertical ? getItemStyle(el, 'height') : getItemStyle(el, 'width');\r\n\r\n    setItemWidth(parseInt(size.toString(), 10));\r\n  }, [parseValue, currentValue, isVertical, scrollable]);\r\n\r\n  const calculateScorllLeftLocation = React.useCallback(() => {\r\n    if (!scrollable) {\r\n      return false;\r\n    }\r\n    const newValue = parseValue(currentValue)!;\r\n\r\n    const prevTabItem = tablistRef.current!.childNodes[newValue] as HTMLElement;\r\n    if (scrollable && tablistRef.current && prevTabItem) {\r\n      const { offsetWidth: layoutOffsetWidth = 0, offsetHeight: layoutOffsetHeight = 0 } =\r\n        tablistRef.current;\r\n      const left = prevTabItem.offsetLeft + prevTabItem.offsetWidth / 2 - layoutOffsetWidth / 2;\r\n      const top = prevTabItem.offsetTop + prevTabItem.offsetHeight / 2 - layoutOffsetHeight / 2;\r\n\r\n      scrollTo(tablistRef.current, top, left, 0.3);\r\n    }\r\n  }, [parseValue, currentValue, scrollable]);\r\n\r\n  React.useEffect(() => {\r\n    if (React.Children.count(children)) {\r\n      calculateLineWidth();\r\n      calculateScorllLeftLocation();\r\n    }\r\n  }, [calculateLineWidth, calculateScorllLeftLocation, children]);\r\n\r\n  React.useEffect(() => {\r\n    setCurrentValue(getValue({ value, defaultValue, children }, 0));\r\n  }, [value, defaultValue, children]);\r\n\r\n  return (\r\n    <div ref={ref} className={classes} style={style}>\r\n      <div className={bem('header')}>\r\n        <ul className={bem('tablist')} role=\"tablist\" ref={tablistRef}>\r\n          {tabsRender}\r\n          <div className={bem('line')} style={lineStyle}>\r\n            {lineInnerRender}\r\n          </div>\r\n        </ul>\r\n      </div>\r\n      <div className={bem('body')}>{contentRender}</div>\r\n    </div>\r\n  );\r\n}) as CompoundedComponent;\r\n\r\nTabs.displayName = 'Tabs';\r\n\r\nTabs.defaultProps = {\r\n  disabled: false,\r\n  swipeable: false,\r\n  scrollable: false,\r\n  direction: 'top',\r\n};\r\n\r\nexport default Tabs;\r\n","import { useEffect } from 'react';\r\n\r\n/**\r\n * 自定义 Hook，用于在非生产环境下对废弃的 props 提示警告。\r\n * @param {string} componentName - 发生类型变更的组件名称。\r\n * @param {string} oldProp - 废弃的 prop 名称。\r\n * @param {string} newProp - 新的 prop 名称。\r\n */\r\nexport const useDeprecationWarning = (componentName, oldProp, newProp) => {\r\n  useEffect(() => {\r\n    if (process.env.NODE_ENV !== 'production' && oldProp !== undefined) {\r\n      console.warn(\r\n        `Warning: The prop \"${oldProp}\" will be deprecated. ` +\r\n          `you can use \"${newProp}\" instead.` +\r\n          `\\n\\nPlease update the following components: ${componentName}`,\r\n      );\r\n    }\r\n  }, [componentName, oldProp, newProp]);\r\n};\r\n\r\n/**\r\n * 自定义 Hook，用于在非生产环境下对类型变更的 props 提示警告。\r\n * @param {string} componentName - 发生类型变更的组件名称。\r\n * @param {string} propName - 发生类型变更的 prop 名称。\r\n * @param {string} propType - 传入的 prop 类型。\r\n * @param {string} expectedType - 预期的新类型（如 'object', 'number' 等）。\r\n */\r\nexport const useTypeChangeWarning = (\r\n  condition,\r\n  componentName,\r\n  propName,\r\n  propType,\r\n  expectedType,\r\n) => {\r\n  useEffect(() => {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (condition) {\r\n        console.warn(\r\n          `Warning: The prop \"${propName}\" is expected to be of type \"${expectedType}\", ` +\r\n            `but received type \"${propType}\". ` +\r\n            `\\n\\nPlease update the following components: ${componentName}`,\r\n        );\r\n      }\r\n    }\r\n  }, [condition, componentName, propName, propType, expectedType]);\r\n};\r\n","export function getTransformPropValue(v: any) {\r\n  return {\r\n    transform: v,\r\n    WebkitTransform: v,\r\n    MozTransform: v,\r\n  };\r\n}\r\n\r\nexport function getPxStyle(value: number | string, unit = 'px', vertical = false) {\r\n  value = vertical ? `0px, ${value}${unit}, 0px` : `${value}${unit}, 0px, 0px`;\r\n  return `translate3d(${value})`;\r\n}\r\n","import Tabs from './Tabs';\r\nimport TabPanel from './TabPanel';\r\n\r\nexport type { TabsProps, TabsCssVars } from './Tabs';\r\nexport type { TabPanelProps } from './TabPanel';\r\n\r\nTabs.Panel = TabPanel;\r\nexport default Tabs;\r\n","import { FieldNames } from '../picker-view/interface';\r\nimport { resolvedFieldNames } from '../picker-view/utils';\r\nimport type {\r\n  BaseCascaderViewProps,\r\n  CascaderItem,\r\n  CascaderOption,\r\n  CascaderValue,\r\n} from './interface';\r\n\r\nexport const parseState = (props: BaseCascaderViewProps) => {\r\n  const { value, defaultValue } = props;\r\n  const currentValue: CascaderValue[] = [];\r\n\r\n  return {\r\n    value: value || defaultValue,\r\n    currentValue,\r\n  };\r\n};\r\n\r\nexport const parseItems = (options: CascaderOption[], value: CascaderValue[], fieldNames?: Partial<FieldNames>) => {\r\n  const field = resolvedFieldNames(fieldNames);\r\n  const items: CascaderItem[] = [];\r\n  const traverse = (memo: CascaderOption[], depth = 0) => {\r\n    memo.forEach((option) => {\r\n      const children = option[field.children] as CascaderOption[] | undefined;\r\n      const currentValue = value[depth];\r\n      if (option[field.value] === currentValue) {\r\n        items[depth] = option;\r\n\r\n        if (Array.isArray(children) && children.length > 0) {\r\n          traverse(children, depth + 1);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  traverse(options);\r\n\r\n  return items;\r\n};\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, {\r\n  createRef,\r\n  forwardRef,\r\n  memo,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { resolvedFieldNames } from '../picker-view/utils';\r\nimport Radio from '../radio';\r\nimport Tabs from '../tabs';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type {\r\n  BaseCascaderViewProps,\r\n  CascaderItem,\r\n  CascaderOption,\r\n  CascaderValue,\r\n} from './interface';\r\nimport { parseItems, parseState } from './utils';\r\n\r\nexport interface CascaderViewCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--padding'?: React.CSSProperties['padding'];\r\n  '--tab-text-color'?: React.CSSProperties['color'];\r\n  '--tab-active-text-color'?: React.CSSProperties['color'];\r\n  '--options-height'?: React.CSSProperties['height'];\r\n  '--option-text-color'?: React.CSSProperties['color'];\r\n  '--option-active-text-color'?: React.CSSProperties['color'];\r\n  '--option-font-size'?: React.CSSProperties['fontSize'];\r\n  '--option-height'?: React.CSSProperties['height'];\r\n}\r\n\r\nexport type CascaderViewProps = BaseCascaderViewProps & HTMLProps<CascaderViewCssVars>;\r\n\r\nexport type CascaderViewState = ReturnType<typeof parseState> & {\r\n  tabIndex: number;\r\n};\r\n\r\nconst CascaderView = forwardRef<HTMLDivElement, CascaderViewProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    dataSource,\r\n    defaultValue,\r\n    value,\r\n    fieldNames: propsFieldNames,\r\n    cols,\r\n    itemRender,\r\n    onChange,\r\n    ...restProps\r\n  } = props;\r\n  const cascaderViewRef = ref || createRef<HTMLDivElement>();\r\n  const { prefixCls, locale: globalLocal } = useContext(ConfigContext);\r\n  const locale = globalLocal?.CascaderView;\r\n  const bem = createBEM('cascader-view', { prefixCls });\r\n  const tabsBem = createBEM('cascader-view-tabs', { prefixCls });\r\n  const cls = bem([className]);\r\n  const [state, setState] = useState<CascaderViewState>({ ...parseState(props), tabIndex: 0 });\r\n  const { currentValue, tabIndex } = state;\r\n  const fieldNames = resolvedFieldNames(propsFieldNames);\r\n\r\n  const handleObtainItem = useCallback(\r\n    (list: CascaderOption[], _value: CascaderValue) => {\r\n      return list.find((item) => item[fieldNames.value] === _value);\r\n    },\r\n    [fieldNames.value],\r\n  );\r\n\r\n  /**\r\n   * 初始化列表值\r\n   */\r\n  useEffect(() => {\r\n    const initValue: CascaderValue[] = [];\r\n    const v = value || defaultValue || [];\r\n\r\n    v.reduce((accumulator: CascaderOption[], _currentValue: CascaderValue) => {\r\n      const valueItem = handleObtainItem(accumulator, _currentValue);\r\n\r\n      if (valueItem) {\r\n        initValue.push(valueItem[fieldNames.value]);\r\n\r\n        return valueItem.children || [];\r\n      }\r\n\r\n      return [];\r\n    }, dataSource);\r\n\r\n    setState({\r\n      ...state,\r\n      currentValue: initValue,\r\n      tabIndex: initValue.length,\r\n    });\r\n  }, [dataSource, handleObtainItem, value, defaultValue]);\r\n\r\n  /**\r\n   * 获取列表数据\r\n   */\r\n  const columnDataList = useMemo(() => {\r\n    const group: { selected?: CascaderOption; options: CascaderOption[] }[] = [];\r\n    let _dataSource: CascaderOption[] = dataSource;\r\n    let i = 0;\r\n\r\n    while (_dataSource.length) {\r\n      const colVal = currentValue[i];\r\n\r\n      const selected = colVal ? handleObtainItem(_dataSource, colVal) : undefined;\r\n\r\n      group.push({\r\n        selected,\r\n        options: _dataSource,\r\n      });\r\n\r\n      const childrenData = ((selected ?? _dataSource[0]) || {}).children;\r\n\r\n      if (i < currentValue.length && childrenData && childrenData.length && i + 1 < cols!) {\r\n        _dataSource = childrenData;\r\n      } else {\r\n        _dataSource = [];\r\n      }\r\n\r\n      i += 1;\r\n    }\r\n\r\n    return group;\r\n  }, [cols, currentValue, dataSource, handleObtainItem, fieldNames]);\r\n\r\n  /**\r\n   * 修改列表值\r\n   * @param itemValue\r\n   * @param index\r\n   */\r\n  const handleChange = (itemValue: CascaderValue, index: number) => {\r\n    const _value = currentValue.slice(0, index);\r\n\r\n    if (itemValue !== undefined) {\r\n      _value[index] = itemValue;\r\n    }\r\n\r\n    const items = parseItems(dataSource, _value, fieldNames);\r\n\r\n    setState({\r\n      ...state,\r\n      currentValue: _value,\r\n      tabIndex: typeof index === 'number' ? index + 1 : tabIndex,\r\n    });\r\n\r\n    onChange?.(_value, items);\r\n  };\r\n\r\n  /**\r\n   * 判断是否有传入 itemRender， 否则使用默认的渲染方式\r\n   * @param item\r\n   */\r\n  const handleItemRender = (item: CascaderItem) => {\r\n    return typeof itemRender !== 'function' ? item[fieldNames.label] : itemRender(item);\r\n  };\r\n\r\n  return (\r\n    <div className={cls} ref={cascaderViewRef} {...restProps}>\r\n      <Tabs\r\n        swipeable\r\n        scrollable\r\n        defaultValue={tabIndex}\r\n        onChange={(i) => setState({ ...state, tabIndex: i })}\r\n        className={tabsBem('')}\r\n        lineWidth={60}\r\n      >\r\n        {columnDataList.map((group, index) => {\r\n          const groupActiveItemDisplay = group.selected?.[fieldNames.label];\r\n          const panelTitle = (\r\n            <span className={bem('tab-text', [{ unselected: !groupActiveItemDisplay }])}>\r\n              {groupActiveItemDisplay ?? locale!.unselectedTabText}\r\n            </span>\r\n          );\r\n\r\n          return (\r\n            <Tabs.Panel key={+index} title={panelTitle}>\r\n              <div className={bem('content')}>\r\n                <Radio.Group\r\n                  type=\"list\"\r\n                  listIconAlign=\"after\"\r\n                  value={currentValue[index]}\r\n                  onChange={(v) => handleChange(v, index)}\r\n                >\r\n                  {group.options.map((item, i) => {\r\n                    const isActive = currentValue[index] === item[fieldNames.value];\r\n                    const label = handleItemRender(item);\r\n\r\n                    return (\r\n                      <Radio\r\n                        key={`${label}${+i}`}\r\n                        className={bem('content-item', [\r\n                          {\r\n                            active: isActive,\r\n                          },\r\n                        ])}\r\n                        value={item[fieldNames.value]}\r\n                      >\r\n                        {label}\r\n                      </Radio>\r\n                    );\r\n                  })}\r\n                </Radio.Group>\r\n              </div>\r\n            </Tabs.Panel>\r\n          );\r\n        })}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n});\r\n\r\nCascaderView.displayName = 'CascaderView';\r\n\r\nCascaderView.defaultProps = {\r\n  cols: Infinity,\r\n};\r\n\r\nexport default memo(CascaderView);\r\n","import CascaderView from './CascaderView';\r\n\r\nexport type { CascaderViewProps, CascaderViewCssVars } from './CascaderView';\r\nexport default CascaderView;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\n// Popup\r\nimport Popup from '../popup';\r\n// SafeArea\r\nimport SafeArea from '../safe-area';\r\nimport { noop } from '../utils';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BasePickerContainerProps } from './interface';\r\n\r\nexport interface PickerContainerCssVars {\r\n  '--header-height': React.CSSProperties['height'];\r\n  '--header-font-size': React.CSSProperties['fontSize'];\r\n  '--header-background': React.CSSProperties['background'];\r\n  '--header-title-text-color': React.CSSProperties['color'];\r\n  '--header-submit-text-color': React.CSSProperties['color'];\r\n  '--header-cancel-text-color': React.CSSProperties['color'];\r\n}\r\n\r\nexport type PickerContainerProps = BasePickerContainerProps & HTMLProps<PickerContainerCssVars>;\r\n\r\nconst PickerContainer = React.forwardRef<HTMLDivElement, PickerContainerProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    style,\r\n    visible,\r\n    title,\r\n    confirmText,\r\n    cancelText,\r\n    maskClosable,\r\n    forceRender,\r\n    destroy,\r\n    safeArea,\r\n    mountContainer,\r\n    onConfirm,\r\n    onCancel,\r\n    onClose,\r\n    afterOpen,\r\n    afterClose,\r\n    children,\r\n  } = props;\r\n  const { prefixCls, locale, safeArea: globalSafeArea } = React.useContext(ConfigContext);\r\n  const bem = createBEM('picker', { prefixCls });\r\n\r\n  return (\r\n    <Popup\r\n      ref={ref}\r\n      visible={visible}\r\n      onMaskClick={maskClosable ? onClose : noop}\r\n      mountContainer={mountContainer}\r\n      forceRender={forceRender}\r\n      destroy={destroy}\r\n      afterOpen={afterOpen}\r\n      afterClose={afterClose}\r\n    >\r\n      <div\r\n        className={bem('', [className])}\r\n        style={style}\r\n        onClick={(event) => {\r\n          event.stopPropagation();\r\n        }}\r\n      >\r\n        <div className={bem('header')}>\r\n          <div className={bem('cancel')} onClick={() => onCancel?.()}>\r\n            {cancelText || locale?.Picker.cancelText}\r\n          </div>\r\n          <div className={bem('title')}>{title || locale?.Picker.title}</div>\r\n          <div className={bem('confirm')} onClick={() => onConfirm?.()}>\r\n            {confirmText || locale?.Picker.confirmText}\r\n          </div>\r\n        </div>\r\n        <div className={bem('body')}>{children}</div>\r\n        {(safeArea ?? globalSafeArea) && <SafeArea position=\"bottom\" />}\r\n      </div>\r\n    </Popup>\r\n  );\r\n});\r\n\r\nexport default PickerContainer;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, { createRef, forwardRef, useCallback, useContext, useState } from 'react';\r\nimport type { PickerContainerCssVars } from '../picker/Container';\r\nimport CascaderView from '../cascader-view';\r\nimport { parseItems, parseState } from '../cascader-view/utils';\r\nimport { ConfigContext } from '../config-provider';\r\nimport PickerContainer from '../picker/Container';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseCascaderProps } from './interface';\r\n\r\nexport type CascaderProps = BaseCascaderProps & HTMLProps<PickerContainerCssVars>;\r\n\r\nexport type CascaderState = ReturnType<typeof parseState>;\r\n\r\nconst Cascader = forwardRef<HTMLDivElement, CascaderProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    style,\r\n    title,\r\n    visible,\r\n    value,\r\n    defaultValue,\r\n    fieldNames,\r\n    dataSource,\r\n    cols,\r\n    itemRender,\r\n    mountContainer,\r\n    safeArea,\r\n    maskClosable,\r\n    confirmText,\r\n    cancelText,\r\n    onConfirm,\r\n    onCancel,\r\n    onChange,\r\n    afterOpen,\r\n    afterClose,\r\n  } = props;\r\n  const cascaderViewRef = createRef<HTMLDivElement>();\r\n  const [state, setState] = useState<CascaderState>({ ...parseState(props) });\r\n  const { prefixCls, locale } = useContext(ConfigContext);\r\n\r\n  const bem = createBEM('cascader', { prefixCls });\r\n\r\n  const handleConfirm = () => {\r\n    const items = parseItems(dataSource, state.value, fieldNames);\r\n    onConfirm?.(state.value, items);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    onCancel?.();\r\n  };\r\n\r\n  const onValueChange = useCallback(\r\n    (newValue, items) => {\r\n      setState((prevState) => ({\r\n        ...prevState,\r\n        value: newValue,\r\n      }));\r\n      onChange?.(newValue, items);\r\n    },\r\n    [onChange],\r\n  );\r\n\r\n  return (\r\n    <PickerContainer\r\n      ref={ref}\r\n      className={bem([className])}\r\n      style={style}\r\n      title={title || locale?.Cascader.title}\r\n      confirmText={confirmText || locale?.Cascader.confirmText}\r\n      cancelText={cancelText || locale?.Cascader.cancelText}\r\n      visible={visible}\r\n      maskClosable={maskClosable}\r\n      mountContainer={mountContainer}\r\n      safeArea={safeArea}\r\n      onConfirm={handleConfirm}\r\n      onCancel={handleCancel}\r\n      onClose={handleCancel}\r\n      afterOpen={afterOpen}\r\n      afterClose={afterClose}\r\n    >\r\n      <CascaderView\r\n        ref={cascaderViewRef}\r\n        value={value}\r\n        defaultValue={defaultValue}\r\n        fieldNames={fieldNames}\r\n        dataSource={dataSource}\r\n        cols={cols}\r\n        itemRender={itemRender}\r\n        onChange={onValueChange}\r\n      />\r\n    </PickerContainer>\r\n  );\r\n});\r\n\r\nCascader.displayName = 'Cascader';\r\n\r\nCascader.defaultProps = {\r\n  maskClosable: true,\r\n};\r\n\r\nexport default Cascader;\r\n","import attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\nimport Cascader from './Cascader';\r\nimport { prompt } from './prompt';\r\n\r\nexport type { CascaderProps } from './Cascader';\r\n\r\nexport default attachPropertiesToComponent(Cascader, { prompt });\r\n","import * as React from 'react';\r\nimport { CascaderValue } from '../cascader-view/interface';\r\nimport { renderImperatively } from '../utils/dom';\r\nimport type { CascaderProps } from './Cascader';\r\nimport Cascader from './Cascader';\r\n\r\nexport interface CascaderPromptValue {\r\n  value: CascaderValue[];\r\n}\r\n\r\nexport const prompt = (props: Omit<CascaderProps, 'value' | 'visible' | 'children'>) => {\r\n  return new Promise<CascaderPromptValue>((resolve) => {\r\n    const { close } = renderImperatively(\r\n      <Cascader\r\n        {...props}\r\n        onConfirm={(value, items) => {\r\n          props.onConfirm?.(value, items);\r\n          close();\r\n          resolve({ value });\r\n        }}\r\n        onCancel={() => {\r\n          props.onCancel?.();\r\n          close();\r\n          resolve({ value: null });\r\n        }}\r\n      />,\r\n    );\r\n  });\r\n};\r\n","import { createContext } from 'react';\r\nimport type { CheckboxGroupProps, CheckboxProps } from '.';\r\n\r\nexport const CheckboxGroupContext = createContext<{\r\n  type: CheckboxGroupProps['type'];\r\n  value: CheckboxGroupProps['value'];\r\n  block: boolean;\r\n  disabled: boolean;\r\n  iconAlign: CheckboxGroupProps['iconAlign'];\r\n  check: (value: CheckboxProps['value']) => void;\r\n  uncheck: (value: CheckboxProps['value']) => void;\r\n}>(null);\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport { Minus as MinusIcon, Success as SuccessIcon } from '@zarm-design/icons';\r\nimport includes from 'lodash/includes';\r\nimport React, {\r\n  ChangeEvent,\r\n  forwardRef,\r\n  ReactNode,\r\n  useContext,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport Button from '../button';\r\nimport { ConfigContext } from '../config-provider';\r\nimport List from '../list';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport { CheckboxGroupContext } from './context';\r\nimport type { BaseCheckboxProps } from './interface';\r\n\r\nexport interface CheckboxCssVars {\r\n  '--icon-size'?: React.CSSProperties['height'];\r\n  '--icon-background'?: React.CSSProperties['background'];\r\n  '--icon-border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--icon-border-width'?: React.CSSProperties['borderWidth'];\r\n  '--icon-border-color'?: React.CSSProperties['borderColor'];\r\n  '--tick-font-size'?: React.CSSProperties['fontSize'];\r\n  '--tick-color'?: React.CSSProperties['color'];\r\n  '--tick-transition'?: React.CSSProperties['transition'];\r\n  '--text-margin-horizontal'?: React.CSSProperties['marginLeft'];\r\n  '--active-opacity'?: React.CSSProperties['opacity'];\r\n  '--checked-icon-background'?: React.CSSProperties['background'];\r\n  '--checked-icon-border-color'?: React.CSSProperties['borderColor'];\r\n  '--checked-tick-color'?: React.CSSProperties['color'];\r\n  '--disabled-icon-background'?: React.CSSProperties['background'];\r\n  '--disabled-icon-border-color'?: React.CSSProperties['borderColor'];\r\n  '--disabled-text-color'?: React.CSSProperties['color'];\r\n  '--disabled-tick-color'?: React.CSSProperties['color'];\r\n  '--group-spacing-vertical'?: React.CSSProperties['marginBottom'];\r\n  '--group-spacing-horizontal'?: React.CSSProperties['marginRight'];\r\n}\r\n\r\nexport type CheckboxProps = BaseCheckboxProps &\r\n  HTMLProps<CheckboxCssVars> & {\r\n    renderIcon?: (props: CheckboxProps) => ReactNode;\r\n    render?: (props: CheckboxProps) => ReactNode;\r\n    onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\r\n  };\r\n\r\nconst getChecked = (props: CheckboxProps, defaultChecked?: boolean) => {\r\n  return props.checked ?? props.defaultChecked ?? defaultChecked;\r\n};\r\n\r\nexport interface CheckboxRef {\r\n  check: () => void;\r\n  uncheck: () => void;\r\n  toggle: () => void;\r\n};\r\n\r\nconst Checkbox = forwardRef<CheckboxRef, CheckboxProps>((props, ref) => {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  let [checked, setChecked] = useState(getChecked(props, false));\r\n  let { disabled } = props;\r\n\r\n  const groupContext = useContext(CheckboxGroupContext);\r\n  if (groupContext && props.value !== undefined) {\r\n    checked = includes(groupContext.value, props.value);\r\n    setChecked = (changedChecked: boolean) => {\r\n      if (changedChecked) {\r\n        groupContext.check(props.value);\r\n      } else {\r\n        groupContext.uncheck(props.value);\r\n      }\r\n    };\r\n    disabled = disabled || groupContext.disabled;\r\n  }\r\n\r\n  const { prefixCls } = useContext(ConfigContext);\r\n  const bem = createBEM('checkbox', { prefixCls });\r\n  const cls = bem([\r\n    {\r\n      disabled,\r\n      checked: checked && !props.indeterminate,\r\n      untext: !props.children,\r\n      indeterminate: props.indeterminate,\r\n    },\r\n    props.className,\r\n  ]);\r\n\r\n  const currentProps = { ...props, checked };\r\n\r\n  const textRender = props.children && <span className={bem('text')}>{props.children}</span>;\r\n\r\n  const iconRender = (\r\n    <span className={bem('icon')}>\r\n      {props.renderIcon ? (\r\n        props.renderIcon(currentProps)\r\n      ) : (\r\n        <span className={bem('tick')}>{props.indeterminate ? <MinusIcon /> : <SuccessIcon />}</span>\r\n      )}\r\n    </span>\r\n  );\r\n\r\n  const inputRender = (\r\n    <input\r\n      ref={inputRef}\r\n      id={props.id}\r\n      type=\"checkbox\"\r\n      className={bem('input')}\r\n      aria-checked={checked}\r\n      disabled={disabled}\r\n      value={props.value}\r\n      checked={checked}\r\n      onChange={(e: ChangeEvent<HTMLInputElement>) => {\r\n        if (disabled) return;\r\n\r\n        if (!('checked' in props)) {\r\n          setChecked(e.target.checked);\r\n        }\r\n        props.onChange?.(e);\r\n      }}\r\n    />\r\n  );\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      check: () => {\r\n        if (checked) return;\r\n        inputRef.current.click();\r\n      },\r\n      uncheck: () => {\r\n        if (!checked) return;\r\n        inputRef.current.click();\r\n      },\r\n      toggle: () => {\r\n        inputRef.current.click();\r\n      },\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.checked === undefined) return;\r\n    if (props.checked === checked) return;\r\n\r\n    setChecked(getChecked({ checked: props.checked, defaultChecked: props.defaultChecked }, false));\r\n  }, [props.checked, props.defaultChecked]);\r\n\r\n  if (groupContext?.type === 'button') {\r\n    return (\r\n      <label className={cls} style={props.style}>\r\n        {inputRender}\r\n        <Button\r\n          disabled={disabled}\r\n          theme={checked ? 'primary' : 'default'}\r\n          size=\"xs\"\r\n          block={groupContext?.block}\r\n          onClick={() => {\r\n            inputRef.current.click();\r\n          }}\r\n        >\r\n          {props.children}\r\n        </Button>\r\n      </label>\r\n    );\r\n  }\r\n\r\n  if (groupContext?.type === 'list') {\r\n    const tickRender = (\r\n      <>\r\n        {inputRender}\r\n        {iconRender}\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <List.Item\r\n        hasArrow={false}\r\n        className={cls}\r\n        style={props.style}\r\n        prefix={groupContext?.iconAlign === 'before' ? tickRender : undefined}\r\n        suffix={groupContext?.iconAlign === 'after' ? tickRender : undefined}\r\n        title={textRender}\r\n        onClick={\r\n          !disabled\r\n            ? () => {\r\n                if (disabled) return;\r\n                inputRef.current.click();\r\n              }\r\n            : undefined\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  const contentRender = props.render ? (\r\n    props.render(currentProps)\r\n  ) : (\r\n    <>\r\n      {iconRender}\r\n      {textRender}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <label className={cls} style={props.style}>\r\n      {inputRender}\r\n      {contentRender}\r\n    </label>\r\n  );\r\n});\r\n\r\nCheckbox.displayName = 'Checkbox';\r\n\r\nCheckbox.defaultProps = {\r\n  indeterminate: false,\r\n};\r\n\r\nexport default Checkbox;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, { FC, useContext, useEffect, useState } from 'react';\r\nimport isEqual from 'lodash/isEqual';\r\nimport { ConfigContext } from '../config-provider';\r\nimport List from '../list';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport { CheckboxGroupContext } from './context';\r\nimport type { BaseCheckboxGroupProps, CheckboxValue } from './interface';\r\n\r\nexport interface CheckboxGroupCssVars {\r\n  '--group-spacing-vertical'?: React.CSSProperties['marginBottom'];\r\n  '--group-spacing-horizontal'?: React.CSSProperties['marginRight'];\r\n}\r\n\r\nconst getValue = (props: CheckboxGroupProps, defaultValue?: CheckboxValue[]) => {\r\n  return props.value ?? props.defaultValue ?? defaultValue;\r\n};\r\n\r\nexport type CheckboxGroupProps = BaseCheckboxGroupProps & HTMLProps<CheckboxGroupCssVars>;\r\n\r\nconst CheckboxGroup: FC<CheckboxGroupProps> = (props) => {\r\n  const [value, setValue] = useState(getValue(props, []));\r\n  const { type, block, disabled, iconAlign, className, style } = props;\r\n  const { prefixCls } = useContext(ConfigContext);\r\n\r\n  const bem = createBEM('checkbox-group', { prefixCls });\r\n  const cls = bem([\r\n    {\r\n      [`${type}`]: !!type,\r\n      block,\r\n      disabled,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (props.value === undefined) return;\r\n    if (isEqual(props.value, value)) return;\r\n\r\n    setValue(getValue(props, []));\r\n  }, [props.value]);\r\n\r\n  return (\r\n    <CheckboxGroupContext.Provider\r\n      value={{\r\n        value,\r\n        type,\r\n        block,\r\n        disabled,\r\n        iconAlign,\r\n        check: (v) => {\r\n          const values = [...value, v];\r\n          setValue(values);\r\n          props.onChange?.(values);\r\n        },\r\n        uncheck: (v) => {\r\n          const values = value.filter((item) => item !== v);\r\n          setValue(values);\r\n          props.onChange?.(values);\r\n        },\r\n      }}\r\n    >\r\n      <div className={cls} style={style}>\r\n        <div className={bem('inner')}>\r\n          {type === 'list' ? <List>{props.children}</List> : props.children}\r\n        </div>\r\n      </div>\r\n    </CheckboxGroupContext.Provider>\r\n  );\r\n};\r\n\r\nCheckboxGroup.displayName = 'CheckboxGroup';\r\n\r\nCheckboxGroup.defaultProps = {\r\n  block: false,\r\n  disabled: false,\r\n  iconAlign: 'before',\r\n};\r\n\r\nexport default CheckboxGroup;\r\n","import attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\nimport Checkbox from './Checkbox';\r\nimport Group from './CheckboxGroup';\r\n\r\nexport type { CheckboxCssVars, CheckboxProps, CheckboxRef } from './Checkbox';\r\nexport type { CheckboxGroupCssVars, CheckboxGroupProps } from './CheckboxGroup';\r\n\r\nexport default attachPropertiesToComponent(Checkbox, { Group });\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport includes from 'lodash/includes';\r\nimport React, { Children, cloneElement, ReactElement, useState } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport CollapseItem, { CollapseItemProps } from './CollapseItem';\r\nimport type { BaseCollapseProps, CollapseActiveKey, CollapseItemKey } from './interface';\r\n\r\nexport interface CollapseCssVars {\r\n  '--border-color'?: React.CSSProperties['color'];\r\n  '--arrow-color'?: React.CSSProperties['color'];\r\n  '--arrow-size'?: React.CSSProperties['width'];\r\n  '--arrow-width'?: React.CSSProperties['width'];\r\n  '--arrow-disabled-color'?: React.CSSProperties['color'];\r\n  '--header-height'?: React.CSSProperties['height'];\r\n  '--header-padding-horizontal'?: React.CSSProperties['left'];\r\n  '--header-padding-vertical'?: React.CSSProperties['top'];\r\n  '--header-disable-color'?: React.CSSProperties['color'];\r\n  '--content-color'?: React.CSSProperties['color'];\r\n  '--content-padding-vertical'?: React.CSSProperties['top'];\r\n  '--content-padding-horizontal'?: React.CSSProperties['left'];\r\n}\r\n\r\nexport type CollapseProps = BaseCollapseProps & React.PropsWithChildren<HTMLProps<CollapseCssVars>>;\r\n\r\ninterface CompoundedComponent\r\n  extends React.ForwardRefExoticComponent<CollapseProps & React.RefAttributes<HTMLElement>> {\r\n  Item: typeof CollapseItem;\r\n}\r\n\r\nconst getActiveKey = (props) => {\r\n  const { multiple, activeKey, defaultActiveKey, hasActiveKeys } = props;\r\n  let value;\r\n\r\n  if (typeof activeKey !== 'undefined') {\r\n    value = activeKey;\r\n  }\r\n  if (!hasActiveKeys && typeof defaultActiveKey !== 'undefined') {\r\n    value = defaultActiveKey;\r\n  }\r\n  if (value) {\r\n    return multiple ? [].concat(value) : value;\r\n  }\r\n\r\n  return multiple ? [] : undefined;\r\n};\r\n\r\nconst Collapse = React.forwardRef<unknown, CollapseProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    onChange,\r\n    animated,\r\n    activeKey,\r\n    defaultActiveKey,\r\n    children,\r\n    multiple,\r\n    ...rest\r\n  } = props;\r\n\r\n  const hasActiveKeys = 'activeKey' in props;\r\n  const collapseRef = (ref as any) || React.createRef<HTMLElement>();\r\n  const [activeKeyState, setActiveKey] = useState<CollapseActiveKey>(\r\n    getActiveKey({ multiple, activeKey, defaultActiveKey, hasActiveKeys }),\r\n  );\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('collapse', { prefixCls });\r\n\r\n  const onItemChange = (onItemChangeProps, key) => {\r\n    if (!key) {\r\n      return;\r\n    }\r\n\r\n    let isActive;\r\n    let newActiveKey;\r\n    let tempActiveKey = activeKeyState;\r\n\r\n    if (multiple) {\r\n      newActiveKey = [];\r\n      tempActiveKey = (tempActiveKey as CollapseItemKey[]) || [];\r\n\r\n      if (includes(tempActiveKey, key)) {\r\n        newActiveKey = tempActiveKey.filter((i) => i !== key);\r\n      } else {\r\n        newActiveKey = [...tempActiveKey, key];\r\n      }\r\n      isActive = includes(newActiveKey, key);\r\n    } else {\r\n      tempActiveKey = tempActiveKey as CollapseItemKey;\r\n      newActiveKey = tempActiveKey === key ? undefined : key;\r\n      isActive = tempActiveKey === key;\r\n    }\r\n    if (!('activeKey' in props)) {\r\n      setActiveKey(newActiveKey);\r\n    }\r\n    typeof onItemChangeProps === 'function' && onItemChangeProps(isActive);\r\n    typeof onChange === 'function' && onChange(newActiveKey);\r\n  };\r\n\r\n  const renderItems = () => {\r\n    return Children.map(children, (ele: ReactElement<CollapseItemProps>) => {\r\n      const { disabled, onChange: itemOnChange } = ele.props;\r\n      const { key } = ele;\r\n      const isActive = multiple\r\n        ? includes((activeKeyState as CollapseItemKey[]) || [], key!)\r\n        : (activeKeyState as CollapseItemKey) === key;\r\n      return cloneElement(ele, {\r\n        animated,\r\n        isActive,\r\n        onChange: () => !disabled && onItemChange(itemOnChange, key),\r\n      });\r\n    });\r\n  };\r\n\r\n  const cls = bem([{ animated }, className]);\r\n\r\n  React.useEffect(() => {\r\n    setActiveKey(getActiveKey({ multiple, activeKey, defaultActiveKey, hasActiveKeys }));\r\n  }, [multiple, activeKey, defaultActiveKey, hasActiveKeys]);\r\n\r\n  return (\r\n    <div className={cls} {...rest} ref={collapseRef}>\r\n      {renderItems()}\r\n    </div>\r\n  );\r\n}) as CompoundedComponent;\r\n\r\nCollapse.displayName = 'Collapse';\r\n\r\nCollapse.defaultProps = {\r\n  multiple: false,\r\n  animated: false,\r\n};\r\n\r\nexport default Collapse;\r\n","import React, { HTMLAttributes } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport type { BaseCollapseItemProps } from './interface';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { useSafeLayoutEffect } from '../utils/hooks';\r\n\r\nexport type CollapseItemProps = Omit<HTMLAttributes<HTMLDivElement>, 'key' | 'title' | 'onChange'> &\r\n  BaseCollapseItemProps;\r\n\r\nconst CollapseItem = React.forwardRef<unknown, CollapseItemProps>((props, ref) => {\r\n  const { title, className, disabled, animated, isActive, children, onChange, ...rest } = props;\r\n\r\n  const content = (ref as any) || React.createRef<HTMLElement>();\r\n  const collapseItemRef = (ref as any) || React.createRef<HTMLElement>();\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('collapse-item', { prefixCls });\r\n\r\n  const onClickItem = () => {\r\n    if (disabled) return;\r\n    typeof onChange === 'function' && onChange(isActive!);\r\n  };\r\n\r\n  const getContentHeight = (ele) => {\r\n    const contentChildren = [...ele.children];\r\n    return contentChildren.reduce((res, next) => {\r\n      res += next.offsetHeight;\r\n      return res;\r\n    }, 0);\r\n  };\r\n\r\n  const setStyle = React.useCallback(() => {\r\n    if (!content.current) return;\r\n    content.current.style.height = isActive ? `${getContentHeight(content.current)}px` : '0px';\r\n  }, [content, isActive]);\r\n\r\n  const cls = bem([\r\n    {\r\n      active: isActive,\r\n      disabled,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  useSafeLayoutEffect(() => {\r\n    setStyle();\r\n  }, [setStyle]);\r\n\r\n  return (\r\n    <div className={cls} {...rest} ref={collapseItemRef}>\r\n      <div className={bem('header')} onClick={onClickItem}>\r\n        <div className={bem('title')}>{title}</div>\r\n        <div className={bem('arrow')} />\r\n      </div>\r\n      <div className={bem('content')} ref={content}>\r\n        <div className={bem('content__inner')}>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nCollapseItem.displayName = 'CollapseItem';\r\n\r\nCollapseItem.defaultProps = {\r\n  animated: false,\r\n  disabled: false,\r\n};\r\n\r\nexport default CollapseItem;\r\n","import Collapse from './Collapse';\r\nimport CollapseItem from './CollapseItem';\r\n\r\nCollapse.Item = CollapseItem;\r\n\r\nexport type { CollapseProps, CollapseCssVars } from './Collapse';\r\nexport type { CollapseItemProps } from './CollapseItem';\r\n\r\nexport default Collapse;\r\n","import { useRef } from 'react';\r\n/**\r\n * 保存最新的值在ref中\r\n *\r\n * @template T\r\n * @param {T} value\r\n * @return {*}\r\n */\r\nfunction useLatest<T>(value: T) {\r\n  const ref = useRef(value);\r\n  ref.current = value;\r\n\r\n  return ref;\r\n}\r\n\r\nexport default useLatest;\r\n","import type { MouseEvent, TouchEvent } from 'react';\r\nimport { useCallback, useRef } from 'react';\r\nimport Events from '../utils/events';\r\nimport { useLatest } from '../utils/hooks';\r\n\r\ntype TouchOrMouseEvent = TouchEvent | MouseEvent;\r\n\r\nexport interface UseLongPressProps {\r\n  isPreventDefault?: boolean;\r\n  delay?: number;\r\n  onLongPress?: (event: TouchOrMouseEvent) => void;\r\n  onPress?: (event: TouchOrMouseEvent) => void;\r\n  onClear?: (event: TouchOrMouseEvent) => void;\r\n}\r\n\r\nconst isTouchEvent = (ev: TouchOrMouseEvent | Event): ev is TouchEvent => {\r\n  return 'touches' in ev;\r\n};\r\n\r\nconst preventDefault = (ev: TouchOrMouseEvent | Event) => {\r\n  if (!isTouchEvent(ev)) return;\r\n\r\n  if (ev.touches.length < 2 && ev.preventDefault) {\r\n    ev.preventDefault();\r\n  }\r\n};\r\n\r\nconst useLongPress = ({\r\n  isPreventDefault = true,\r\n  delay = 300,\r\n  ...restProps\r\n}: UseLongPressProps) => {\r\n  const { onLongPress, onPress, onClear } = restProps;\r\n\r\n  const timeout = useRef(0);\r\n  const target = useRef<EventTarget>();\r\n  const onLongPressRef = useLatest(onLongPress);\r\n  const onPressRef = useLatest(onPress);\r\n  const onClearRef = useLatest(onClear);\r\n  const startedRef = useRef(false);\r\n\r\n  const start = useCallback(\r\n    (event: MouseEvent | TouchEvent) => {\r\n      // prevent ghost click on mobile devices\r\n      if (isPreventDefault && event.target instanceof Element) {\r\n        Events.on(event.target, 'touchend', preventDefault, { passive: false });\r\n        target.current = event.target;\r\n      }\r\n\r\n      if (typeof onPressRef.current === 'function') {\r\n        onPressRef.current(event);\r\n      }\r\n\r\n      if (typeof onLongPressRef.current === 'function') {\r\n        timeout.current = window.setTimeout(() => {\r\n          onLongPressRef.current!(event);\r\n        }, delay);\r\n      }\r\n\r\n      startedRef.current = true;\r\n    },\r\n    [delay, isPreventDefault],\r\n  );\r\n\r\n  const clear = useCallback(\r\n    (event) => {\r\n      if (!startedRef.current) {\r\n        return;\r\n      }\r\n      // clearTimeout and removeEventListener\r\n      if (timeout.current) {\r\n        window.clearTimeout(timeout.current);\r\n      }\r\n\r\n      if (typeof onClearRef.current === 'function') {\r\n        onClearRef.current(event);\r\n      }\r\n\r\n      if (isPreventDefault && target.current instanceof Element) {\r\n        Events.off(target.current, 'touchend', preventDefault);\r\n      }\r\n    },\r\n    [isPreventDefault],\r\n  );\r\n\r\n  return {\r\n    onTouchStart: start,\r\n    onTouchEnd: clear,\r\n    onMouseDown: start,\r\n    onMouseUp: clear,\r\n    onMouseLeave: clear,\r\n  };\r\n};\r\n\r\nexport default useLongPress;\r\n","import type { BaseKeyBoardProps, KeyBoardDataSource } from './interface';\r\n\r\nconst KeysConfig = {\r\n  number: {\r\n    columns: 4,\r\n    keys: [\r\n      '1',\r\n      '2',\r\n      '3',\r\n      {\r\n        text: 'delete',\r\n        rowSpan: 2,\r\n      },\r\n      '4',\r\n      '5',\r\n      '6',\r\n      '7',\r\n      '8',\r\n      '9',\r\n      {\r\n        text: 'ok',\r\n        rowSpan: 2,\r\n      },\r\n      '',\r\n      '0',\r\n      'close',\r\n    ],\r\n  },\r\n  price: {\r\n    columns: 4,\r\n    keys: [\r\n      '1',\r\n      '2',\r\n      '3',\r\n      {\r\n        text: 'delete',\r\n        rowSpan: 2,\r\n      },\r\n      '4',\r\n      '5',\r\n      '6',\r\n      '7',\r\n      '8',\r\n      '9',\r\n      {\r\n        text: 'ok',\r\n        rowSpan: 2,\r\n      },\r\n      '.',\r\n      '0',\r\n      'close',\r\n    ],\r\n  },\r\n  idcard: {\r\n    columns: 4,\r\n    keys: [\r\n      '1',\r\n      '2',\r\n      '3',\r\n      {\r\n        text: 'delete',\r\n        rowSpan: 2,\r\n      },\r\n      '4',\r\n      '5',\r\n      '6',\r\n      '7',\r\n      '8',\r\n      '9',\r\n      {\r\n        text: 'ok',\r\n        rowSpan: 2,\r\n      },\r\n      'X',\r\n      '0',\r\n      'close',\r\n    ],\r\n  },\r\n} as Record<BaseKeyBoardProps['type'], KeyBoardDataSource>;\r\n\r\nexport default KeysConfig;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport { DeleteKey as DeleteKeyIcon, Keyboard as KeyboardIcon } from '@zarm-design/icons';\r\nimport React, { CSSProperties, forwardRef, useContext, useRef, ReactNode, useCallback } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport useLongPress from '../use-long-press';\r\nimport { useLatest } from '../utils/hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport BuildInConfig from './BuildInConfig';\r\nimport type { BaseKeyBoardProps, KeyBoardKey } from './interface';\r\n\r\nexport interface KeyboardCssVars {\r\n  '--background'?: CSSProperties['background'];\r\n  '--item-background'?: CSSProperties['background'];\r\n  '--item-active-background'?: CSSProperties['background'];\r\n  '--item-gap'?: CSSProperties['gap'];\r\n  '--item-height'?: CSSProperties['height'];\r\n  '--item-font-size'?: CSSProperties['fontSize'];\r\n  '--item-border-radius'?: CSSProperties['borderRadius'];\r\n  '--item-box-shadow'?: CSSProperties['boxShadow'];\r\n  '--ok-background'?: CSSProperties['background'];\r\n  '--ok-font-size'?: CSSProperties['fontSize'];\r\n  '--ok-text-color'?: CSSProperties['color'];\r\n}\r\n\r\nexport type KeyboardProps = BaseKeyBoardProps & HTMLProps<KeyboardCssVars>;\r\n\r\nconst Keyboard = forwardRef<HTMLDivElement, KeyboardProps>((props, ref) => {\r\n  const { className, style, type, dataSource, onKeyClick, ...restProps } = props;\r\n\r\n  const { locale: globalLocal, prefixCls } = useContext(ConfigContext);\r\n  const locale = globalLocal?.Keyboard;\r\n\r\n  const bem = createBEM('keyboard', { prefixCls });\r\n  const cls = bem([className]);\r\n\r\n  const getKeyConfig = dataSource || BuildInConfig[type!];\r\n\r\n  const onKeyPress = (e, text: KeyBoardKey | KeyBoardKey['value']) => {\r\n    e.stopPropagation();\r\n\r\n    const keyObj: KeyBoardKey = typeof text === 'object' ? text : { text };\r\n    const key = keyObj.value || (keyObj.text as KeyBoardKey['value']);\r\n\r\n    if (!text || keyObj.disabled) return;\r\n    if (typeof onKeyClick === 'function') {\r\n      onKeyClick(key);\r\n    }\r\n  };\r\n\r\n  const timerRef = useRef(0);\r\n  const onKeyPressRef = useLatest(onKeyPress);\r\n\r\n  const longPressEvent = useLongPress({\r\n    // 长按连续删除\r\n    onLongPress: (e) => {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = window.setInterval(() => {\r\n        onKeyPressRef.current(e, 'delete');\r\n      }, 100);\r\n    },\r\n    onPress: (e) => {\r\n      clearInterval(timerRef.current);\r\n      onKeyPressRef.current(e, 'delete');\r\n    },\r\n    onClear: () => clearInterval(timerRef.current),\r\n  });\r\n\r\n  const renderKey = useCallback((text: ReactNode | KeyBoardKey, index: number) => {\r\n    const keyObj: ReactNode | KeyBoardKey = (\r\n      typeof text === 'object' ? text : { text }\r\n    ) as KeyBoardKey;\r\n\r\n    const commonProps = {\r\n      key: +index,\r\n      className: bem('item', [\r\n        {\r\n          blank: keyObj.text === '',\r\n          ok: keyObj.text === 'ok',\r\n          disabled: keyObj.disabled,\r\n        },\r\n      ]),\r\n      style: {},\r\n    };\r\n\r\n    if (keyObj.rowSpan! > 1) {\r\n      commonProps.style = {\r\n        ...commonProps.style,\r\n        gridRow: `auto / span ${keyObj.rowSpan}`,\r\n        height: '100%',\r\n      };\r\n    }\r\n\r\n    if (keyObj.colSpan! > 1) {\r\n      commonProps.style = {\r\n        ...commonProps.style,\r\n        gridColumn: `auto / span ${keyObj.colSpan}`,\r\n      };\r\n    }\r\n\r\n    const renderText = () => {\r\n      switch (keyObj.text) {\r\n        case 'ok':\r\n          return locale!.confirmText;\r\n\r\n        case 'delete':\r\n          return <DeleteKeyIcon size=\"lg\" style={{ pointerEvents: 'none' }} />;\r\n\r\n        case 'close':\r\n          return <KeyboardIcon size=\"lg\" />;\r\n\r\n        default:\r\n          return keyObj.text;\r\n      }\r\n    };\r\n\r\n    if (keyObj.text === 'delete')\r\n      return (\r\n        <div {...commonProps} {...longPressEvent}>\r\n          {renderText()}\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <div {...commonProps} onClick={(e) => onKeyPressRef.current?.(e, keyObj)}>\r\n        {renderText()}\r\n      </div>\r\n    );\r\n  }, []);\r\n\r\n  const gridTemplateColumns = Array.from(Array(getKeyConfig.columns).keys())\r\n    .map(() => '1fr')\r\n    .join(' ');\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={cls}\r\n      style={{ gridTemplateColumns, ...style }}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n      }}\r\n      {...restProps}\r\n    >\r\n      {(getKeyConfig.keys || []).map(renderKey)}\r\n    </div>\r\n  );\r\n});\r\n\r\nKeyboard.displayName = 'Keyboard';\r\n\r\nKeyboard.defaultProps = {\r\n  type: 'number',\r\n};\r\n\r\nexport default Keyboard;\r\n","import Keyboard from './Keyboard';\r\n\r\nexport type { KeyboardProps, KeyboardCssVars } from './Keyboard';\r\n\r\nexport default Keyboard;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Keyboard from '../keyboard';\r\nimport type { PickerContainerCssVars } from '../picker/Container';\r\nimport Popup from '../popup';\r\nimport SafeArea from '../safe-area';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseKeyBoardPickerProps } from './interface';\r\n\r\nexport type KeyboardPickerProps = BaseKeyBoardPickerProps & HTMLProps<PickerContainerCssVars>;\r\n\r\nconst KeyboardPicker = React.forwardRef<unknown, KeyboardPickerProps>((props, ref) => {\r\n  const { className, style, visible, destroy, safeArea, ...restProps } = props;\r\n\r\n  const keyboardPickerRef = (ref as any) || React.createRef<HTMLDivElement>();\r\n  const [currentVisible, setCurrentVisible] = React.useState(visible);\r\n\r\n  const { prefixCls, safeArea: globalSafeArea } = React.useContext(ConfigContext);\r\n  const bem = createBEM('keyboard-picker', { prefixCls });\r\n  const cls = bem([className]);\r\n\r\n  React.useEffect(() => {\r\n    setCurrentVisible(visible);\r\n  }, [visible]);\r\n\r\n  return (\r\n    <Popup\r\n      ref={keyboardPickerRef}\r\n      visible={currentVisible}\r\n      mask={false}\r\n      lockScroll={false}\r\n      destroy={destroy}\r\n    >\r\n      <div className={cls} style={style}>\r\n        <Keyboard {...restProps} />\r\n        {(safeArea ?? globalSafeArea) && <SafeArea position=\"bottom\" />}\r\n      </div>\r\n    </Popup>\r\n  );\r\n});\r\n\r\nKeyboardPicker.displayName = 'KeyboardPicker';\r\n\r\nKeyboardPicker.defaultProps = {\r\n  visible: false,\r\n  type: 'number',\r\n  destroy: true,\r\n};\r\n\r\nexport default KeyboardPicker;\r\n","import { MutableRefObject } from 'react';\r\n\r\nexport type BasicTarget<T = Element> =\r\n  | (() => T | null)\r\n  | T\r\n  | null\r\n  | MutableRefObject<T | null | undefined>;\r\n\r\ntype TargetElement = Element;\r\n\r\nexport function getTargetElement(\r\n  target?: BasicTarget<TargetElement>,\r\n  defaultElement?: TargetElement,\r\n): TargetElement | undefined | null {\r\n  if (!target) {\r\n    return defaultElement;\r\n  }\r\n\r\n  let targetElement: TargetElement | undefined | null;\r\n\r\n  if (typeof target === 'function') {\r\n    targetElement = target();\r\n  } else if ('current' in target) {\r\n    targetElement = target.current;\r\n  } else {\r\n    targetElement = target;\r\n  }\r\n\r\n  return targetElement;\r\n}\r\n","import { useEffect } from 'react';\r\nimport Events from '../utils/events';\r\nimport { BasicTarget, getTargetElement } from '../utils/getTargetElement';\r\nimport { useLatest } from '../utils/hooks';\r\n\r\nexport default function useClickAway(\r\n  target: BasicTarget | BasicTarget[],\r\n  onClickAway?: (event: React.MouseEvent | React.TouchEvent) => void,\r\n  eventName = 'click',\r\n) {\r\n  const onClickAwayRef = useLatest(onClickAway);\r\n  const eventNameRef = useLatest(eventName);\r\n  const targetRef = useLatest(target);\r\n\r\n  useEffect(() => {\r\n    const handler = (event: any) => {\r\n      const currentTarget = targetRef.current;\r\n      const targets = Array.isArray(currentTarget) ? currentTarget : [currentTarget];\r\n\r\n      if (\r\n        targets.some((targetItem) => {\r\n          const targetElement = getTargetElement(targetItem) as HTMLElement;\r\n          return !targetElement || (targetElement.contains && targetElement.contains(event.target));\r\n        })\r\n      ) {\r\n        return;\r\n      }\r\n      onClickAwayRef.current?.(event);\r\n    };\r\n\r\n    Events.on(document, eventNameRef.current, handler);\r\n\r\n    return () => {\r\n      Events.off(document, eventNameRef.current, handler);\r\n    };\r\n  }, []);\r\n}\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport { CloseCircleFill } from '@zarm-design/icons';\r\nimport { useControllableValue } from 'ahooks';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport KeyboardPicker from '../keyboard-picker';\r\nimport useClickAway from '../use-click-away';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseCustomInputProps } from './interface';\r\n\r\nexport interface CustomInputCssVars {\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--line-height'?: React.CSSProperties['lineHeight'];\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--color'?: React.CSSProperties['color'];\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--label-font-size'?: React.CSSProperties['fontSize'];\r\n  '--placeholder-color'?: React.CSSProperties['color'];\r\n  '--disabled-color'?: React.CSSProperties['color'];\r\n  '--clear-icon-size'?: React.CSSProperties['width'];\r\n  '--clear-icon-color'?: React.CSSProperties['color'];\r\n  '--cursor-height'?: React.CSSProperties['height'];\r\n  '--cursor-width'?: React.CSSProperties['width'];\r\n  '--cursor-color'?: React.CSSProperties['color'];\r\n}\r\n\r\nexport type CustomInputProps = BaseCustomInputProps &\r\n  HTMLProps<CustomInputCssVars> &\r\n  Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type' | 'onChange' | 'onFocus' | 'onBlur'>;\r\n\r\nexport interface CustomInputRef {\r\n  focus: () => void;\r\n  blur: () => void;\r\n}\r\n\r\nconst CustomInput = React.forwardRef<CustomInputRef, CustomInputProps>((props, ref) => {\r\n  const {\r\n    type,\r\n    clearable,\r\n    readOnly,\r\n    autoFocus,\r\n    className,\r\n    disabled,\r\n    maxLength,\r\n    label,\r\n    defaultValue = '',\r\n    onChange,\r\n    onBlur,\r\n    onFocus,\r\n    placeholder,\r\n    ...restProps\r\n  } = props;\r\n\r\n  const contentRef = React.useRef<HTMLDivElement>(null);\r\n  const pickerRef = React.useRef<HTMLDivElement>(null);\r\n  const inputRef = React.useRef<HTMLInputElement>(null);\r\n  const [value, setValue] = useControllableValue({ ...props, defaultValue });\r\n  const [focused, setFocused] = React.useState<boolean>(autoFocus!);\r\n\r\n  const showClearIcon = clearable && typeof value !== 'undefined' && value?.length > 0;\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('custom-input', { prefixCls });\r\n\r\n  const cls = bem([\r\n    {\r\n      [`${type}`]: true,\r\n      disabled,\r\n      focus: focused,\r\n      clearable: showClearIcon,\r\n      readonly: readOnly,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  const onInputFocus = () => {\r\n    if (disabled) return;\r\n\r\n    window.setTimeout(() => {\r\n      setFocused(true);\r\n    }, 0);\r\n\r\n    onFocus?.(value);\r\n  };\r\n\r\n  const onInputBlur = () => {\r\n    setFocused(false);\r\n    onBlur?.(value);\r\n  };\r\n\r\n  const onKeyClick = (key) => {\r\n    if (['close', 'ok'].indexOf(key) > -1) {\r\n      onInputBlur();\r\n      return;\r\n    }\r\n\r\n    if (key !== 'delete' && value?.length >= maxLength!) {\r\n      return;\r\n    }\r\n\r\n    const newValue = key === 'delete' ? value?.slice(0, value?.length - 1) : value + key;\r\n\r\n    if (typeof value === 'undefined') {\r\n      setValue(newValue);\r\n    }\r\n\r\n    setValue?.(newValue);\r\n  };\r\n\r\n  const onInputClear = (e) => {\r\n    e.stopPropagation();\r\n    setValue('');\r\n  };\r\n\r\n  const scrollToStart = () => {\r\n    contentRef.current!.scrollLeft = 0;\r\n  };\r\n\r\n  const scrollToEnd = () => {\r\n    contentRef.current!.scrollLeft = contentRef.current!.scrollWidth;\r\n  };\r\n\r\n  const focus = () => {\r\n    onInputFocus();\r\n  };\r\n\r\n  const blur = () => {\r\n    onInputBlur();\r\n  };\r\n\r\n  // 渲染标签栏\r\n  const labelRender = !!label && <div className={bem('label')}>{label}</div>;\r\n\r\n  const clearIconRender = showClearIcon && (\r\n    <CloseCircleFill className={bem('clear')} onClick={onInputClear} />\r\n  );\r\n\r\n  const textRender = <div className={bem('content')}>{value}</div>;\r\n\r\n  const inputRender = (\r\n    <>\r\n      <div className={bem('content')} onClick={onInputFocus}>\r\n        {(value === undefined || value === '') && !readOnly && (\r\n          <div className={bem('placeholder')}>{placeholder}</div>\r\n        )}\r\n        <div ref={contentRef} className={bem('virtual-input')}>\r\n          {value}\r\n        </div>\r\n        <input ref={inputRef} type=\"hidden\" value={value} />\r\n      </div>\r\n      {clearIconRender}\r\n      <KeyboardPicker ref={pickerRef} visible={focused} type={type} onKeyClick={onKeyClick} />\r\n    </>\r\n  );\r\n\r\n  useClickAway([contentRef, pickerRef], onInputBlur);\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    focus,\r\n    blur,\r\n  }));\r\n\r\n  React.useEffect(() => {\r\n    if (!focused) return;\r\n    const timeout = window.setTimeout(() => {\r\n      contentRef.current?.scrollIntoView({\r\n        block: 'center',\r\n        inline: 'center',\r\n        behavior: 'smooth',\r\n      });\r\n    }, 0);\r\n    return () => {\r\n      window.clearTimeout(timeout);\r\n    };\r\n  }, [focused]);\r\n\r\n  React.useEffect(() => {\r\n    if (readOnly) return;\r\n\r\n    if (focused) {\r\n      scrollToEnd();\r\n    } else {\r\n      scrollToStart();\r\n    }\r\n  }, [readOnly, focused, value]);\r\n\r\n  return (\r\n    <div {...restProps} className={cls}>\r\n      {labelRender}\r\n      {readOnly ? textRender : inputRender}\r\n    </div>\r\n  );\r\n});\r\n\r\nCustomInput.displayName = 'CustomInput';\r\n\r\nCustomInput.defaultProps = {\r\n  type: 'number',\r\n};\r\n\r\nexport default CustomInput;\r\n","import * as React from 'react';\r\nimport { PickerColumnItem } from '../picker-view';\r\n\r\nexport enum COLUMN_TYPE {\r\n  YEAR = 'year',\r\n  MONTH = 'month',\r\n  DAY = 'day',\r\n  MERIDIEM = 'meridiem',\r\n  HOUR = 'hour',\r\n  MINUTE = 'minute',\r\n  SECOND = 'second',\r\n  WEEK = 'week',\r\n  WEEK_DAY = 'week-day',\r\n}\r\n\r\nexport enum MERIDIEM {\r\n  AM = 0,\r\n  PM = 1,\r\n}\r\n\r\nexport type ColumnType = `${COLUMN_TYPE}`;\r\n\r\nexport interface DatePickerFilterExtend {\r\n  value: number;\r\n  date: Date;\r\n}\r\n\r\nexport type DatePickerFilter = (type: ColumnType, extend: DatePickerFilterExtend) => boolean;\r\n\r\nexport type RenderLabel = (type: ColumnType, value: number) => React.ReactNode;\r\n\r\nexport interface BaseDatePickerViewProps {\r\n  columnType?: ColumnType[];\r\n  min?: Date;\r\n  max?: Date;\r\n  disabled?: boolean;\r\n  filter?: DatePickerFilter;\r\n  renderLabel?: RenderLabel;\r\n  defaultValue?: Date;\r\n  wheelDefaultValue?: Date;\r\n  value?: Date;\r\n  onChange?: (value: Date, items: PickerColumnItem[], level: number) => void;\r\n}\r\n","import CustomInput from './CustomInput';\r\n\r\nexport type { CustomInputProps, CustomInputCssVars } from './CustomInput';\r\n\r\nexport default CustomInput;\r\n","import dayjs from 'dayjs';\r\nimport isLeapYear from 'dayjs/plugin/isLeapYear';\r\nimport isoWeek from 'dayjs/plugin/isoWeek';\r\nimport isoWeeksInYear from 'dayjs/plugin/isoWeeksInYear';\r\nimport isFunction from 'lodash/isFunction';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { PickerColumn, PickerColumnItem } from '../picker-view';\r\nimport { ColumnType, COLUMN_TYPE, DatePickerFilter, MERIDIEM, RenderLabel } from './interface';\r\n\r\ndayjs.extend(isoWeek);\r\ndayjs.extend(isoWeeksInYear);\r\ndayjs.extend(isLeapYear);\r\n\r\nexport const generateMeridiemHour = (hour: number, hasMeridiem: boolean) => {\r\n  if (!hasMeridiem) return hour;\r\n  if (hour === 0) hour = 12;\r\n  if (hour > 12) hour -= 12;\r\n  return hour;\r\n};\r\n\r\nexport const useRenderLabel = (renderLabel?: RenderLabel): RenderLabel => {\r\n  const { locale: globalLocale } = React.useContext(ConfigContext);\r\n  const locale = globalLocale?.DatePickerView;\r\n\r\n  return React.useCallback(\r\n    (type, value) => {\r\n      if (isFunction(renderLabel)) {\r\n        return renderLabel(type, value);\r\n      }\r\n\r\n      switch (type) {\r\n        case COLUMN_TYPE.YEAR:\r\n          return value + locale.year;\r\n        case COLUMN_TYPE.MONTH:\r\n          return value + locale.month;\r\n        case COLUMN_TYPE.WEEK:\r\n          return value + locale.week;\r\n        case COLUMN_TYPE.WEEK_DAY:\r\n          return locale.weeks[value - 1];\r\n        case COLUMN_TYPE.DAY:\r\n          return value + locale.day;\r\n        case COLUMN_TYPE.HOUR:\r\n          return value + locale.hour;\r\n        case COLUMN_TYPE.MINUTE:\r\n          return value + locale.minute;\r\n        case COLUMN_TYPE.SECOND:\r\n          return value + locale.second;\r\n        case COLUMN_TYPE.MERIDIEM:\r\n          return value === MERIDIEM.AM ? locale.am : locale.pm;\r\n        default:\r\n          return value.toString();\r\n      }\r\n    },\r\n    [renderLabel],\r\n  );\r\n};\r\n\r\nexport const padZero = (value: string | number, length = 2) => {\r\n  return String(value).padStart(length, '0');\r\n};\r\n\r\nexport const generateDatePickerColumns = (\r\n  selectedValue: Date,\r\n  min: Date,\r\n  max: Date,\r\n  columnType: ColumnType[],\r\n  renderLabel: RenderLabel,\r\n  filter?: DatePickerFilter,\r\n) => {\r\n  const hasMeridiem = columnType.includes(COLUMN_TYPE.MERIDIEM);\r\n\r\n  const date = dayjs(selectedValue);\r\n  const minDate = dayjs(min);\r\n  const maxDate = dayjs(max);\r\n\r\n  const minYear = min.getFullYear();\r\n  const minMonth = min.getMonth() + 1;\r\n  const minDay = min.getDate();\r\n  const minWeek = minDate.isoWeek();\r\n  const minWeekday = minDate.isoWeekday();\r\n  const minHour = min.getHours();\r\n  const minMinute = min.getMinutes();\r\n  const minSecond = min.getSeconds();\r\n\r\n  const maxYear = max.getFullYear();\r\n  const maxMonth = max.getMonth() + 1;\r\n  const maxDay = max.getDate();\r\n  const maxWeek = maxDate.isoWeek();\r\n  const maxWeekday = maxDate.isoWeekday();\r\n  const maxHour = max.getHours();\r\n  const maxMinute = max.getMinutes();\r\n  const maxSecond = max.getSeconds();\r\n\r\n  const selectedYear = date.year();\r\n  const selectedMonth = date.month() + 1;\r\n  const selectedDay = date.date();\r\n  const selectedWeek = date.isoWeek();\r\n  const selectedHour = date.hour();\r\n  const selectedMinute = date.minute();\r\n  const selectedYearWeeks = dayjs(`${selectedYear}/01/01`).isoWeeksInYear();\r\n\r\n  const isInMinYear = selectedYear === minYear;\r\n  const isInMaxYear = selectedYear === maxYear;\r\n  const isInMinMonth = isInMinYear && selectedMonth === minMonth;\r\n  const isInMaxMonth = isInMaxYear && selectedMonth === maxMonth;\r\n  const isInMinDay = isInMinMonth && selectedDay === minDay;\r\n  const isInMaxDay = isInMaxMonth && selectedDay === maxDay;\r\n  const isInMinWeek = isInMinYear && selectedWeek === minWeek;\r\n  const isInMaxWeek = isInMaxYear && selectedWeek === maxWeek;\r\n  const isInMinHour = isInMinDay && selectedHour === minHour;\r\n  const isInMaxHour = isInMaxDay && selectedHour === maxHour;\r\n  const isInMinMinute = isInMinHour && selectedMinute === minMinute;\r\n  const isInMaxMinute = isInMaxHour && selectedMinute === maxMinute;\r\n\r\n  const firstDayInSelectedMonth = dayjs(date).startOf('month');\r\n\r\n  const generateColumns = <T extends PickerColumnItem>(\r\n    from: number,\r\n    to: number,\r\n    type: ColumnType,\r\n    iteratee: (index: number) => T,\r\n  ) => {\r\n    let options: T[] = [];\r\n    for (let i = from; i <= to; i++) {\r\n      options.push(iteratee(i));\r\n    }\r\n\r\n    if (isFunction(filter)) {\r\n      options = options.filter((option) =>\r\n        filter(type, {\r\n          get value() {\r\n            return option.value as number;\r\n          },\r\n          get date() {\r\n            return selectedValue;\r\n          },\r\n        }),\r\n      );\r\n    }\r\n\r\n    return options;\r\n  };\r\n\r\n  const generateMeridiemHourColumn = (hour: number) => {\r\n    if (!hasMeridiem) return hour;\r\n    if (hour > 12) hour -= 12;\r\n    return hour;\r\n  };\r\n\r\n  const columns: PickerColumn = [];\r\n\r\n  columnType?.forEach((type) => {\r\n    switch (type) {\r\n      case COLUMN_TYPE.YEAR:\r\n        columns.push(\r\n          generateColumns(minYear, maxYear, COLUMN_TYPE.YEAR, (index) => ({\r\n            value: index,\r\n            label: renderLabel(COLUMN_TYPE.YEAR, index),\r\n          })),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.MONTH:\r\n        columns.push(\r\n          generateColumns(\r\n            isInMinYear ? minMonth : 1,\r\n            isInMaxYear ? maxMonth : 12,\r\n            COLUMN_TYPE.MONTH,\r\n            (index) => ({\r\n              value: index,\r\n              label: renderLabel(COLUMN_TYPE.MONTH, index),\r\n            }),\r\n          ),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.WEEK:\r\n        columns.push(\r\n          generateColumns(\r\n            isInMinYear ? minWeek : 1,\r\n            isInMaxYear ? maxWeek : selectedYearWeeks,\r\n            COLUMN_TYPE.WEEK,\r\n            (index) => ({\r\n              value: index,\r\n              label: renderLabel(COLUMN_TYPE.WEEK, index),\r\n            }),\r\n          ),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.WEEK_DAY:\r\n        columns.push(\r\n          generateColumns(\r\n            isInMinWeek ? minWeekday : 1,\r\n            isInMaxWeek ? maxWeekday : 7,\r\n            COLUMN_TYPE.WEEK_DAY,\r\n            (index) => ({\r\n              value: index,\r\n              label: renderLabel(COLUMN_TYPE.WEEK_DAY, index),\r\n            }),\r\n          ),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.DAY:\r\n        columns.push(\r\n          generateColumns(\r\n            isInMinMonth ? minDay : 1,\r\n            isInMaxMonth ? maxDay : firstDayInSelectedMonth.daysInMonth(),\r\n            COLUMN_TYPE.DAY,\r\n            (index) => ({\r\n              value: index,\r\n              label: renderLabel(COLUMN_TYPE.DAY, index),\r\n            }),\r\n          ),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.MERIDIEM:\r\n        columns.push(\r\n          generateColumns(MERIDIEM.AM, MERIDIEM.PM, COLUMN_TYPE.MERIDIEM, (index) => ({\r\n            value: index,\r\n            label: renderLabel(COLUMN_TYPE.MERIDIEM, index),\r\n          })),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.HOUR:\r\n        columns.push(\r\n          generateColumns(\r\n            generateMeridiemHourColumn(isInMinDay ? minHour : 0),\r\n            generateMeridiemHourColumn(isInMaxDay ? maxHour : 23),\r\n            COLUMN_TYPE.HOUR,\r\n            (index) => ({\r\n              value: index,\r\n              label: renderLabel(COLUMN_TYPE.HOUR, generateMeridiemHour(index, hasMeridiem)),\r\n            }),\r\n          ),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.MINUTE:\r\n        columns.push(\r\n          generateColumns(\r\n            isInMinHour ? minMinute : 0,\r\n            isInMaxHour ? maxMinute : 59,\r\n            COLUMN_TYPE.MINUTE,\r\n            (index) => ({\r\n              value: index,\r\n              label: renderLabel(COLUMN_TYPE.MINUTE, index),\r\n            }),\r\n          ),\r\n        );\r\n        break;\r\n      case COLUMN_TYPE.SECOND:\r\n        columns.push(\r\n          generateColumns(\r\n            isInMinMinute ? minSecond : 0,\r\n            isInMaxMinute ? maxSecond : 59,\r\n            COLUMN_TYPE.SECOND,\r\n            (index) => ({\r\n              value: index,\r\n              label: renderLabel(COLUMN_TYPE.SECOND, index),\r\n            }),\r\n          ),\r\n        );\r\n        break;\r\n    }\r\n  });\r\n\r\n  return columns;\r\n};\r\n\r\nexport const dateToNumberArray = (value: Date, columnType: ColumnType[]) => {\r\n  const date = dayjs(value);\r\n  const hasWeek = columnType?.includes(COLUMN_TYPE.WEEK);\r\n  const hasMeridiem = columnType?.includes(COLUMN_TYPE.MERIDIEM);\r\n  return columnType?.map((type) => {\r\n    switch (type) {\r\n      case COLUMN_TYPE.YEAR:\r\n        return hasWeek ? date.isoWeekYear() : date.year();\r\n      case COLUMN_TYPE.MONTH:\r\n        return date.month() + 1;\r\n      case COLUMN_TYPE.DAY:\r\n        return date.date();\r\n      case COLUMN_TYPE.WEEK:\r\n        return date.isoWeek();\r\n      case COLUMN_TYPE.WEEK_DAY:\r\n        return date.isoWeekday();\r\n      case COLUMN_TYPE.MERIDIEM:\r\n        return date.hour() >= 12 ? MERIDIEM.PM : MERIDIEM.AM;\r\n      case COLUMN_TYPE.HOUR:\r\n        return generateMeridiemHour(date.hour(), hasMeridiem);\r\n      case COLUMN_TYPE.MINUTE:\r\n        return date.minute();\r\n      case COLUMN_TYPE.SECOND:\r\n        return date.second();\r\n      default:\r\n        return undefined;\r\n    }\r\n  });\r\n};\r\n\r\nexport const numberArrayToDate = (\r\n  currentValue: Date,\r\n  changedPickerValue: number[],\r\n  columnType: ColumnType[],\r\n  level: number,\r\n) => {\r\n  const date = dayjs(currentValue);\r\n  const types = Object.fromEntries(\r\n    columnType.map((type, index) => [type, changedPickerValue[index]]),\r\n  );\r\n  const currentColumnType = columnType[level];\r\n\r\n  const getMeridiemHour = (meridiem: number, hour: number) => {\r\n    if (meridiem === MERIDIEM.AM && hour >= 12) {\r\n      hour -= 12;\r\n    }\r\n    if (meridiem === MERIDIEM.PM && hour < 12) {\r\n      hour += 12;\r\n    }\r\n    return hour;\r\n  };\r\n\r\n  const getHour = (hour: number) => {\r\n    const meridiemIndex = columnType?.findIndex((i) => i === COLUMN_TYPE.MERIDIEM);\r\n    const meridiemValue = changedPickerValue[meridiemIndex] as number;\r\n    return getMeridiemHour(meridiemValue, hour);\r\n  };\r\n\r\n  const year = types.year ?? date.isoWeekYear() ?? 1900;\r\n  const month = types.month ?? date.month() + 1 ?? 0;\r\n  const week = types.week ?? 1;\r\n  const weekDay = types['week-day'] ?? 1;\r\n  const day = types.day ?? date.date() ?? 1;\r\n  const hour = types.hour ?? 0;\r\n  const minute = types.minute ?? 0;\r\n  const second = types.second ?? 0;\r\n\r\n  const selectedMonth = month - 1;\r\n  const selectedDay = Math.min(day, dayjs(new Date(year, selectedMonth, 1)).daysInMonth());\r\n  const selectedHour = getHour(hour);\r\n  const selectedDate = dayjs().hour(selectedHour).minute(minute).second(second);\r\n\r\n  if (columnType.includes(COLUMN_TYPE.WEEK)) {\r\n    if (currentColumnType === COLUMN_TYPE.MONTH) {\r\n      return selectedDate.year(year).month(selectedMonth).toDate();\r\n    }\r\n    if (currentColumnType === COLUMN_TYPE.DAY) {\r\n      return selectedDate.year(year).isoWeek(week).date(selectedDay).toDate();\r\n    }\r\n    return selectedDate.year(year).isoWeek(week).isoWeekday(weekDay).toDate();\r\n  }\r\n\r\n  return selectedDate.year(year).month(selectedMonth).date(selectedDay).toDate();\r\n};\r\n","import { useUpdateEffect } from 'ahooks';\r\nimport clamp from 'lodash/clamp';\r\nimport isEqual from 'lodash/isEqual';\r\nimport * as React from 'react';\r\nimport PickerView, {\r\n  PickerColumnItem,\r\n  PickerValue,\r\n  PickerViewCssVars,\r\n  PickerViewInstance,\r\n} from '../picker-view';\r\nimport { resolved } from '../picker-view/utils';\r\nimport { HTMLProps } from '../utils/utilityTypes';\r\nimport { BaseDatePickerViewProps, COLUMN_TYPE } from './interface';\r\nimport {\r\n  dateToNumberArray,\r\n  generateDatePickerColumns,\r\n  numberArrayToDate,\r\n  useRenderLabel,\r\n} from './utils';\r\n\r\nconst currentYear = new Date().getFullYear();\r\n\r\nexport type DatePickerViewProps = BaseDatePickerViewProps & HTMLProps<PickerViewCssVars>;\r\n\r\nexport interface DatePickerViewInstance {\r\n  value: Date;\r\n  items: PickerColumnItem[];\r\n  reset: () => void;\r\n}\r\n\r\nconst DatePickerView = React.forwardRef<DatePickerViewInstance, DatePickerViewProps>(\r\n  (props, ref) => {\r\n    const {\r\n      min = new Date(new Date().setFullYear(currentYear - 10)),\r\n      max = new Date(new Date().setFullYear(currentYear + 10)),\r\n      columnType = [COLUMN_TYPE.YEAR, COLUMN_TYPE.MONTH, COLUMN_TYPE.DAY],\r\n      value,\r\n      defaultValue,\r\n      filter,\r\n      renderLabel,\r\n      onChange,\r\n      ...rest\r\n    } = props;\r\n\r\n    const pickerViewRef = React.useRef<PickerViewInstance>(null);\r\n\r\n    const [innerValue, setInnerValue] = React.useState(value || defaultValue);\r\n    const prevColumnType = React.useRef(columnType);\r\n    const defaultRenderLabel = useRenderLabel(renderLabel);\r\n\r\n    useUpdateEffect(() => {\r\n      if (isEqual(props.value, innerValue)) return;\r\n      setInnerValue(props.value);\r\n    }, [props.value]);\r\n\r\n    React.useEffect(() => {\r\n      prevColumnType.current = columnType;\r\n    }, [columnType]);\r\n\r\n    const now = React.useMemo(() => new Date(), []);\r\n\r\n    const currentValue = React.useMemo(() => {\r\n      const date = innerValue || now;\r\n      return new Date(clamp(date.getTime(), min.getTime(), max.getTime()));\r\n    }, [innerValue, min, max, columnType]);\r\n\r\n    const pickerValue = React.useMemo(\r\n      () => dateToNumberArray(currentValue, columnType),\r\n      [currentValue, columnType],\r\n    );\r\n\r\n    const wheelDefaultValue = React.useMemo(\r\n      () => dateToNumberArray(props.wheelDefaultValue, columnType),\r\n      [props.wheelDefaultValue, columnType],\r\n    );\r\n\r\n    const handleChange = React.useCallback(\r\n      (changedPickerValue: PickerValue[], items: PickerColumnItem[], level: number) => {\r\n        if (prevColumnType.current[level] !== columnType[level]) return;\r\n        const date = numberArrayToDate(\r\n          currentValue,\r\n          changedPickerValue as number[],\r\n          columnType,\r\n          level,\r\n        );\r\n\r\n        setInnerValue(date);\r\n        onChange?.(date, items, level);\r\n      },\r\n      [currentValue, prevColumnType, columnType],\r\n    );\r\n\r\n    const { items, columns } = resolved({\r\n      dataSource: generateDatePickerColumns(\r\n        currentValue,\r\n        min,\r\n        max,\r\n        columnType,\r\n        defaultRenderLabel,\r\n        filter,\r\n      ),\r\n      value: pickerValue,\r\n    });\r\n\r\n    React.useImperativeHandle(ref, () => ({\r\n      value: currentValue,\r\n      items,\r\n      reset: pickerViewRef.current?.reset,\r\n    }));\r\n\r\n    return (\r\n      <PickerView\r\n        {...rest}\r\n        value={pickerValue}\r\n        wheelDefaultValue={wheelDefaultValue}\r\n        dataSource={columns}\r\n        onChange={handleChange}\r\n      />\r\n    );\r\n  },\r\n);\r\n\r\nexport default DatePickerView;\r\n","import DatePickerView from './DatePickerView';\r\n\r\nexport type { DatePickerViewInstance, DatePickerViewProps } from './DatePickerView';\r\n\r\nexport default DatePickerView;\r\n","import React, { useContext } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport DatePickerView, { DatePickerViewInstance } from '../date-picker-view';\r\nimport type { PickerCssVars } from '../picker';\r\nimport PickerContainer from '../picker/Container';\r\nimport { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseDatePickerProps } from './interface';\r\n\r\nexport type DatePickerProps = BaseDatePickerProps & HTMLProps<PickerCssVars>;\r\n\r\nconst DatePicker: React.FC<DatePickerProps> = (props) => {\r\n  const {\r\n    className,\r\n    style,\r\n    title,\r\n    confirmText,\r\n    cancelText,\r\n    mountContainer,\r\n    maskClosable = true,\r\n    safeArea,\r\n    onConfirm,\r\n    onCancel,\r\n    onChange,\r\n    afterOpen,\r\n    afterClose,\r\n    visible,\r\n    ...rest\r\n  } = props;\r\n\r\n  const datePickerViewRef = React.useRef<DatePickerViewInstance>(null);\r\n\r\n  const handleChange = (date, items, level) => {\r\n    visible && onChange?.(date, items, level);\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    onConfirm?.(datePickerViewRef.current?.value!, datePickerViewRef.current?.items);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    datePickerViewRef.current?.reset?.();\r\n    onCancel?.();\r\n  };\r\n\r\n  const { locale } = useContext(ConfigContext);\r\n\r\n  return (\r\n    <PickerContainer\r\n      className={className}\r\n      style={style}\r\n      visible={visible}\r\n      title={title}\r\n      confirmText={confirmText || locale?.DatePicker?.confirmText}\r\n      cancelText={cancelText || locale?.DatePicker?.cancelText}\r\n      maskClosable={maskClosable}\r\n      mountContainer={mountContainer}\r\n      safeArea={safeArea}\r\n      onConfirm={handleConfirm}\r\n      onCancel={handleCancel}\r\n      onClose={handleCancel}\r\n      afterOpen={afterOpen}\r\n      afterClose={afterClose}\r\n    >\r\n      <DatePickerView\r\n        {...rest}\r\n        ref={datePickerViewRef}\r\n        value={props.value}\r\n        onChange={handleChange}\r\n      />\r\n    </PickerContainer>\r\n  );\r\n};\r\n\r\nexport default DatePicker;\r\n","import attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\nimport DatePicker from './DatePicker';\r\nimport { prompt } from './prompt';\r\n\r\nexport type { DatePickerProps } from './DatePicker';\r\n\r\nexport default attachPropertiesToComponent(DatePicker, { prompt });\r\n","import * as React from 'react';\r\nimport { renderImperatively } from '../utils/dom';\r\nimport type { DatePickerProps } from './DatePicker';\r\nimport DatePicker from './DatePicker';\r\n\r\nexport interface DatePickerPromptValue {\r\n  value: Date;\r\n}\r\n\r\nexport const prompt = (props: Omit<DatePickerProps, 'value' | 'visible' | 'children'>) => {\r\n  return new Promise<DatePickerPromptValue>((resolve) => {\r\n    const { close } = renderImperatively(\r\n      <DatePicker\r\n        {...props}\r\n        onConfirm={(value, items) => {\r\n          props.onConfirm?.(value, items);\r\n          close();\r\n          resolve({ value });\r\n        }}\r\n        onCancel={() => {\r\n          props.onCancel?.();\r\n          close();\r\n          resolve({ value: null });\r\n        }}\r\n      />,\r\n    );\r\n  });\r\n};\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport clamp from 'lodash/clamp';\r\nimport isEqual from 'lodash/isEqual';\r\nimport * as React from 'react';\r\nimport { unstable_batchedUpdates as batchedUpdates } from 'react-dom';\r\nimport { ConfigContext } from '../config-provider';\r\nimport DatePicker from '../date-picker';\r\nimport { COLUMN_TYPE } from '../date-picker-view/interface';\r\nimport {\r\n  dateToNumberArray,\r\n  generateDatePickerColumns,\r\n  useRenderLabel,\r\n} from '../date-picker-view/utils';\r\nimport type { PickerColumnItem } from '../picker-view';\r\nimport { resolved } from '../picker-view/utils';\r\nimport type { SelectCssVars } from '../select';\r\nimport { useSafeState } from '../utils/hooks';\r\nimport { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseDateSelectProps } from './interface';\r\n\r\nconst currentYear = new Date().getFullYear();\r\n\r\nexport type DateSelectProps = BaseDateSelectProps & HTMLProps<SelectCssVars>;\r\n\r\nconst DateSelect: React.FC<DateSelectProps> = (props) => {\r\n  const {\r\n    className,\r\n    style,\r\n    placeholder,\r\n    disabled = false,\r\n    hasArrow = true,\r\n    value,\r\n    defaultValue,\r\n    min = new Date(new Date().setFullYear(currentYear - 10)),\r\n    max = new Date(new Date().setFullYear(currentYear + 10)),\r\n    columnType = [COLUMN_TYPE.YEAR, COLUMN_TYPE.MONTH, COLUMN_TYPE.DAY],\r\n    filter,\r\n    renderLabel,\r\n    displayRender = (items) => items?.map((item) => item && item.label),\r\n    onCancel,\r\n    onConfirm,\r\n    ...rest\r\n  } = props;\r\n\r\n  const [innerValue, setInnerValue] = useSafeState(value || defaultValue);\r\n  const [visible, setVisible] = useSafeState(false);\r\n  const { locale: globalLocal, prefixCls } = React.useContext(ConfigContext);\r\n  const defaultRenderLabel = useRenderLabel(renderLabel);\r\n  const locale = globalLocal.DateSelect;\r\n  const bem = createBEM('date-select', { prefixCls });\r\n\r\n  React.useEffect(() => {\r\n    if (isEqual(value, innerValue)) return;\r\n    setInnerValue(value);\r\n  }, [value]);\r\n\r\n  const handleClick = () => {\r\n    if (disabled) return;\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleConfirm = (changedValue: Date, changedItems: PickerColumnItem[]) => {\r\n    batchedUpdates(() => {\r\n      setInnerValue(changedValue);\r\n      setVisible(false);\r\n    });\r\n\r\n    onConfirm?.(changedValue, changedItems);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n    onCancel?.();\r\n  };\r\n\r\n  const now = React.useMemo(() => new Date(), []);\r\n\r\n  const currentValue = React.useMemo(() => {\r\n    const date = innerValue || now;\r\n    return new Date(clamp(date.getTime(), min.getTime(), max.getTime()));\r\n  }, [innerValue, min, max, columnType]);\r\n\r\n  const pickerValue = React.useMemo(\r\n    () => dateToNumberArray(currentValue, columnType),\r\n    [currentValue, columnType],\r\n  );\r\n\r\n  const { items } = resolved({\r\n    dataSource: generateDatePickerColumns(\r\n      currentValue,\r\n      min,\r\n      max,\r\n      columnType,\r\n      defaultRenderLabel,\r\n      filter,\r\n    ),\r\n    value: pickerValue,\r\n  });\r\n\r\n  const arrowRender = <div className={bem('arrow')} />;\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={bem([\r\n          {\r\n            placeholder: !innerValue,\r\n            disabled,\r\n            visible,\r\n          },\r\n          className,\r\n        ])}\r\n        style={style}\r\n        onClick={handleClick}\r\n      >\r\n        <div className={bem('input')}>\r\n          <div className={bem('value')}>\r\n            {(innerValue && displayRender?.(items)) || placeholder || locale.placeholder}\r\n          </div>\r\n        </div>\r\n        {hasArrow ? arrowRender : null}\r\n      </div>\r\n      <DatePicker\r\n        {...rest}\r\n        visible={visible}\r\n        columnType={columnType}\r\n        value={innerValue}\r\n        min={min}\r\n        max={max}\r\n        filter={filter}\r\n        renderLabel={renderLabel}\r\n        onConfirm={handleConfirm}\r\n        onCancel={handleCancel}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DateSelect;\r\n","import DateSelect from './DateSelect';\r\n\r\nexport type { DateSelectProps } from './DateSelect';\r\n\r\nexport default DateSelect;\r\n","import getFileDetail from './getFileDetail';\r\nimport createThumbnail from './createThumbnail';\r\nimport type { FileObject } from '../interface';\r\n\r\n/**\r\n * handle single file and get file info\r\n *\r\n * @param file\r\n * @param quality\r\n * @param callback\r\n */\r\nexport default function handleFileInfo(\r\n  { file, quality }: { file: File; quality?: number },\r\n  callback: (data: FileObject) => void,\r\n): void {\r\n  const { fileSize, fileType, isPic, fileName } = getFileDetail(file);\r\n\r\n  const fileDetail: FileObject = {\r\n    file,\r\n    fileType,\r\n    fileSize,\r\n    fileName,\r\n    thumbnail: '',\r\n  };\r\n\r\n  const callbackFunc = (url: string) => {\r\n    fileDetail.thumbnail = url;\r\n\r\n    callback(fileDetail);\r\n  };\r\n\r\n  if (isPic) {\r\n    createThumbnail({\r\n      file,\r\n      quality,\r\n      fileType,\r\n    })\r\n      .then((url) => callbackFunc(url))\r\n      .catch((e) => console.error(e));\r\n  } else {\r\n    callback(fileDetail);\r\n  }\r\n}\r\n","import isImage from './isImage';\r\n\r\n/**\r\n * get file detail\r\n *\r\n * @param file\r\n */\r\nexport default function getFileDetail(file: File) {\r\n  const fileSize = file.size;\r\n  const fileName = file.name;\r\n  const fileType = file.type || fileName.substr(fileName.lastIndexOf('.') + 1);\r\n  const isPic = isImage(fileType);\r\n\r\n  return {\r\n    fileName,\r\n    fileSize,\r\n    fileType,\r\n    isPic,\r\n  };\r\n}\r\n","/**\r\n * detect the file is image\r\n *\r\n * @param fileType\r\n */\r\nexport default function isImage(fileType: string): boolean {\r\n  const imageType = /image.*/;\r\n\r\n  return !!fileType.match(imageType);\r\n}\r\n","import changeImageSize from './changeImageSize';\r\n\r\nexport interface IFileProps {\r\n  file: File;\r\n  quality?: number;\r\n  fileType: string;\r\n  maxWidth?: number | string;\r\n  maxHeight?: number | string;\r\n}\r\n\r\n/**\r\n * generate preview image\r\n * modify image quality\r\n *\r\n * @param file\r\n * @param quality\r\n * @param fileType\r\n * @param maxWidth\r\n * @param maxHeight\r\n * @param callback\r\n */\r\nexport default function createThumbnail({\r\n  file,\r\n  quality,\r\n  fileType,\r\n  maxWidth,\r\n  maxHeight,\r\n}: IFileProps) {\r\n  return new Promise<string>((resolve) => {\r\n    const img = document.createElement('img');\r\n\r\n    window.URL = window.URL || window.webkitURL;\r\n\r\n    img.onload = () => {\r\n      let imgUrl: string;\r\n\r\n      if (quality || maxWidth || maxHeight) {\r\n        imgUrl = changeImageSize(img, quality, fileType);\r\n      } else {\r\n        imgUrl = img.src;\r\n      }\r\n\r\n      resolve(imgUrl || '');\r\n    };\r\n\r\n    img.src = window.URL.createObjectURL(file);\r\n  });\r\n}\r\n\r\n// FileReader\r\n// export default function createThumbnail({ file, quality, fileType, maxWidth, maxHeight }, callback) {\r\n//   const img = document.createElement('img');\r\n//   const reader = new FileReader();\r\n\r\n//   reader.onload = (e) => {\r\n//     img.src = e.target.result;\r\n\r\n//     callback(img.src);\r\n//   };\r\n\r\n//   reader.readAsDataURL(file);\r\n// }\r\n","/**\r\n * change img size or quality todo change size\r\n *\r\n * @param img\r\n * @param quality\r\n * @param fileType\r\n */\r\nexport default function changeImageSize(\r\n  img: HTMLImageElement,\r\n  quality: number | undefined,\r\n  fileType: string,\r\n) {\r\n  const canvas = document.createElement('canvas');\r\n  const ctx = canvas.getContext('2d');\r\n\r\n  if (!ctx) {\r\n    console.error('请使用高版本浏览器，该版本浏览器不支持生成缩略图');\r\n    return '';\r\n  }\r\n\r\n  // const MAX_WIDTH = 800;\r\n  // const MAX_HEIGHT = 600;\r\n  const { width, height } = img;\r\n\r\n  // if (width > height) {\r\n  //   if (width > MAX_WIDTH) {\r\n  //     height *= MAX_WIDTH / width;\r\n  //     width = MAX_WIDTH;\r\n  //   }\r\n  // } else if (height > MAX_HEIGHT) {\r\n  //   width *= MAX_HEIGHT / height;\r\n  //   height = MAX_HEIGHT;\r\n  // }\r\n\r\n  canvas.width = width;\r\n  canvas.height = height;\r\n\r\n  // 在canvas绘制前填充白色背景\r\n  ctx.fillStyle = '#fff';\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  ctx.drawImage(img, 0, 0, width, height);\r\n\r\n  // 是否有效的压缩比例（0 - 1）\r\n  if (quality && !(quality > 0 && quality <= 1)) {\r\n    console.error('请输入有效的压缩比例, 没有将默认使用 0.92');\r\n  }\r\n\r\n  return canvas.toDataURL(fileType, quality);\r\n}\r\n","/**\r\n * 设置选择前的方法，获取选择文件的相关信息，需要时可以对图片进行压缩、改变图片尺寸。\r\n *\r\n * multiple: 默认为 false，设置为 true 之后一次可以选择多张，onChange 事件调用之后返回一个数组，\r\n *           不设置或者设置为 false，onChange 事件调用之后返回一个对象。\r\n * disabled: 传递之后不可以点击上传，整个选择组件会设置为半透明状态，透明度为 0.5。\r\n * quality: 没有默认值，不设置不会进行压缩。\r\n * accept: 设置选择的文件类型，默认为所有类型，只有文件类型为图片（image/*）的时候会有本地预览图。\r\n * onChange: () => { file, fileType, fileSize, fileName, thumbnail }。\r\n * onBeforeSelect: () => boolean，返回 false 的时候阻止后续的选择事件。\r\n */\r\nimport React, { cloneElement, useCallback } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport type { FileObject, BaseFilePickerProps } from './interface';\r\nimport handleFileInfo from './utils/handleFileInfo';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport interface FilePickerCssVars {\r\n  '--opacity-disabled': React.CSSProperties['opacity'],\r\n}\r\nexport type FilePickerProps = BaseFilePickerProps & HTMLProps<FilePickerCssVars>;\r\n\r\nconst FilePicker = React.forwardRef<unknown, FilePickerProps>((props, ref) => {\r\n  const fileRef = (ref as any) || React.createRef<HTMLDivElement>();\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('file-picker', { prefixCls });\r\n  const {\r\n    className,\r\n    multiple,\r\n    accept,\r\n    capture,\r\n    disabled,\r\n    children,\r\n    onBeforeSelect,\r\n    onChange,\r\n    quality,\r\n    ...restProps\r\n  } = props;\r\n\r\n  const cls = bem([{ disabled }, className]);\r\n  const handleClick = useCallback(() => {\r\n    fileRef?.current.click();\r\n  }, [fileRef]);\r\n\r\n  const handleDefaultInput = useCallback(\r\n    (e) => {\r\n      // 防止选择同一张图片两次造成 onChange 事件不触发\r\n      e.currentTarget.value = '';\r\n\r\n      if (typeof onBeforeSelect !== 'function') {\r\n        return;\r\n      }\r\n\r\n      // 阻止 input onChange 默认事件\r\n      if (onBeforeSelect() === false || disabled) {\r\n        e.preventDefault();\r\n      }\r\n    },\r\n    [onBeforeSelect, disabled],\r\n  );\r\n\r\n  const handleChange = (e) => {\r\n    const files: Array<File> = [].slice.call(e.target.files);\r\n    const fileList: Array<FileObject> = [];\r\n\r\n    const getFileInfo = (data: FileObject) => {\r\n      if (multiple) {\r\n        fileList.push(data);\r\n\r\n        if (files.length === fileList.length && typeof onChange === 'function') {\r\n          onChange(fileList);\r\n        }\r\n      } else {\r\n        typeof onChange === 'function' && onChange(data);\r\n      }\r\n    };\r\n\r\n    if (files) {\r\n      files.map((file) => handleFileInfo({ file, quality }, getFileInfo));\r\n    }\r\n  };\r\n\r\n  const content = cloneElement(children as React.ReactElement, {\r\n    onClick: handleClick,\r\n    className: [(children as React.ReactElement).props.className, 'needsclick']\r\n      .filter(Boolean)\r\n      .join(' '), // 修复加载fastClick库后引起的合成事件问题\r\n  });\r\n  return (\r\n    <div className={cls} {...restProps}>\r\n      <input\r\n        className={bem('input')}\r\n        type=\"file\"\r\n        ref={fileRef}\r\n        accept={accept}\r\n        multiple={multiple}\r\n        capture={capture}\r\n        onClick={handleDefaultInput}\r\n        onChange={handleChange}\r\n      />\r\n      {content}\r\n    </div>\r\n  );\r\n});\r\n\r\nFilePicker.displayName = 'FilePicker';\r\n\r\nFilePicker.defaultProps = {\r\n  disabled: false,\r\n  multiple: false,\r\n  onBeforeSelect: () => true,\r\n};\r\n\r\nexport default FilePicker;\r\n","import * as React from 'react';\r\n\r\nexport interface GridContextState {\r\n  columns?: number;\r\n  gutter?: number | [number, number];\r\n  bordered?: boolean;\r\n  square?: boolean;\r\n}\r\n\r\nconst GridContext = React.createContext<GridContextState>({});\r\n\r\nexport default GridContext;\r\n","import * as React from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { ConfigContext } from '../config-provider';\r\nimport GridContext from './GridContext';\r\nimport type { BaseGridProps } from './interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport interface GridCssVars {\r\n  '--border-color'?: React.CSSProperties['borderColor'];\r\n  '--item-background'?: React.CSSProperties['background'];\r\n  '--item-active-background'?: React.CSSProperties['background'];\r\n}\r\n\r\nexport type GridProps = BaseGridProps & HTMLProps<GridCssVars>;\r\n\r\nconst Grid: React.FC<GridProps> = (props) => {\r\n  const { className, style, columns, gutter, bordered, square, children } = props;\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('grid', { prefixCls });\r\n\r\n  const gutters: [number, number] = Array.isArray(gutter) ? gutter : [gutter!, gutter!];\r\n\r\n  const gridContext = React.useMemo(\r\n    () => ({ columns, gutter: gutters, bordered, square }),\r\n    [columns, gutters, bordered, square],\r\n  );\r\n\r\n  const gridStyle: React.CSSProperties = {};\r\n  const horizontalGutter = gutters[0] > 0 ? gutters[0] / 2 : undefined;\r\n  const verticalGutter = gutters[1] > 0 ? gutters[1] / 2 : undefined;\r\n\r\n  if (!square && horizontalGutter) {\r\n    gridStyle.paddingTop = horizontalGutter;\r\n    gridStyle.paddingBottom = horizontalGutter;\r\n  }\r\n\r\n  if (!square && verticalGutter) {\r\n    gridStyle.paddingLeft = verticalGutter;\r\n    gridStyle.paddingRight = verticalGutter;\r\n  }\r\n\r\n  const classes = bem([\r\n    {\r\n      bordered,\r\n      square,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  return (\r\n    <GridContext.Provider value={gridContext}>\r\n      <div className={classes} style={{ ...gridStyle, ...style }}>\r\n        {children}\r\n      </div>\r\n    </GridContext.Provider>\r\n  );\r\n};\r\n\r\nGrid.displayName = 'Grid';\r\n\r\nGrid.defaultProps = {\r\n  columns: 3,\r\n  gutter: 0,\r\n  bordered: true,\r\n};\r\n\r\nexport default Grid;\r\n","import * as React from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport GridContext from './GridContext';\r\n\r\nexport type GridItemProps = HTMLProps & {\r\n  children?: React.ReactNode;\r\n  onClick?: React.MouseEventHandler;\r\n};\r\n\r\nconst GridItem: React.FC<GridItemProps> = (props) => {\r\n  const { className, style, onClick, children } = props;\r\n  const { columns, gutter, bordered, square } = React.useContext(GridContext);\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('grid-item', { prefixCls });\r\n\r\n  const percent = `${100 / +columns!}%`;\r\n\r\n  const mergedStyle: React.CSSProperties = {\r\n    flexBasis: percent,\r\n    paddingTop: square ? percent : undefined,\r\n  };\r\n\r\n  let horizontalGutter;\r\n  let verticalGutter;\r\n\r\n  if (!square && gutter && gutter[0] > 0) {\r\n    horizontalGutter = gutter[0] / 2;\r\n    mergedStyle.paddingTop = horizontalGutter;\r\n    mergedStyle.paddingBottom = horizontalGutter;\r\n  }\r\n\r\n  if (!square && gutter && gutter[1] > 0) {\r\n    verticalGutter = gutter[1] / 2;\r\n    mergedStyle.paddingLeft = verticalGutter;\r\n    mergedStyle.paddingRight = verticalGutter;\r\n  }\r\n\r\n  const cls = bem([{\r\n    clickable: !!onClick,\r\n    'horizontal-bordered': bordered && horizontalGutter > 0,\r\n    'vertical-bordered': bordered && verticalGutter > 0,\r\n  }, className]);\r\n\r\n  return (\r\n    <div className={cls} style={{ ...mergedStyle, ...style }} onClick={onClick}>\r\n      <div className={bem('content')}>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GridItem;\r\n","import Grid from './Grid';\r\nimport Item from './Item';\r\nimport attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\n\r\nexport type { GridProps, GridCssVars } from './Grid';\r\nexport type { GridItemProps } from './Item';\r\n\r\nexport default attachPropertiesToComponent(Grid, {\r\n  Item,\r\n});\r\n","import React, { HTMLAttributes, useCallback, useEffect, useRef } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport raf from 'raf';\r\nimport Events from '../utils/events';\r\nimport type { BasePinchZoomProps } from './interface';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { getElementSize } from '../utils/dom';\r\n\r\ninterface Point {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nconst getTouches = (touches: TouchList): Array<Point> =>\r\n  Array.from(touches).map((totuch: Touch): Point => ({ x: totuch.pageX, y: totuch.pageY }));\r\n\r\nconst getDistance = (a: Point, b?: Point): number => {\r\n  if (!b) return 0;\r\n  return Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\r\n};\r\n\r\nconst calculateScale = (startTouches: Array<Point>, endTouches: Array<Point>): number => {\r\n  const startDistance = getDistance(startTouches[0], startTouches[1]);\r\n  const endDistance = getDistance(endTouches[0], endTouches[1]);\r\n\r\n  return endDistance / startDistance;\r\n};\r\n\r\nconst range = (min: number, max: number, num: number): number => {\r\n  return Math.min(Math.max(num, min), max);\r\n};\r\n\r\nconst sum = (a: number, b: number): number => a + b;\r\n\r\nconst getTouchCenter = (point: Array<Point>): Point => ({\r\n  x: point.map(({ x }) => x).reduce(sum, 0) / point.length,\r\n  y: point.map(({ y }) => y).reduce(sum, 0) / point.length,\r\n});\r\n\r\nconst cancelEvent = (event: any): void => {\r\n  event.stopPropagation();\r\n  if (!Events.supportsPassiveEvents) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\nexport interface PinchZoomProps extends HTMLAttributes<HTMLDivElement>, BasePinchZoomProps {}\r\n\r\nconst PinchZoom = React.forwardRef<unknown, PinchZoomProps>((props, ref) => {\r\n  const container = (ref as any) || React.createRef<HTMLDivElement>();\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('pinch-zoom', { prefixCls });\r\n\r\n  const { children, className, maxScale, minScale, onPinchZoom, style } = props;\r\n\r\n  let currentScale = 1;\r\n  let lastScale = 1;\r\n  let firstMove = false;\r\n  const offset = useRef({\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n  const initOffset = useRef({\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n  let fingers = 0;\r\n  let startTouches;\r\n\r\n  let nthZoom = 0;\r\n  let lastScaleCenter: Point | null;\r\n  let lastDragPosition;\r\n  let wheelTimeOut: ReturnType<typeof setTimeout>;\r\n  const rafId = useRef();\r\n\r\n  const update = useCallback(() => {\r\n    const updateFrame = () => {\r\n      const x = -offset.current.x / currentScale;\r\n      const y = -offset.current.y / currentScale;\r\n      container?.current?.style.setProperty('--x', `${x}px`);\r\n      container?.current?.style.setProperty('--y', `${y}px`);\r\n      container?.current?.style.setProperty('--scale', currentScale);\r\n      if (typeof onPinchZoom === 'function') {\r\n        onPinchZoom(currentScale, x, y);\r\n      }\r\n    };\r\n    if (rafId) {\r\n      raf.cancel(rafId.current);\r\n    }\r\n    rafId.current = raf(updateFrame);\r\n  }, [currentScale, container, onPinchZoom]);\r\n\r\n  const alignCenter = () => {\r\n    const node = container.current?.firstElementChild;\r\n    initOffset.current = {\r\n      x: 0,\r\n      y: 0,\r\n    };\r\n    const rect = container.current?.getBoundingClientRect();\r\n    const { width, height } = getElementSize(node);\r\n    if (width <= rect?.width) {\r\n      initOffset.current = { x: -(rect?.width - width) / 2, y: 0 };\r\n    }\r\n    if (height <= rect?.height) {\r\n      initOffset.current = { x: initOffset.current.x, y: -(rect?.height - height) / 2 };\r\n    }\r\n    offset.current = initOffset?.current;\r\n    update();\r\n  };\r\n\r\n  useEffect(() => {\r\n    alignCenter();\r\n  }, [initOffset, offset, container, update]);\r\n\r\n  const calculateOffset = (newOffset: Point) => {\r\n    offset.current = {\r\n      x: offset.current.x + newOffset.x,\r\n      y: offset.current.y + newOffset.y,\r\n    };\r\n  };\r\n\r\n  const calculateOffsetBoundary = (currentOffset) => {\r\n    const rect = getElementSize(container.current);\r\n    const { width, height } = getElementSize(container.current?.firstElementChild);\r\n    const elWidth = width * currentScale;\r\n    const elHeight = height * currentScale;\r\n    const maxX = elWidth - rect.width;\r\n    const maxY = elHeight - rect.height;\r\n    const maxOffsetX = Math.max(maxX, 0);\r\n    const maxOffsetY = Math.max(maxY, 0);\r\n    const minOffsetX = Math.min(maxX, 0);\r\n    const minOffsetY = Math.min(maxY, 0);\r\n\r\n    return {\r\n      x: range(minOffsetX, maxOffsetX, currentOffset.x),\r\n      y: range(minOffsetY, maxOffsetY, currentOffset.y),\r\n    };\r\n  };\r\n\r\n  const doScale = (scale, touchCenter) => {\r\n    const originScale = currentScale;\r\n    currentScale *= scale;\r\n    currentScale = range(minScale! / 2, maxScale!, currentScale);\r\n    const newScale = currentScale / originScale;\r\n    calculateOffset({\r\n      x: (newScale - 1) * (touchCenter.x + offset.current.x),\r\n      y: (newScale - 1) * (touchCenter.y + offset.current.y),\r\n    });\r\n  };\r\n\r\n  const getCurrentZoomCenter = () => {\r\n    const { x, y } = offset.current;\r\n    const offsetLeft = x - initOffset.current.x;\r\n    const offsetTop = y - initOffset.current.y;\r\n\r\n    return {\r\n      x: -1 * x - offsetLeft / (1 / currentScale - 1),\r\n      y: -1 * y - offsetTop / (1 / currentScale - 1),\r\n    };\r\n  };\r\n\r\n  const fixedScale = () => {\r\n    if (currentScale >= 1) {\r\n      return false;\r\n    }\r\n    const center = getCurrentZoomCenter();\r\n\r\n    doScale(1 / currentScale, center);\r\n    offset.current = initOffset.current;\r\n  };\r\n\r\n  const end = () => {\r\n    fixedScale();\r\n    update();\r\n  };\r\n\r\n  const handleZoomEnd = () => {\r\n    end();\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    end();\r\n  };\r\n\r\n  const handleZoomStart = () => {\r\n    lastScale = 1;\r\n    lastScaleCenter = null;\r\n    nthZoom = 0;\r\n  };\r\n\r\n  const doDrag = (center, lastCenter) => {\r\n    if (lastCenter) {\r\n      calculateOffset({\r\n        x: -(center.x - lastCenter.x),\r\n        y: -(center.y - lastCenter.y),\r\n      });\r\n    }\r\n  };\r\n\r\n  const getTouchesOffset = (touches) => {\r\n    const rect = container.current.getBoundingClientRect();\r\n    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n    const scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\r\n    const posTop = rect.top + scrollTop;\r\n    const posLeft = rect.left + scrollLeft;\r\n\r\n    return touches.map((touch) => {\r\n      return {\r\n        x: touch.x - posLeft,\r\n        y: touch.y - posTop,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleZoom = (event, newScale) => {\r\n    const touchCenter = getTouchCenter(getTouchesOffset(getTouches(event.touches)));\r\n    const scale = newScale / lastScale;\r\n    lastScale = newScale;\r\n\r\n    nthZoom += 1;\r\n    if (nthZoom > 3) {\r\n      doScale(scale, touchCenter);\r\n      doDrag(touchCenter, lastScaleCenter);\r\n    }\r\n    lastScaleCenter = touchCenter;\r\n  };\r\n\r\n  const handleDrag = (event) => {\r\n    const touch = getTouches(event.touches)[0];\r\n    doDrag(touch, lastDragPosition);\r\n    offset.current = calculateOffsetBoundary(offset.current);\r\n    lastDragPosition = touch;\r\n  };\r\n\r\n  const handleDragStart = (event) => {\r\n    lastDragPosition = null;\r\n    handleDrag(event);\r\n  };\r\n\r\n  const touchStart = (event) => {\r\n    firstMove = true;\r\n    fingers = event.touches.length;\r\n  };\r\n\r\n  let interaction = '';\r\n  const setInteraction = (newInteraction, event) => {\r\n    if (interaction !== newInteraction) {\r\n      if (interaction && !newInteraction) {\r\n        switch (interaction) {\r\n          case 'zoom':\r\n            handleZoomEnd();\r\n            break;\r\n          case 'drag':\r\n            handleDragEnd();\r\n            break;\r\n        }\r\n      }\r\n\r\n      switch (newInteraction) {\r\n        case 'zoom':\r\n          handleZoomStart();\r\n          break;\r\n        case 'drag':\r\n          handleDragStart(event);\r\n          break;\r\n      }\r\n    }\r\n    interaction = newInteraction;\r\n  };\r\n\r\n  const updateInteraction = (event) => {\r\n    if (fingers === 2) {\r\n      setInteraction('zoom', event);\r\n    } else if (fingers === 1 && currentScale !== 1) {\r\n      setInteraction('drag', event);\r\n    } else {\r\n      setInteraction(null, event);\r\n    }\r\n  };\r\n\r\n  const touchMove = (event) => {\r\n    if (firstMove) {\r\n      updateInteraction(event);\r\n      if (interaction) {\r\n        cancelEvent(event);\r\n      }\r\n      startTouches = getTouches(event.touches);\r\n    } else {\r\n      switch (interaction) {\r\n        case 'zoom':\r\n          if (startTouches.length === 2 && event.touches.length === 2) {\r\n            handleZoom(event, calculateScale(startTouches, getTouches(event.touches)));\r\n          }\r\n          break;\r\n        case 'drag':\r\n          handleDrag(event);\r\n          break;\r\n      }\r\n      if (interaction) {\r\n        cancelEvent(event);\r\n        update();\r\n      }\r\n    }\r\n    firstMove = false;\r\n  };\r\n\r\n  const touchEnd = (event) => {\r\n    fingers = event.touches.length;\r\n    updateInteraction(event);\r\n  };\r\n\r\n  const wheel = (event) => {\r\n    let { deltaY } = event;\r\n    const { ctrlKey, deltaMode, pageX, pageY } = event;\r\n\r\n    if (deltaMode === 1) {\r\n      deltaY *= 15;\r\n    }\r\n\r\n    const divisor = ctrlKey ? 100 : 300;\r\n    doScale(\r\n      1 - deltaY / divisor,\r\n      getTouchesOffset([\r\n        {\r\n          x: pageX,\r\n          y: pageY,\r\n        },\r\n      ])[0],\r\n    );\r\n    update();\r\n    clearTimeout(wheelTimeOut);\r\n    wheelTimeOut = setTimeout(() => {\r\n      end();\r\n    }, 100);\r\n  };\r\n\r\n  const cls = bem([className]);\r\n\r\n  const child = React.Children.map(children, (element: React.ReactElement) => {\r\n    return React.cloneElement(element, {\r\n      onLoad: (e) => {\r\n        element.props?.onLoad?.(e);\r\n        alignCenter();\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onTouchStart={touchStart}\r\n      onTouchCancel={touchEnd}\r\n      onTouchEnd={touchEnd}\r\n      onTouchMove={touchMove}\r\n      onWheel={wheel}\r\n      ref={container}\r\n      className={cls}\r\n      style={style}\r\n    >\r\n      {child}\r\n    </div>\r\n  );\r\n});\r\n\r\nPinchZoom.defaultProps = {\r\n  minScale: 1,\r\n  maxScale: 3,\r\n};\r\n\r\nexport default PinchZoom;\r\n","enum LOAD_STATUS {\r\n  before = 'loadBefore',\r\n  start = 'loadStart',\r\n  end = 'loadEnd',\r\n  after = 'loadAfter',\r\n}\r\n\r\nexport default LOAD_STATUS;\r\n","import isPlainObject from 'lodash/isPlainObject';\r\nimport isString from 'lodash/isString';\r\nimport type { Images, ImageObject } from '../interface';\r\nimport LOAD_STATUS from './loadStatus';\r\n\r\nfunction isImageString(image: ImageObject | string): image is string {\r\n  return isString(image);\r\n}\r\nfunction isImageObject(image: ImageObject | string): image is ImageObject {\r\n  return isPlainObject(image);\r\n}\r\n\r\nconst formatImages = (images: ReadonlyArray<ImageObject | string>): Images => {\r\n  const previewImages: Images = [];\r\n  (images || []).forEach((image: ImageObject | string) => {\r\n    if (isImageString(image)) {\r\n      previewImages.push({\r\n        src: image,\r\n      });\r\n    } else if (isImageObject(image)) {\r\n      previewImages.push({\r\n        src: image.src,\r\n        originSrc: image.originSrc,\r\n        loaded: LOAD_STATUS.before,\r\n      });\r\n    }\r\n  });\r\n  return previewImages;\r\n};\r\n\r\nexport default formatImages;\r\n","import { ReactDOMAttributes, useDrag } from '@use-gesture/react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Button from '../button';\r\nimport Carousel from '../carousel';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Loading from '../loading';\r\nimport PinchZoom from '../pinch-zoom';\r\nimport Popup from '../popup';\r\nimport { canUseDOM } from '../utils/dom';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseImagePreviewProps, Images } from './interface';\r\nimport formatImages from './utils/formatImages';\r\nimport LOAD_STATUS from './utils/loadStatus';\r\nimport showOriginButton from './utils/showOriginButton';\r\n\r\nexport interface ImagePreviewCssVars {\r\n  '--footer-padding'?: React.CSSProperties['padding'];\r\n  '--pagination-text-color'?: React.CSSProperties['color'];\r\n  '--pagination-font-size'?: React.CSSProperties['fontSize'];\r\n}\r\n\r\nexport type ImagePreviewProps = BaseImagePreviewProps & HTMLProps<ImagePreviewCssVars>;\r\n\r\nconst imageStyle = {\r\n  maxWidth: canUseDOM && window?.innerWidth <= window?.innerHeight ? window?.innerWidth : undefined,\r\n  maxHeight:\r\n    canUseDOM && window?.innerHeight <= window?.innerWidth ? window?.innerHeight : undefined,\r\n};\r\n\r\nconst Content: React.FC<{ minScale: number; maxScale: number; imgSrc: string }> = (props) => {\r\n  const { minScale, maxScale, imgSrc } = props;\r\n  const [loaded, setLoaded] = useState(false);\r\n  const style = loaded ? { ...imageStyle, display: 'block' } : imageStyle;\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('image-preview', { prefixCls });\r\n\r\n  return (\r\n    <>\r\n      {!loaded ? (\r\n        <div className={bem('loading')}>\r\n          <Loading type=\"spinner\" size=\"lg\" />\r\n        </div>\r\n      ) : null}\r\n      <PinchZoom minScale={minScale} maxScale={maxScale}>\r\n        <img src={imgSrc} alt=\"\" draggable={false} style={style} onLoad={() => setLoaded(true)} />\r\n      </PinchZoom>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ImagePreview = React.forwardRef<HTMLDivElement, ImagePreviewProps>((props, ref) => {\r\n  const {\r\n    visible,\r\n    activeIndex,\r\n    onClose,\r\n    showPagination,\r\n    minScale,\r\n    maxScale,\r\n    className,\r\n    style,\r\n    mountContainer,\r\n    title,\r\n  } = props;\r\n\r\n  const [images, setImages] = useState<Images>(formatImages(props.images));\r\n  const [currentIndex, setCurrentIndex] = useState<number>(activeIndex!);\r\n\r\n  const { prefixCls, locale } = React.useContext(ConfigContext);\r\n  const bem = createBEM('image-preview', { prefixCls });\r\n\r\n  useEffect(() => {\r\n    setImages(formatImages(props.images));\r\n  }, [props.images, visible]);\r\n\r\n  useEffect(() => {\r\n    setCurrentIndex(activeIndex!);\r\n  }, [activeIndex]);\r\n\r\n  const onChange = (index: number) => {\r\n    setCurrentIndex(index);\r\n    props.onChange?.(index);\r\n  };\r\n\r\n  const loadOrigin = (event) => {\r\n    const { originSrc, loaded } = images[currentIndex];\r\n    if (loaded !== LOAD_STATUS.before || !originSrc) {\r\n      return;\r\n    }\r\n    const newImages = [...images];\r\n    newImages[currentIndex].loaded = LOAD_STATUS.start;\r\n    setImages(newImages);\r\n\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      const loadImages = [...images];\r\n      loadImages[currentIndex].loaded = LOAD_STATUS.end;\r\n      loadImages[currentIndex].src = originSrc;\r\n      setImages(loadImages);\r\n      setTimeout(() => {\r\n        const loadAfeterImages = [...images];\r\n        loadAfeterImages[currentIndex].loaded = LOAD_STATUS.after;\r\n        setImages(loadAfeterImages);\r\n      }, 0);\r\n    };\r\n    img.src = originSrc;\r\n    event.stopPropagation();\r\n    return false;\r\n  };\r\n\r\n  const bindEvent = useDrag((state) => {\r\n    if (state.tap && state.elapsedTime > 0) {\r\n      onClose?.();\r\n    }\r\n  }) as unknown as (...args: any[]) => ReactDOMAttributes;\r\n\r\n  const loadEvent = useDrag((state) => {\r\n    if (state.tap && state.elapsedTime > 0) {\r\n      loadOrigin(state.event);\r\n    }\r\n  }) as unknown as (...args: any[]) => ReactDOMAttributes;\r\n\r\n  const renderImages = () => {\r\n    return images.map((item, i) => {\r\n      return (\r\n        <div className={bem('item')} key={+i}>\r\n          <Content imgSrc={item.src} minScale={minScale} maxScale={maxScale} />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderPagination = () => {\r\n    if (visible && showPagination && images && images.length > 1) {\r\n      return (\r\n        <div className={bem('pagination')} {...bindEvent()}>\r\n          {currentIndex + 1} / {images?.length}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const renderOriginButton = () => {\r\n    if (images?.length === 0) return;\r\n\r\n    const { loaded } = images?.[currentIndex || 0];\r\n    if (\r\n      loaded &&\r\n      showOriginButton(images, currentIndex) &&\r\n      loaded !== LOAD_STATUS.after &&\r\n      visible\r\n    ) {\r\n      return (\r\n        <Button size=\"xs\" loading={loaded === LOAD_STATUS.start} {...loadEvent()}>\r\n          {locale?.ImagePreview && locale?.ImagePreview?.[loaded]}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Popup\r\n      className={bem([className])}\r\n      style={style}\r\n      direction=\"center\"\r\n      visible={visible}\r\n      mountContainer={mountContainer}\r\n      maskOpacity={1}\r\n    >\r\n      <>\r\n        <div className={bem('title')}>{title}</div>\r\n        <div ref={ref} className={bem('content')} {...bindEvent()}>\r\n          {visible &&\r\n            (images?.length ? (\r\n              <Carousel\r\n                showPagination={false}\r\n                onChange={onChange}\r\n                activeIndex={currentIndex}\r\n                swipeable\r\n              >\r\n                {renderImages()}\r\n              </Carousel>\r\n            ) : (\r\n              <Loading type=\"spinner\" size=\"lg\" />\r\n            ))}\r\n        </div>\r\n        <div className={bem('footer')}>\r\n          {renderOriginButton()}\r\n          {renderPagination()}\r\n        </div>\r\n      </>\r\n    </Popup>\r\n  );\r\n});\r\n\r\nImagePreview.displayName = 'ImagePreview';\r\n\r\nImagePreview.defaultProps = {\r\n  activeIndex: 0,\r\n  showPagination: true,\r\n  visible: false,\r\n  minScale: 1,\r\n  maxScale: 3,\r\n};\r\n\r\nexport default ImagePreview;\r\n","import type { Images } from '../interface';\r\n\r\nconst showOriginButton = (images: Images, index?: number): boolean => {\r\n  if (images && typeof index === 'number' && images[index] && images[index].originSrc) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport default showOriginButton;\r\n","import ImagePreview from './ImagePreview';\r\nimport showImagePreview from './show';\r\nimport attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\n\r\nexport type { ImagePreviewProps, ImagePreviewCssVars } from './ImagePreview';\r\nexport default attachPropertiesToComponent(ImagePreview, { show: showImagePreview });\r\n","import * as React from 'react';\r\nimport { renderImperatively } from '../utils/dom';\r\nimport ImagePreview, { ImagePreviewProps } from './ImagePreview';\r\n\r\nconst show = (props: Omit<ImagePreviewProps, 'visible'>) => {\r\n  const { close } = renderImperatively(<ImagePreview {...props} />);\r\n\r\n  return { close };\r\n};\r\n\r\nexport default show;\r\n","import 'intersection-observer';\r\nimport { useEffect, useState } from 'react';\r\nimport { BasicTarget, getTargetElement } from '../utils/getTargetElement';\r\n\r\ninterface Options {\r\n  rootMargin?: string;\r\n  threshold?: number | number[];\r\n  root?: BasicTarget<Element>;\r\n}\r\n\r\nfunction useInViewport(target: BasicTarget, options?: Options): readonly [boolean | undefined] {\r\n  const [isIntersecting, setIsIntersecting] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    const el = getTargetElement(target);\r\n    if (el) {\r\n      const observer = new IntersectionObserver(\r\n        (entries) => {\r\n          // eslint-disable-next-line no-restricted-syntax\r\n          for (const entry of entries) {\r\n            setIsIntersecting(entry.isIntersecting);\r\n          }\r\n        },\r\n        {\r\n          ...options,\r\n          root: getTargetElement(options?.root),\r\n        },\r\n      );\r\n\r\n      observer.observe(el);\r\n\r\n      return () => {\r\n        observer.disconnect();\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  return [isIntersecting] as const;\r\n}\r\n\r\nexport default useInViewport;\r\n","import React, { FC, useEffect, useRef } from 'react';\r\nimport useInViewport from '../use-in-viewport';\r\n\r\ninterface Props {\r\n  onActive: () => void;\r\n}\r\n\r\nconst LazyDetector: FC<Props> = (props) => {\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const [inViewport] = useInViewport(ref);\r\n\r\n  useEffect(() => {\r\n    if (inViewport) {\r\n      props.onActive();\r\n    }\r\n  }, [inViewport]);\r\n\r\n  return <div ref={ref} />;\r\n};\r\n\r\nexport default LazyDetector;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, { createRef, useContext, useState } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport ImagePreview from '../image-preview';\r\nimport LazyDetector from './lazy-detector';\r\n\r\nexport const IMAGE_STATUS = {\r\n  PENDING: 'pending',\r\n  LOADING: 'loading',\r\n  LOADED: 'loaded',\r\n  FAILED: 'failed',\r\n};\r\n\r\nexport interface ImageCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--text-color'?: React.CSSProperties['color'];\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--radius'?: React.CSSProperties['borderRadius'];\r\n  '--width'?: React.CSSProperties['width'];\r\n  '--height'?: React.CSSProperties['height'];\r\n}\r\n\r\nexport interface ImageProps extends Omit<React.ImgHTMLAttributes<HTMLImageElement>, 'placeholder'> {\r\n  placeholder?: React.ReactNode | boolean;\r\n  fallback?: React.ReactNode | boolean;\r\n  fit?: 'contain' | 'cover' | 'fill' | 'none' | 'scale-down';\r\n  shape?: 'rect' | 'radius' | 'round' | 'circle';\r\n  preview?: boolean;\r\n  lazy?: boolean;\r\n}\r\n\r\nconst Image = React.forwardRef<HTMLImageElement, ImageProps>((props, ref) => {\r\n  const {\r\n    src,\r\n    placeholder,\r\n    fallback,\r\n    alt,\r\n    onLoad,\r\n    onError,\r\n    onClick,\r\n    className,\r\n    width,\r\n    height,\r\n    style,\r\n    fit,\r\n    shape,\r\n    preview,\r\n    lazy,\r\n    ...restProps\r\n  } = props;\r\n  const [status, setStatus] = useState(IMAGE_STATUS.LOADING);\r\n  const [initialized, setInitialized] = useState(!lazy);\r\n\r\n  const { prefixCls, locale } = useContext(ConfigContext);\r\n  const bem = createBEM('image', { prefixCls });\r\n  const cls = bem([{ [`${shape}`]: !!shape }, className]);\r\n\r\n  const imgRef = ref || createRef<HTMLImageElement>();\r\n\r\n  const inIframe = window.self !== window.top;\r\n\r\n  const orientation = inIframe ? 'portrait' : undefined;\r\n\r\n  const handleLoad = (event: React.SyntheticEvent<HTMLImageElement>) => {\r\n    onLoad && onLoad(event);\r\n    setStatus(IMAGE_STATUS.LOADED);\r\n  };\r\n\r\n  const handleError = (event: React.SyntheticEvent<HTMLImageElement>) => {\r\n    onError && onError(event);\r\n    setStatus(IMAGE_STATUS.FAILED);\r\n  };\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLImageElement, MouseEvent>) => {\r\n    if (preview) {\r\n      ImagePreview.show({ images: [src || ''], orientation });\r\n    }\r\n    onClick && onClick(event);\r\n  };\r\n\r\n  const renderImageStatus = {\r\n    [IMAGE_STATUS.LOADED]: () => null,\r\n    [IMAGE_STATUS.FAILED]: () => {\r\n      if (fallback) {\r\n        return (\r\n          <div className={bem('fallback')}>\r\n            {typeof fallback === 'boolean' ? locale?.Image?.loadFailed : fallback}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return null;\r\n    },\r\n    [IMAGE_STATUS.LOADING]: () => {\r\n      if (placeholder) {\r\n        return (\r\n          <div className={bem('loading')}>\r\n            {typeof placeholder === 'boolean' ? locale?.Image?.loading : placeholder}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return null;\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className={cls} style={{ width, height, ...style }}>\r\n      {lazy && !initialized && (\r\n        <LazyDetector\r\n          onActive={() => {\r\n            setInitialized(true);\r\n          }}\r\n        />\r\n      )}\r\n      <img\r\n        className={bem('img')}\r\n        src={initialized ? src : undefined}\r\n        alt={alt}\r\n        ref={imgRef}\r\n        style={{\r\n          objectFit: fit,\r\n        }}\r\n        {...restProps}\r\n        onClick={handleClick}\r\n        onError={handleError}\r\n        onLoad={handleLoad}\r\n      />\r\n      {renderImageStatus[status]()}\r\n    </div>\r\n  );\r\n});\r\n\r\nImage.displayName = 'Image';\r\nImage.defaultProps = {\r\n  placeholder: false,\r\n  fallback: false,\r\n  fit: 'fill',\r\n  shape: 'rect',\r\n  preview: false,\r\n  lazy: false,\r\n};\r\n\r\nexport default Image;\r\n","import Image from './Image';\r\n\r\nexport type { ImageProps, ImageCssVars } from './Image';\r\n\r\nexport default Image;\r\n","/* eslint-disable no-prototype-builtins */\r\nimport { useMemoizedFn, useUpdate } from 'ahooks';\r\nimport { useMemo, useRef } from 'react';\r\n\r\nexport interface Options<T> {\r\n  defaultValue?: T;\r\n  defaultValuePropName?: string;\r\n  valuePropName?: string;\r\n  trigger?: string;\r\n}\r\n\r\nexport type Props = Record<string, any>;\r\n\r\nexport type ChangeEvent =\r\n  | React.ChangeEvent<HTMLInputElement>\r\n  | React.ChangeEvent<HTMLTextAreaElement>;\r\n\r\nexport interface StandardProps<T> {\r\n  value: T;\r\n  defaultValue?: T;\r\n  onChange: (event: ChangeEvent) => void;\r\n}\r\n\r\nfunction useControllableEventValue<T = any>(\r\n  props: StandardProps<T>,\r\n): [T, (event: ChangeEvent) => void];\r\nfunction useControllableEventValue<T = any>(\r\n  props?: Props,\r\n  options?: Options<T>,\r\n): [T, (event: ChangeEvent) => void];\r\nfunction useControllableEventValue<T = any>(props: Props = {}, options: Options<T> = {}) {\r\n  const {\r\n    defaultValue,\r\n    defaultValuePropName = 'defaultValue',\r\n    valuePropName = 'value',\r\n    trigger = 'onChange',\r\n  } = options;\r\n\r\n  const value = props[valuePropName] as T;\r\n  const isControlled = props.hasOwnProperty(valuePropName);\r\n\r\n  const initialValue = useMemo(() => {\r\n    if (isControlled) {\r\n      return value;\r\n    }\r\n    if (props.hasOwnProperty(defaultValuePropName)) {\r\n      return props[defaultValuePropName];\r\n    }\r\n    return defaultValue;\r\n  }, []);\r\n\r\n  const stateRef = useRef(initialValue);\r\n  if (isControlled) {\r\n    stateRef.current = value;\r\n  }\r\n\r\n  const update = useUpdate();\r\n\r\n  function setState(event: ChangeEvent) {\r\n    if (!isControlled) {\r\n      stateRef.current = event.target[valuePropName];\r\n      update();\r\n    }\r\n    if (props[trigger]) {\r\n      props[trigger](event);\r\n    }\r\n  }\r\n\r\n  return [stateRef.current, useMemoizedFn(setState)] as const;\r\n}\r\n\r\nexport default useControllableEventValue;\r\n","export function resolveOnChange<E extends HTMLInputElement | HTMLTextAreaElement>(\r\n  target: E,\r\n  e:\r\n    | React.ChangeEvent<E>\r\n    | React.MouseEvent<HTMLElement, MouseEvent>\r\n    | React.CompositionEvent<HTMLElement>,\r\n  onChange: undefined | ((event: React.ChangeEvent<E>) => void),\r\n  targetValue?: string,\r\n) {\r\n  if (!onChange) {\r\n    return;\r\n  }\r\n  let event = e;\r\n\r\n  if (e.type === 'click') {\r\n    const currentTarget = target.cloneNode(true) as E;\r\n\r\n    // click clear icon\r\n    event = Object.create(e, {\r\n      target: { value: currentTarget },\r\n      currentTarget: { value: currentTarget },\r\n    });\r\n\r\n    currentTarget.value = '';\r\n    onChange(event as React.ChangeEvent<E>);\r\n    return;\r\n  }\r\n\r\n  if (targetValue !== undefined) {\r\n    event = Object.create(e, {\r\n      target: { value: target },\r\n      currentTarget: { value: target },\r\n    });\r\n\r\n    target.value = targetValue;\r\n    onChange(event as React.ChangeEvent<E>);\r\n    return;\r\n  }\r\n  onChange(event as React.ChangeEvent<E>);\r\n}\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport { CloseCircleFill } from '@zarm-design/icons';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { useControllableEventValue } from '../utils/hooks';\r\nimport { resolveOnChange } from '../utils/resolveOnChange';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseInputTextareaProps, BaseInputTextProps } from './interface';\r\n\r\nconst regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\n/g;\r\n\r\nconst countSymbols = (text = '') => {\r\n  return text.replace(regexAstralSymbols, '_').length;\r\n};\r\n\r\nexport interface InputCssVars {\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--line-height': React.CSSProperties['lineHeight'];\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--color'?: React.CSSProperties['color'];\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--label-font-size'?: React.CSSProperties['fontSize'];\r\n  '--placeholder-color'?: React.CSSProperties['color'];\r\n  '--disabled-color'?: React.CSSProperties['color'];\r\n  '--clear-icon-size'?: React.CSSProperties['width'];\r\n  '--clear-icon-color'?: React.CSSProperties['color'];\r\n  '--textarea-length-font-size'?: React.CSSProperties['fontSize'];\r\n  '--textarea-length-color'?: React.CSSProperties['color'];\r\n}\r\n\r\nexport type InputTextProps = BaseInputTextProps &\r\n  HTMLProps<InputCssVars> &\r\n  React.InputHTMLAttributes<HTMLInputElement>;\r\n\r\nexport type InputTextareaProps = BaseInputTextareaProps &\r\n  React.TextareaHTMLAttributes<HTMLTextAreaElement> &\r\n  HTMLProps<InputCssVars>;\r\n\r\nexport type InputProps = {\r\n  type?: string;\r\n} & (InputTextProps | InputTextareaProps);\r\n\r\nexport interface InputRef {\r\n  focus: () => void;\r\n  blur: () => void;\r\n  clear: () => void;\r\n  nativeElement: HTMLInputElement | HTMLTextAreaElement | null;\r\n}\r\n\r\nconst Input = React.forwardRef<unknown, InputProps>((props, ref) => {\r\n  const {\r\n    type,\r\n    disabled,\r\n    autoFocus,\r\n    readOnly,\r\n    clearable,\r\n    showLength,\r\n    autoHeight,\r\n    rows,\r\n    className,\r\n    style,\r\n    maxLength,\r\n    label,\r\n    defaultValue = '',\r\n    onChange,\r\n    onBlur,\r\n    onFocus,\r\n    ...restProps\r\n  } = props as InputTextProps & InputTextareaProps;\r\n\r\n  const wrapperRef = (ref as any) || React.createRef<HTMLDivElement>();\r\n  const inputRef = React.useRef<HTMLTextAreaElement | HTMLInputElement>();\r\n\r\n  const [value, setValue] = useControllableEventValue({ ...props, defaultValue });\r\n  const [focused, setFocused] = React.useState<boolean>(autoFocus!);\r\n  const isTextarea = type === 'text' && 'rows' in props;\r\n  let blurFromClear = false;\r\n  let blurTimeout: number;\r\n\r\n  const showClearIcon =\r\n    clearable && !readOnly && !disabled && typeof value !== 'undefined' && value?.length > 0;\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('input', { prefixCls });\r\n\r\n  const cls = bem([\r\n    {\r\n      textarea: isTextarea,\r\n      disabled,\r\n      clearable: showClearIcon,\r\n      readonly: readOnly,\r\n      focus: focused,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  const focus = () => {\r\n    inputRef.current!.focus();\r\n  };\r\n\r\n  const blur = () => {\r\n    inputRef.current!.blur();\r\n  };\r\n\r\n  const clear = () => {\r\n    onInputClear(new Event('click'));\r\n  };\r\n\r\n  const onInputBlur = (e) => {\r\n    blurTimeout = window.setTimeout(() => {\r\n      if (!blurFromClear && document.activeElement !== inputRef.current) {\r\n        setFocused(false);\r\n\r\n        onBlur?.(e);\r\n      }\r\n      blurFromClear = false;\r\n    }, 200);\r\n  };\r\n\r\n  const onInputFocus = (e) => {\r\n    setFocused(true);\r\n    onFocus?.(e);\r\n  };\r\n\r\n  const onInputChange = (e) => {\r\n    setValue(e);\r\n  };\r\n\r\n  const onInputClear = (e) => {\r\n    blurFromClear = true;\r\n    resolveOnChange(inputRef.current, e, setValue);\r\n    focus();\r\n  };\r\n\r\n  // 渲染文字长度\r\n  const textLengthRender = showLength && maxLength && (\r\n    <div className={bem('length')}>{`${countSymbols(value)}/${maxLength}`}</div>\r\n  );\r\n\r\n  const commonProps: InputTextProps & InputTextareaProps = {\r\n    ...restProps,\r\n    maxLength,\r\n    disabled,\r\n    autoFocus,\r\n    readOnly,\r\n    value,\r\n    onFocus: onInputFocus,\r\n    onBlur: onInputBlur,\r\n    onChange: onInputChange,\r\n  };\r\n\r\n  // 渲染输入框\r\n  const inputRender = isTextarea ? (\r\n    <>\r\n      <textarea\r\n        ref={inputRef as React.RefObject<HTMLTextAreaElement>}\r\n        {...(commonProps as React.HTMLAttributes<HTMLTextAreaElement>)}\r\n        rows={rows}\r\n      />\r\n      {textLengthRender}\r\n    </>\r\n  ) : (\r\n    <input\r\n      ref={inputRef as React.RefObject<HTMLInputElement>}\r\n      {...(commonProps as React.HTMLAttributes<HTMLInputElement>)}\r\n      type={type}\r\n    />\r\n  );\r\n\r\n  // 渲染文本内容\r\n  const textRender = <div className={bem('content')}>{value}</div>;\r\n\r\n  // 渲染标签栏\r\n  const labelRender = !!label && <div className={bem('label')}>{label}</div>;\r\n\r\n  // 渲染清除按钮\r\n  const clearIconRender = showClearIcon && (\r\n    <CloseCircleFill className={bem('clear')} onClick={onInputClear} />\r\n  );\r\n\r\n  React.useImperativeHandle(wrapperRef, () => ({\r\n    focus,\r\n    blur,\r\n    clear,\r\n    get nativeElement() {\r\n      return inputRef.current;\r\n    },\r\n  }));\r\n\r\n  React.useEffect(() => {\r\n    if (!autoHeight) return;\r\n\r\n    inputRef.current!.style.height = 'auto';\r\n    inputRef.current!.scrollTop = 0;\r\n    inputRef.current!.style.height = `${inputRef.current!.scrollHeight}px`;\r\n\r\n    if (readOnly && rows) {\r\n      inputRef.current!.style.height = `${inputRef.current!.scrollHeight * rows}px`;\r\n    }\r\n  }, [autoHeight, readOnly, rows, value]);\r\n\r\n  React.useEffect(() => {\r\n    return () => {\r\n      !!blurTimeout && clearTimeout(blurTimeout);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div ref={wrapperRef} className={cls} style={style}>\r\n      {labelRender}\r\n      {!readOnly ? inputRender : textRender}\r\n      {clearIconRender}\r\n    </div>\r\n  );\r\n});\r\n\r\nInput.displayName = 'Input';\r\n\r\nInput.defaultProps = {\r\n  type: 'text',\r\n  disabled: false,\r\n  autoFocus: false,\r\n  readOnly: false,\r\n  clearable: false,\r\n  showLength: false,\r\n  autoHeight: false,\r\n};\r\n\r\nexport default Input;\r\n","import Input from './Input';\r\n\r\nexport type {\r\n  InputCssVars,\r\n  InputProps,\r\n  InputRef,\r\n  InputTextareaProps,\r\n  InputTextProps,\r\n} from './Input';\r\n\r\nexport default Input;\r\n","import React, { HTMLAttributes, useRef, useEffect, useCallback } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport BaseMarqueeProps from './interface';\r\nimport { DIRECTION_LEFT, DIRECTION_RIGHT, DIRECTION_UP, DIRECTION_DOWN } from './constants';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { canUseDOM } from '../utils/dom';\r\n\r\nexport interface MarqueeProps extends HTMLAttributes<HTMLDivElement>, BaseMarqueeProps {\r\n  style?: React.CSSProperties;\r\n  className?: string;\r\n}\r\n\r\nconst SPEED = 30;\r\nconst DEFAULT_RECT = {\r\n  top: 0,\r\n  bottom: 0,\r\n  width: 0,\r\n  height: 0,\r\n  left: 0,\r\n  right: 0,\r\n  x: 0,\r\n  y: 0,\r\n  toJSON: () => {},\r\n};\r\n\r\nconst CLIENT_RECT = canUseDOM && 'DOMRect' in window ? new window.DOMRect() : DEFAULT_RECT;\r\n\r\nconst Marquee = React.forwardRef<HTMLDivElement, MarqueeProps>((props, ref) => {\r\n  const { direction, speed = SPEED, delay, height, width, children, className } = props;\r\n  const dir = direction.toLowerCase();\r\n\r\n  const container = useRef<HTMLDivElement | null>(null);\r\n  const scrollItem = useRef<HTMLDivElement | null>(null);\r\n  const containerBoundingRect = useRef<DOMRect>(CLIENT_RECT);\r\n  const boundingRect = useRef<DOMRect>(CLIENT_RECT);\r\n\r\n  const marqueeRef = (ref as any) || React.createRef<HTMLDivElement>();\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('marquee', { prefixCls });\r\n\r\n  let { style } = props;\r\n  style = style || {};\r\n  style.width = width;\r\n  style!.height = height;\r\n\r\n  const setAnimationProperty = useCallback(() => {\r\n    let transformX = 0;\r\n    let transformY = 0;\r\n    let distanceX = 0;\r\n    let distanceY = 0;\r\n    let distance = 0;\r\n    const rect = boundingRect.current;\r\n\r\n    switch (dir) {\r\n      case DIRECTION_LEFT:\r\n        transformX = containerBoundingRect.current.width;\r\n        distanceX = -boundingRect.current.width;\r\n        distance = boundingRect.current.width + containerBoundingRect.current.width;\r\n        break;\r\n      case DIRECTION_RIGHT:\r\n        transformX = -rect.width;\r\n        distanceX = containerBoundingRect.current.width;\r\n        distance = boundingRect.current.width + containerBoundingRect.current.width;\r\n        break;\r\n      case DIRECTION_UP:\r\n        transformY = +(height || 0);\r\n        distanceY = -boundingRect.current.height;\r\n        distance = boundingRect.current.height + containerBoundingRect.current.height;\r\n        break;\r\n      case DIRECTION_DOWN:\r\n        transformY = -rect.height;\r\n        distanceY = containerBoundingRect.current.height;\r\n        distance = boundingRect.current.height + containerBoundingRect.current.height;\r\n        break;\r\n      default:\r\n        transformX = rect.width;\r\n        distanceX = boundingRect.current.width;\r\n        distance = boundingRect.current.width + containerBoundingRect.current.width;\r\n    }\r\n    container.current!.style.setProperty('--transform-x', `${transformX}px`);\r\n    container.current!.style.setProperty('--transform-y', `${transformY}px`);\r\n    container.current!.style.setProperty('--distance-x', `${distanceX}px`);\r\n    container.current!.style.setProperty('--distance-y', `${distanceY}px`);\r\n\r\n    container.current!.style.animationDelay = `${delay}ms`;\r\n    container.current!.style.animationDuration = `${(distance / speed) * 1000}ms`;\r\n  }, [dir, height, speed, delay]);\r\n\r\n  useEffect(() => {\r\n    containerBoundingRect.current = container.current!.getBoundingClientRect();\r\n    boundingRect.current = scrollItem.current!.getBoundingClientRect();\r\n    setAnimationProperty();\r\n  }, [setAnimationProperty]);\r\n\r\n  return (\r\n    <div className={bem([className])} ref={marqueeRef}>\r\n      <div className={bem('body')} ref={container} style={style}>\r\n        <div className={bem('content')} ref={scrollItem}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nMarquee.displayName = 'Marquee';\r\n\r\nMarquee.defaultProps = {\r\n  direction: 'left',\r\n  speed: 30,\r\n  delay: 0,\r\n};\r\n\r\nexport default Marquee;\r\n","const DIRECTION_LEFT = 'left';\r\nconst DIRECTION_RIGHT = 'right';\r\nconst DIRECTION_UP = 'up';\r\nconst DIRECTION_DOWN = 'down';\r\n\r\nexport { DIRECTION_LEFT, DIRECTION_RIGHT, DIRECTION_UP, DIRECTION_DOWN };\r\n","import Marquee from './Marquee';\r\n\r\nexport type { MarqueeProps } from './Marquee';\r\n\r\nexport default Marquee;\r\n","import React, { forwardRef, useState, useContext } from 'react';\r\nimport type { MouseEvent } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { ArrowRight as ArrowRightIcon, Close as CloseIcon } from '@zarm-design/icons';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseMessageProps } from './interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport interface MessageCssVars {\r\n  '--line-height'?: React.CSSProperties['lineHeight'];\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--icon-size'?: React.CSSProperties['fontSize'];\r\n  '--padding'?: React.CSSProperties['padding'];\r\n}\r\n\r\nexport type MessageProps = BaseMessageProps &\r\n  React.PropsWithChildren<HTMLProps<MessageCssVars>> & {\r\n    onClick?: React.MouseEventHandler<HTMLDivElement>;\r\n  };\r\n\r\nconst Message = forwardRef<HTMLDivElement, MessageProps>((props, ref) => {\r\n  const { className, theme, icon, hasArrow, closable, children, onClick, onClose, ...restProps } =\r\n    props;\r\n  const [visible, setVisible] = useState(true);\r\n  const { prefixCls } = useContext(ConfigContext);\r\n\r\n  if (!visible) return null;\r\n\r\n  const bem = createBEM('message', { prefixCls });\r\n\r\n  const cls = bem([\r\n    {\r\n      [`${theme}`]: !!theme,\r\n      link: hasArrow,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  function handleClick(e: MouseEvent<HTMLDivElement>) {\r\n    if (!hasArrow) {\r\n      e.preventDefault();\r\n      return;\r\n    }\r\n    onClick?.(e);\r\n  }\r\n\r\n  function handleClose(e: MouseEvent<HTMLElement>) {\r\n    setVisible(false);\r\n    onClose?.(e);\r\n  }\r\n\r\n  return (\r\n    <div ref={ref} className={cls} onClick={handleClick} {...restProps}>\r\n      {icon && (\r\n        <div className={bem('header')}>\r\n          <div className={bem('icon')}>{icon}</div>\r\n        </div>\r\n      )}\r\n      <div className={bem('body')}>{children}</div>\r\n      {(closable || hasArrow) && (\r\n        <div className={bem('footer')}>\r\n          {hasArrow && <ArrowRightIcon />}\r\n          {closable && <CloseIcon onClick={handleClose} />}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nMessage.displayName = 'Message';\r\n\r\nMessage.defaultProps = {\r\n  theme: 'primary',\r\n  hasArrow: false,\r\n  closable: false,\r\n};\r\n\r\nexport default Message;\r\n","import Message from './Message';\r\n\r\nexport type { MessageTheme } from './interface';\r\nexport type { MessageProps, MessageCssVars } from './Message';\r\n\r\nexport default Message;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Loading from '../loading';\r\nimport { useSafeState } from '../utils/hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseModalActionProps } from './interface';\r\n\r\nexport type ModalActionProps = BaseModalActionProps & HTMLProps;\r\n\r\nconst ModalAction = React.forwardRef<HTMLDivElement, ModalActionProps>((props, ref) => {\r\n  const { className, bold, theme, disabled, text, onClick, ...rest } = props;\r\n  const [loading, setLoading] = useSafeState(false);\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('modal', { prefixCls });\r\n  const cls = bem('button', [\r\n    {\r\n      [`${theme}`]: !!theme,\r\n      bold,\r\n      disabled: disabled || loading,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  return (\r\n    <div\r\n      {...rest}\r\n      ref={ref}\r\n      className={cls}\r\n      onClick={async () => {\r\n        setLoading(true);\r\n        try {\r\n          await onClick?.();\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      }}\r\n    >\r\n      {loading ? <Loading /> : text}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default ModalAction;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport { Close as CloseIcon } from '@zarm-design/icons';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Popup from '../popup';\r\nimport { noop } from '../utils';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseModalProps } from './interface';\r\nimport type { ModalActionProps } from './ModalAction';\r\nimport ModalAction from './ModalAction';\r\n\r\nexport interface ModalCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--shadow'?: React.CSSProperties['boxShadow'];\r\n  '--title-font-size'?: React.CSSProperties['fontSize'];\r\n  '--title-font-weight'?: React.CSSProperties['fontWeight'];\r\n  '--title-text-color'?: React.CSSProperties['color'];\r\n  '--close-size'?: React.CSSProperties['fontSize'];\r\n  '--close-color'?: React.CSSProperties['color'];\r\n  '--close-active-color'?: React.CSSProperties['color'];\r\n  '--body-font-size'?: React.CSSProperties['fontSize'];\r\n  '--body-text-color'?: React.CSSProperties['color'];\r\n  '--body-padding'?: React.CSSProperties['padding'];\r\n  '--button-height'?: React.CSSProperties['height'];\r\n  '--button-font-size'?: React.CSSProperties['fontSize'];\r\n  '--button-font-weight'?: React.CSSProperties['fontWeight'];\r\n  '--button-text-color'?: React.CSSProperties['color'];\r\n  '--button-background'?: React.CSSProperties['background'];\r\n  '--button-active-background'?: React.CSSProperties['background'];\r\n  '--button-disabled-opacity'?: React.CSSProperties['opacity'];\r\n}\r\n\r\nexport interface ModalProps extends BaseModalProps, HTMLProps<ModalCssVars> {\r\n  actions?: (ModalActionProps | ModalActionProps[])[];\r\n  onAction?: (action: ModalActionProps) => void | Promise<void>;\r\n}\r\n\r\nconst Modal = React.forwardRef<HTMLDivElement, ModalProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    title,\r\n    shape,\r\n    closable,\r\n    onClose,\r\n    children,\r\n    footer,\r\n    maskClosable,\r\n    actions,\r\n    onAction,\r\n    ...rest\r\n  } = props;\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('modal', { prefixCls });\r\n\r\n  const cls = bem([\r\n    {\r\n      [`${shape}`]: !!shape,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  const showHeader = title || closable;\r\n  const hasActions = actions && actions!.length > 0;\r\n  const showFooter = !!footer || hasActions;\r\n\r\n  const actionsRender = actions!.map((action, i) => {\r\n    const currentAction = Array.isArray(action) ? action : [action];\r\n\r\n    return (\r\n      <div key={+i} className={bem('action')}>\r\n        {currentAction.map((child, j) => (\r\n          <ModalAction\r\n            {...child}\r\n            key={+j}\r\n            onClick={async () => {\r\n              await child.onClick?.();\r\n              await onAction?.(child);\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Popup\r\n      {...rest}\r\n      ref={ref}\r\n      className={cls}\r\n      direction=\"center\"\r\n      onMaskClick={maskClosable ? onClose : noop}\r\n    >\r\n      <div className={bem('dialog')}>\r\n        <div className={bem('body')}>\r\n          {showHeader && (\r\n            <>\r\n              <div className={bem('title')}>{title}</div>\r\n              {closable && <CloseIcon size=\"sm\" className={bem('close')} onClick={onClose} />}\r\n            </>\r\n          )}\r\n          {children}\r\n        </div>\r\n        {showFooter && <div className={bem('footer')}>{hasActions ? actionsRender : footer}</div>}\r\n      </div>\r\n    </Popup>\r\n  );\r\n});\r\n\r\nModal.defaultProps = {\r\n  visible: false,\r\n  animationType: 'fade',\r\n  width: '70%',\r\n  mask: true,\r\n  shape: 'radius',\r\n  closable: false,\r\n  maskClosable: false,\r\n  destroy: true,\r\n  actions: [],\r\n};\r\n\r\nexport default Modal;\r\n","import * as React from 'react';\r\nimport { ImperativeHandler, renderImperatively } from '../utils/dom';\r\nimport Modal, { ModalProps } from './Modal';\r\n\r\nexport interface ModalShowProps\r\n  extends Omit<ModalProps, 'visible' | 'destroy' | 'forceRender' | 'children'> {\r\n  content?: React.ReactNode;\r\n}\r\n\r\nexport type ModalShowHandler = Pick<ImperativeHandler, 'close'>;\r\n\r\nconst closeFn = new Set<() => void>();\r\n\r\nexport const show = (props: ModalShowProps) => {\r\n  const { content, ...rest } = props;\r\n  const handler: ModalShowHandler = renderImperatively(\r\n    <Modal\r\n      {...rest}\r\n      afterClose={() => {\r\n        closeFn.delete(handler.close);\r\n        props.afterClose?.();\r\n      }}\r\n    >\r\n      {content}\r\n    </Modal>,\r\n  );\r\n  closeFn.add(handler.close);\r\n  return handler;\r\n};\r\n\r\nexport const clear = () => {\r\n  closeFn.forEach((close) => close());\r\n};\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { getRuntimeConfig } from '../config-provider';\r\nimport { ModalShowProps, show } from './methods';\r\n\r\nexport interface ModalConfirmProps extends Omit<ModalShowProps, 'actions'> {\r\n  confirmText?: React.ReactNode;\r\n  cancelText?: React.ReactNode;\r\n  onConfirm?: () => boolean | void | Promise<boolean | void>;\r\n  onCancel?: () => boolean | void | Promise<boolean | void>;\r\n}\r\n\r\nexport const confirm = (props: ModalConfirmProps): Promise<boolean> => {\r\n  const {\r\n    className,\r\n    animationType = 'zoom',\r\n    confirmText,\r\n    cancelText,\r\n    onConfirm,\r\n    onCancel,\r\n    ...rest\r\n  } = props;\r\n  const { prefixCls, locale } = getRuntimeConfig();\r\n  const bem = createBEM('confirm', { prefixCls });\r\n  return new Promise((resolve) => {\r\n    const { close } = show({\r\n      ...rest,\r\n      className: bem([className]),\r\n      animationType,\r\n      actions: [\r\n        [\r\n          {\r\n            theme: 'default',\r\n            text: cancelText || locale?.Modal.cancelText,\r\n            onClick: async () => {\r\n              const result = onCancel?.();\r\n              if (result === false) return;\r\n              close();\r\n              resolve(false);\r\n            },\r\n          },\r\n          {\r\n            text: confirmText || locale?.Modal.confirmText,\r\n            onClick: async () => {\r\n              const result = await onConfirm?.();\r\n              if (result === false) return;\r\n              close();\r\n              resolve(true);\r\n            },\r\n          },\r\n        ],\r\n      ],\r\n    });\r\n  });\r\n};\r\n","import attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\nimport { alert } from './Alert';\r\nimport { confirm } from './Confirm';\r\nimport { clear, show } from './methods';\r\nimport Modal from './Modal';\r\n\r\nexport type { ModalAlertProps } from './Alert';\r\nexport type { ModalConfirmProps } from './Confirm';\r\nexport type { ModalShowProps } from './methods';\r\nexport type { ModalCssVars, ModalProps } from './Modal';\r\n\r\nexport default attachPropertiesToComponent(Modal, {\r\n  show,\r\n  clear,\r\n  alert,\r\n  confirm,\r\n});\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport * as React from 'react';\r\nimport { getRuntimeConfig } from '../config-provider';\r\nimport { ModalShowProps, show } from './methods';\r\n\r\nexport interface ModalAlertProps extends Omit<ModalShowProps, 'actions'> {\r\n  confirmText?: React.ReactNode;\r\n  onConfirm?: () => boolean | void | Promise<boolean | void>;\r\n}\r\n\r\nexport const alert = (props: ModalAlertProps) => {\r\n  const { className, animationType = 'zoom', confirmText, onConfirm, ...rest } = props;\r\n  const { prefixCls, locale } = getRuntimeConfig();\r\n  const bem = createBEM('alert', { prefixCls });\r\n  return new Promise((resolve) => {\r\n    const { close } = show({\r\n      ...rest,\r\n      className: bem([className]),\r\n      animationType,\r\n      actions: [\r\n        {\r\n          text: confirmText || locale?.Modal.confirmText,\r\n          onClick: async () => {\r\n            const result = await props.onConfirm?.();\r\n            if (result === false) return;\r\n            close();\r\n            resolve(null);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n  });\r\n};\r\n\r\nexport default alert;\r\n","import React, { forwardRef } from 'react';\r\nimport type { HTMLAttributes } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseNavBarProps } from './interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport interface NavBarCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--title-color'?: React.CSSProperties['color'];\r\n  '--title-font-size'?: React.CSSProperties['fontSize'];\r\n  '--title-font-weight'?: React.CSSProperties['fontWeight'];\r\n  '--side-font-size'?: React.CSSProperties['fontSize'];\r\n  '--padding-horizontal'?: React.CSSProperties['paddingLeft'];\r\n}\r\n\r\nexport type NavBarProps = BaseNavBarProps &\r\n  Omit<HTMLAttributes<HTMLDivElement>, 'title'> &\r\n  HTMLProps<NavBarCssVars>;\r\n\r\nconst NavBar = forwardRef<HTMLDivElement, NavBarProps>((props, ref) => {\r\n  const { className, title, left, right, ...restProps } = props;\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('nav-bar', { prefixCls });\r\n\r\n  return (\r\n    <div ref={ref} className={bem([className])} {...restProps}>\r\n      {left && <div className={bem('side', [{ left: true }])}>{left}</div>}\r\n      {title && <div className={bem('title')}>{title}</div>}\r\n      {right && <div className={bem('side', [{ right: true }])}>{right}</div>}\r\n    </div>\r\n  );\r\n});\r\n\r\nNavBar.displayName = 'NavBar';\r\nNavBar.defaultProps = {};\r\n\r\nexport default NavBar;\r\n","import NavBar from './NavBar';\r\n\r\nexport type { NavBarProps, NavBarCssVars } from './NavBar';\r\n\r\nexport default NavBar;\r\n","import React, { forwardRef, useRef, useState } from 'react';\r\nimport type { MouseEvent } from 'react';\r\nimport { Volume as VolumeIcon } from '@zarm-design/icons';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport type BaseNoticeBarProps from './interface';\r\nimport Message from '../message';\r\nimport { ConfigContext } from '../config-provider';\r\nimport useAnimationDuration from './hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport interface NoticeBarCssVars {\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--padding'?: React.CSSProperties['padding'];\r\n  '--icon-size'?: React.CSSProperties['fontSize'];\r\n}\r\n\r\nexport type NoticeBarProps = BaseNoticeBarProps &\r\n  React.PropsWithChildren<HTMLProps<NoticeBarCssVars>> & {\r\n    onClick?: React.MouseEventHandler<HTMLDivElement>;\r\n  };\r\n\r\nconst NoticeBar = forwardRef<HTMLDivElement, NoticeBarProps>((props, ref) => {\r\n  const { children, speed, delay, onClose, className, style, ...restProps } = props;\r\n  const [visible, setVisible] = useState(true);\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('notice-bar', { prefixCls });\r\n  const NOTICEBAR_KEYFRAME_NAME = `${prefixCls}-notice-bar-scrolling`;\r\n\r\n  const noticeBarRef = ref || React.createRef<HTMLDivElement>();\r\n  const contentRef = useRef<HTMLDivElement>(null);\r\n  const animationDuration = useAnimationDuration({\r\n    noticeBarRef,\r\n    contentRef,\r\n    delay,\r\n    speed,\r\n    keyframeName: NOTICEBAR_KEYFRAME_NAME,\r\n  });\r\n\r\n  if (!visible) return null;\r\n\r\n  function handleClose(e: MouseEvent<HTMLElement>) {\r\n    setVisible(false);\r\n    onClose?.(e);\r\n  }\r\n\r\n  const cls = bem([className]);\r\n  return (\r\n    <div className={cls} style={style} ref={noticeBarRef}>\r\n      <Message {...restProps} onClose={handleClose}>\r\n        <div className={bem('body')}>\r\n          <div\r\n            className={bem('content')}\r\n            ref={contentRef}\r\n            style={\r\n              animationDuration > 0\r\n                ? {\r\n                    WebkitAnimation: `${NOTICEBAR_KEYFRAME_NAME} ${animationDuration}ms linear infinite`,\r\n                    animation: `${NOTICEBAR_KEYFRAME_NAME} ${animationDuration}ms linear infinite`,\r\n                  }\r\n                : undefined\r\n            }\r\n          >\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </Message>\r\n    </div>\r\n  );\r\n});\r\n\r\nNoticeBar.displayName = 'NoticeBar';\r\n\r\nNoticeBar.defaultProps = {\r\n  theme: 'warning',\r\n  icon: <VolumeIcon />,\r\n  hasArrow: false,\r\n  closable: false,\r\n  speed: 50,\r\n  delay: 2000,\r\n};\r\nexport default NoticeBar;\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { addKeyframe, removeKeyframe, existKeyframe } from '../utils/keyframes';\r\n\r\nexport default function useAnimationDuration({\r\n  noticeBarRef,\r\n  contentRef,\r\n  delay,\r\n  speed,\r\n  keyframeName,\r\n}) {\r\n  const [animationDuration, setAnimationDuration] = useState(0);\r\n  const updateScrolling = useCallback(() => {\r\n    if (!noticeBarRef.current || !contentRef.current) return;\r\n    const wrapWidth = noticeBarRef.current.getBoundingClientRect().width;\r\n    const contentWidth = contentRef.current.getBoundingClientRect().width;\r\n\r\n    if (contentWidth > wrapWidth) {\r\n      // 完整的执行时间 = 前后停留时间 + 移动时间\r\n      const newAnimationDuration = Math.round(delay! * 2 + (contentWidth / speed!) * 1000);\r\n\r\n      // 计算停留时间占总时间的百分比\r\n      const delayPercent = Math.round((delay! * 100) / newAnimationDuration);\r\n\r\n      // 删除之前的 keyframe 定义\r\n      if (existKeyframe(keyframeName)) {\r\n        removeKeyframe(keyframeName);\r\n      }\r\n\r\n      // 增加重新计算后的 keyframe\r\n      addKeyframe(\r\n        keyframeName,\r\n        `\r\n        0%, ${delayPercent}% {\r\n          -webkit-transform: translate3d(0, 0, 0);\r\n          transform: translate3d(0, 0, 0);\r\n        }\r\n\r\n        ${100 - delayPercent}%, 100% {\r\n          -webkit-transform: translate3d(${-(contentWidth - wrapWidth)}px, 0, 0);\r\n          transform: translate3d(${-(contentWidth - wrapWidth)}px, 0, 0);\r\n        }\r\n      `,\r\n      );\r\n      setAnimationDuration(newAnimationDuration);\r\n    }\r\n  }, [keyframeName, delay, speed, noticeBarRef, contentRef]);\r\n\r\n  useEffect(() => {\r\n    updateScrolling();\r\n  }, [updateScrolling]);\r\n\r\n  return animationDuration;\r\n}\r\n","const toKeyframe = (name: string, content: string) => `\r\n  @-webkit-keyframes ${name} {\r\n    ${content}\r\n  }\r\n  @keyframes ${name} {\r\n    ${content}\r\n  }\r\n`;\r\n\r\nexport const removeKeyframe = (name: string) => {\r\n  const keyframe = document.getElementById(name);\r\n  !!keyframe && document.getElementsByTagName('head')[0].removeChild(keyframe!);\r\n};\r\n\r\nexport const addKeyframe = (name: string, content: string) => {\r\n  const style = document.createElement('style');\r\n  style.id = name;\r\n  style.type = 'text/css';\r\n  style.innerHTML = toKeyframe(name, content);\r\n  document.getElementsByTagName('head')[0].appendChild(style);\r\n};\r\n\r\nexport const getKeyframe = (name: string) => {\r\n  const keyframe = document.getElementById(name);\r\n  return keyframe && keyframe.innerHTML;\r\n};\r\n\r\nexport const existKeyframe = (name: string) => {\r\n  const keyframe = document.getElementById(name);\r\n  return !!keyframe;\r\n};\r\n","import * as React from 'react';\r\nimport PickerView, { PickerColumnItem, PickerValue, PickerViewInstance } from '../picker-view';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport PickerContainer, { PickerContainerCssVars } from './Container';\r\nimport type { BasePickerProps } from './interface';\r\n\r\nexport interface PickerCssVars extends PickerContainerCssVars {\r\n  '--cotnent-background': React.CSSProperties['background'];\r\n  '--cotnent-padding': React.CSSProperties['padding'];\r\n  '--cotnent-mask-start-background': React.CSSProperties['background'];\r\n  '--cotnent-mask-end-background': React.CSSProperties['background'];\r\n  '--wheel-item-rows': number;\r\n  '--wheel-item-height': React.CSSProperties['height'];\r\n  '--wheel-item-font-size': React.CSSProperties['fontSize'];\r\n  '--wheel-item-text-color': React.CSSProperties['color'];\r\n  '--wheel-item-disabled-text-color': React.CSSProperties['color'];\r\n  '--wheel-item-selected-background': React.CSSProperties['background'];\r\n  '--wheel-item-selected-border-radius': React.CSSProperties['borderRadius'];\r\n}\r\n\r\nexport type PickerProps = BasePickerProps & HTMLProps<PickerCssVars>;\r\n\r\nconst Picker: React.FC<PickerProps> = (props) => {\r\n  const {\r\n    className,\r\n    style,\r\n    title,\r\n    confirmText,\r\n    cancelText,\r\n    value,\r\n    defaultValue,\r\n    wheelDefaultValue,\r\n    dataSource,\r\n    fieldNames,\r\n    itemRender,\r\n    cols,\r\n    maskClosable,\r\n    mountContainer,\r\n    forceRender,\r\n    destroy,\r\n    safeArea,\r\n    onChange,\r\n    onConfirm,\r\n    onCancel,\r\n    visible,\r\n  } = props;\r\n\r\n  const pickerViewRef = React.useRef<PickerViewInstance>(null);\r\n\r\n  const handleChange = (changedValue: PickerValue[], items: PickerColumnItem[], index: number) => {\r\n    visible && onChange?.(changedValue, items, index);\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    onConfirm?.(pickerViewRef.current?.value!, pickerViewRef.current?.items!);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    pickerViewRef.current?.reset?.();\r\n    onCancel?.();\r\n  };\r\n\r\n  return (\r\n    <PickerContainer\r\n      title={title}\r\n      className={className}\r\n      style={style}\r\n      confirmText={confirmText}\r\n      cancelText={cancelText}\r\n      visible={visible}\r\n      maskClosable={maskClosable}\r\n      forceRender={forceRender}\r\n      destroy={destroy}\r\n      safeArea={safeArea}\r\n      mountContainer={mountContainer}\r\n      onConfirm={handleConfirm}\r\n      onCancel={handleCancel}\r\n      onClose={handleCancel}\r\n    >\r\n      <PickerView\r\n        ref={pickerViewRef}\r\n        value={value}\r\n        defaultValue={defaultValue}\r\n        wheelDefaultValue={wheelDefaultValue}\r\n        dataSource={dataSource}\r\n        cols={cols}\r\n        fieldNames={fieldNames}\r\n        itemRender={itemRender}\r\n        onChange={handleChange}\r\n      />\r\n    </PickerContainer>\r\n  );\r\n};\r\n\r\nPicker.defaultProps = {\r\n  dataSource: [],\r\n  cols: Infinity,\r\n  maskClosable: true,\r\n  destroy: false,\r\n};\r\n\r\nexport default Picker;\r\n","import attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\nimport Picker from './Picker';\r\nimport { prompt } from './prompt';\r\n\r\nexport type { PickerProps, PickerCssVars } from './Picker';\r\n\r\nexport { default as PickerContainer } from './Container';\r\n\r\nexport default attachPropertiesToComponent(Picker, { prompt });\r\n","import * as React from 'react';\r\nimport type { PickerColumnItem, PickerValue } from '../picker-view';\r\nimport { renderImperatively } from '../utils/dom';\r\nimport type { PickerProps } from './Picker';\r\nimport Picker from './Picker';\r\n\r\nexport interface PickerPromptValue {\r\n  value: PickerValue[];\r\n  items: PickerColumnItem[];\r\n}\r\n\r\nexport const prompt = (props: Omit<PickerProps, 'visible' | 'children'>) => {\r\n  return new Promise<PickerPromptValue>((resolve) => {\r\n    const { close } = renderImperatively(\r\n      <Picker\r\n        {...props}\r\n        onConfirm={(value, items) => {\r\n          props.onConfirm?.(value, items);\r\n          close();\r\n          resolve({ value, items });\r\n        }}\r\n        onCancel={() => {\r\n          props.onCancel?.();\r\n          close();\r\n          resolve({ value: null, items: [] });\r\n        }}\r\n      />,\r\n    );\r\n  });\r\n};\r\n","import { useEffect, useMemo, useState } from 'react';\r\nimport type { CSSProperties, MutableRefObject } from 'react';\r\nimport type { BaseProgressProps, WeightMap } from './interface';\r\n\r\nconst strokeWeights: WeightMap = {\r\n  lg: 10,\r\n  md: 8,\r\n  sm: 4,\r\n};\r\n\r\nexport function useStrokeWidthWithBackup({\r\n  strokeWidth,\r\n  size,\r\n}: Readonly<Pick<BaseProgressProps, 'strokeWidth' | 'size'>>): number {\r\n  return useMemo(() => {\r\n    const backup = strokeWeights[size && size in strokeWeights ? size : 'md'];\r\n    return Math.max(1, strokeWidth || backup);\r\n  }, [strokeWidth, size]);\r\n}\r\n\r\nexport function useSVG({ shape }: Readonly<Pick<BaseProgressProps, 'shape'>>) {\r\n  return useMemo(() => {\r\n    return shape === 'semi-circle' || shape === 'circle';\r\n  }, [shape]);\r\n}\r\n\r\nconst baseWidth = 32;\r\nexport type UseSVGStrokeWidthParams = Pick<BaseProgressProps, 'size' | 'shape'> & {\r\n  progressElement: MutableRefObject<HTMLDivElement | null>;\r\n  strokeWidth: number;\r\n  shouldUseSVG: boolean;\r\n};\r\nexport function useSVGStrokeWidth(params: Readonly<UseSVGStrokeWidthParams>) {\r\n  const [svgStrokeWidth, setSvgStrokeWidth] = useState(params.strokeWidth);\r\n  useEffect(() => {\r\n    if (params.shouldUseSVG && params.progressElement.current) {\r\n      setSvgStrokeWidth(\r\n        (baseWidth / params.progressElement.current.clientWidth) * params.strokeWidth,\r\n      );\r\n    }\r\n  }, [params.strokeWidth, params.progressElement, params.shouldUseSVG]);\r\n\r\n  return { svgStrokeWidth } as const;\r\n}\r\n\r\nexport function useSizeStyle({\r\n  size,\r\n  shape,\r\n}: Readonly<Pick<BaseProgressProps, 'size' | 'shape'>>): {\r\n  sizeStyle: CSSProperties;\r\n  hasKnownSize: boolean;\r\n} {\r\n  return useMemo(() => {\r\n    const sizeStyle: CSSProperties = {};\r\n    const hasKnownSize = !!(size && size in strokeWeights);\r\n    if (!hasKnownSize) {\r\n      sizeStyle.width = size;\r\n      if (shape === 'circle') {\r\n        sizeStyle.height = size;\r\n      }\r\n      if (shape === 'semi-circle') {\r\n        if (typeof size === 'number') {\r\n          sizeStyle.height = `${size / 2}px`;\r\n        } else if (typeof size === 'string') {\r\n          sizeStyle.height = size.replace(/^(\\d+)(.+)$/, (...$) => parseFloat($[1]) / 2 + $[2]);\r\n        }\r\n      }\r\n    }\r\n    return { sizeStyle, hasKnownSize } as const;\r\n  }, [size, shape]);\r\n}\r\n\r\nconst diameter = 32;\r\nconst radius = diameter / 2;\r\nexport function useRoundSVGAttributes({\r\n  shape,\r\n  strokeShape,\r\n  finalStrokeWidth,\r\n  percent,\r\n}: Readonly<\r\n  Pick<BaseProgressProps, 'shape' | 'strokeShape' | 'percent'> & { finalStrokeWidth: number }\r\n>) {\r\n  return useMemo(() => {\r\n    const extendRadius = radius + finalStrokeWidth / 2;\r\n    const strokeLinecap = strokeShape === 'round' ? 'round' : 'butt';\r\n\r\n    const viewBox =\r\n      shape === 'circle'\r\n        ? `0 0 ${diameter + finalStrokeWidth} ${diameter + finalStrokeWidth}`\r\n        : `0 0 ${diameter + finalStrokeWidth} ${(diameter + finalStrokeWidth) / 2}`;\r\n\r\n    const path =\r\n      shape === 'circle'\r\n        ? `\r\n    M${extendRadius}, ${extendRadius}\r\n    m0 ${-radius}\r\n    a${radius} ${radius} 0 1 1 0 ${diameter}\r\n    a${radius} ${radius} 0 1 1 0 ${-diameter}`\r\n        : `\r\n    M${extendRadius}, ${extendRadius}\r\n    m${-radius} 0\r\n    a${radius} ${radius} 0 0 1 ${diameter} 0`;\r\n\r\n    const dasharray = shape === 'circle' ? Math.PI * diameter : (Math.PI * diameter) / 2;\r\n    const dashoffset = (dasharray * (100 - percent!)) / 100;\r\n\r\n    return { path, dasharray, strokeLinecap, viewBox, dashoffset } as const;\r\n  }, [shape, strokeShape, finalStrokeWidth, percent]);\r\n}\r\n\r\nexport function useRectStyles({\r\n  strokeWidthWithBackup,\r\n  finalStrokeWidth,\r\n  strokeShape,\r\n  percent,\r\n}: Readonly<\r\n  Pick<BaseProgressProps, 'strokeShape' | 'percent'> & {\r\n    finalStrokeWidth: number;\r\n    strokeWidthWithBackup: number;\r\n  }\r\n>) {\r\n  return useMemo(() => {\r\n    const borderRadius = strokeShape === 'round' ? `${strokeWidthWithBackup}px` : '0';\r\n    const lineTrackStyle = { height: `${finalStrokeWidth}`, borderRadius };\r\n    const lineThumbStyle = { width: `${percent}%`, height: `${finalStrokeWidth}px`, borderRadius };\r\n\r\n    return { lineThumbStyle, lineTrackStyle } as const;\r\n  }, [strokeWidthWithBackup, finalStrokeWidth, strokeShape, percent]);\r\n}\r\n\r\nexport function useIndicator({\r\n  text,\r\n  percent,\r\n  children,\r\n}: Readonly<Pick<React.PropsWithChildren<BaseProgressProps>, 'text' | 'percent' | 'children'>>) {\r\n  return useMemo(() => {\r\n    const formattedPercent = text ? text(percent || 0) : null;\r\n    const indicator = children || formattedPercent;\r\n    return indicator;\r\n  }, [text, percent, children]);\r\n}\r\n","import React, { useImperativeHandle, useRef } from 'react';\r\nimport type { ForwardedRef } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseProgressProps } from './interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport {\r\n  useSizeStyle,\r\n  useSVGStrokeWidth,\r\n  useSVG,\r\n  useStrokeWidthWithBackup,\r\n  useRoundSVGAttributes,\r\n  useRectStyles,\r\n  useIndicator,\r\n} from './hooks';\r\n\r\nexport interface ProgressCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--width'?: React.CSSProperties['width'];\r\n  '--size'?: React.CSSProperties['width' | 'height'];\r\n  '--font-size-circle'?: React.CSSProperties['fontSize'];\r\n}\r\n\r\nexport type ProgressProps = BaseProgressProps & React.PropsWithChildren<HTMLProps<ProgressCssVars>>;\r\n\r\nconst Progress = React.forwardRef<HTMLDivElement, ProgressProps>(\r\n  (\r\n    {\r\n      theme,\r\n      shape,\r\n      size,\r\n      percent,\r\n      strokeShape,\r\n      text,\r\n      className,\r\n      style,\r\n      children,\r\n      strokeWidth,\r\n      ...htmlAttributes\r\n    }: React.PropsWithChildren<ProgressProps>,\r\n    ref: ForwardedRef<HTMLDivElement>,\r\n  ) => {\r\n    const progressElement = useRef<HTMLDivElement>(null);\r\n    const { sizeStyle, hasKnownSize } = useSizeStyle({ shape, size });\r\n    const shouldUseSVG = useSVG({ shape });\r\n    const strokeWidthWithBackup = useStrokeWidthWithBackup({ strokeWidth });\r\n    const { svgStrokeWidth } = useSVGStrokeWidth({\r\n      strokeWidth: strokeWidthWithBackup,\r\n      size,\r\n      shape,\r\n      progressElement,\r\n      shouldUseSVG,\r\n    });\r\n    useImperativeHandle(ref, () => progressElement.current!);\r\n\r\n    const finalStrokeWidth = shouldUseSVG ? svgStrokeWidth : strokeWidthWithBackup;\r\n\r\n    const { viewBox, dasharray, strokeLinecap, path, dashoffset } = useRoundSVGAttributes({\r\n      shape,\r\n      strokeShape,\r\n      percent,\r\n      finalStrokeWidth,\r\n    });\r\n\r\n    const { lineThumbStyle, lineTrackStyle } = useRectStyles({\r\n      percent,\r\n      strokeWidthWithBackup,\r\n      finalStrokeWidth,\r\n      strokeShape,\r\n    });\r\n\r\n    const indicator = useIndicator({ percent, children, text });\r\n\r\n    const { prefixCls } = React.useContext(ConfigContext);\r\n    const bem = createBEM('progress', { prefixCls });\r\n\r\n    const cls = bem([\r\n      {\r\n        [`${shape}`]: !!shape,\r\n        [`${theme}`]: !!theme,\r\n        [`${size}`]: hasKnownSize,\r\n      },\r\n      className,\r\n    ]);\r\n\r\n    const roundInner = (\r\n      <>\r\n        <svg viewBox={viewBox}>\r\n          <path\r\n            className={bem('track')}\r\n            d={path}\r\n            strokeWidth={finalStrokeWidth}\r\n            strokeLinecap={strokeLinecap}\r\n          />\r\n          <path\r\n            className={bem('thumb')}\r\n            d={path}\r\n            strokeWidth={finalStrokeWidth}\r\n            strokeLinecap={strokeLinecap}\r\n            strokeDasharray={dasharray}\r\n            strokeDashoffset={dashoffset}\r\n          />\r\n        </svg>\r\n        {indicator && <div className={bem('text')}>{indicator}</div>}\r\n      </>\r\n    );\r\n\r\n    const rectInner = (\r\n      <div className={bem('outer')}>\r\n        <div className={bem('track')} style={lineTrackStyle}>\r\n          <div className={bem('thumb')} style={lineThumbStyle} />\r\n        </div>\r\n        {indicator && <div className={bem('text')}>{indicator}</div>}\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={cls}\r\n        style={{ ...sizeStyle, ...style }}\r\n        ref={progressElement}\r\n        {...htmlAttributes}\r\n      >\r\n        {shape === 'line' && rectInner}\r\n        {(shape === 'circle' || shape === 'semi-circle') && roundInner}\r\n      </div>\r\n    );\r\n  },\r\n);\r\n\r\nProgress.displayName = 'Progress';\r\n\r\nProgress.defaultProps = {\r\n  theme: 'primary',\r\n  shape: 'line',\r\n  size: 'md',\r\n  percent: 0,\r\n  strokeShape: 'round',\r\n  text: (val: number) => `${val}%`,\r\n};\r\n\r\nexport default Progress;\r\n","import type { Locale } from '../config-provider/interface';\r\n\r\nexport enum REFRESH_STATE {\r\n  normal, // 普通\r\n  pull, // 下拉状态（未满足刷新条件）\r\n  drop, // 释放立即刷新（满足刷新条件）\r\n  loading, // 加载中\r\n  success, // 加载成功\r\n  failure, // 加载失败\r\n}\r\n\r\nexport enum LOAD_STATE {\r\n  normal, // 普通\r\n  abort, // 中止\r\n  loading, // 加载中\r\n  success, // 加载成功\r\n  failure, // 加载失败\r\n  complete, // 加载完成（无新数据）\r\n}\r\n\r\nexport interface PullAction {\r\n  state?: REFRESH_STATE | LOAD_STATE;\r\n  startDistance?: number;\r\n  distance?: number;\r\n  render?: (state?: REFRESH_STATE | LOAD_STATE, percent?: number) => any;\r\n  handler?: () => void;\r\n}\r\n\r\nexport interface BasePullProps {\r\n  refresh?: PullAction;\r\n  load?: PullAction;\r\n  animationDuration?: number;\r\n  stayTime?: number;\r\n  locale?: Locale['Pull'];\r\n}\r\n","import { useDrag } from '@use-gesture/react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport {\r\n  SuccessCircle as SuccessCircleIcon,\r\n  WarningCircle as WarningCircleIcon,\r\n} from '@zarm-design/icons';\r\nimport throttle from 'lodash/throttle';\r\nimport React, { CSSProperties, ReactNode, useEffect, useRef, useState } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Loading from '../loading';\r\nimport { getScrollParent, getScrollTop } from '../utils/dom';\r\nimport Events from '../utils/events';\r\nimport { useEventCallback } from '../utils/hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport { BasePullProps, LOAD_STATE, PullAction, REFRESH_STATE } from './interface';\r\n\r\nexport interface PullCssVars {\r\n  '--control-height'?: React.CSSProperties['height'];\r\n  '--control-font-size'?: React.CSSProperties['fontSize'];\r\n  '--control-padding-vertical'?: React.CSSProperties['padding'];\r\n  '--control-text-color'?: React.CSSProperties['color'];\r\n  '--control-icon-size'?: React.CSSProperties['fontSize'];\r\n}\r\n\r\nexport interface PullProps extends BasePullProps, React.PropsWithChildren<HTMLProps<PullCssVars>> {}\r\n\r\nconst Pull = React.forwardRef<HTMLDivElement, PullProps>((props, ref) => {\r\n  const pullRef = (ref as any) || React.createRef<HTMLDivElement>();\r\n  const wrap = useRef<HTMLElement | Window>();\r\n\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const [offsetY, setOffsetY] = useState<number | 'auto'>(0);\r\n  const [animationDuration, setAnimationDuration] = useState(0);\r\n  const [refreshState, setRefreshState] = useState(props.refresh!.state);\r\n  const [loadState, setLoadState] = useState(props.load!.state);\r\n  const prevLoad = useRef<PullAction>({});\r\n  const prevRefresh = useRef<PullAction>({});\r\n  const { prefixCls, locale } = React.useContext(ConfigContext);\r\n  const bem = createBEM('pull', { prefixCls });\r\n\r\n  const onScroll = useEventCallback((): void => {\r\n    // window为滚动容器时，无法通过 window 直接取到 scrollHeight 和 clientHeight。\r\n    const {\r\n      scrollHeight = document.body.clientHeight,\r\n      clientHeight = document.documentElement.clientHeight,\r\n    } = wrap.current as any;\r\n    const load: PullAction = { ...Pull.defaultProps!.load, ...props!.load };\r\n    const { handler, distance } = load;\r\n\r\n    if (\r\n      refreshState !== REFRESH_STATE.normal ||\r\n      loadState !== LOAD_STATE.normal ||\r\n      scrollHeight <= clientHeight ||\r\n      // 内容高度 - 偏移值 - 修正距离 <= 容器可见高度‚\r\n      scrollHeight - getScrollTop(wrap.current as HTMLElement) - distance! > clientHeight\r\n    ) {\r\n      return;\r\n    }\r\n    handler?.();\r\n  }, [props?.load?.handler]);\r\n\r\n  const throttledScroll = throttle(onScroll, 250);\r\n\r\n  const setScrollParent = (): void => {\r\n    const _scrollContainer = getScrollParent(pullRef.current);\r\n\r\n    // scrollContainer 未变更\r\n    if (wrap.current === _scrollContainer) return;\r\n\r\n    // 重新获取 scrollContainer\r\n    wrap.current = _scrollContainer as HTMLElement | Window;\r\n  };\r\n\r\n  useEffect(() => {\r\n    setScrollParent();\r\n  });\r\n\r\n  useEffect(() => {\r\n    Events.on(wrap.current, 'scroll', throttledScroll);\r\n    return () => {\r\n      Events.off(wrap.current, 'scroll', throttledScroll);\r\n    };\r\n  }, [wrap.current]);\r\n\r\n  /**\r\n   * 执行动画\r\n   * @param  {number} options.offsetY  偏移距离\r\n   * @param  {number} options.animationDuration 动画执行时间\r\n   */\r\n  const doTransition = ({\r\n    offsetY: iOffsetY,\r\n    animationDuration: iAnimationDuration,\r\n  }: {\r\n    offsetY: number | 'auto';\r\n    animationDuration: number;\r\n  }): void => {\r\n    setOffsetY(iOffsetY);\r\n    setAnimationDuration(iAnimationDuration);\r\n  };\r\n\r\n  /**\r\n   * 执行加载动作\r\n   * @param  {LOAD_STATE} iLoadState 加载状态\r\n   */\r\n  const doLoadAction = (iLoadState: LOAD_STATE): void => {\r\n    const { stayTime } = props;\r\n    setLoadState(iLoadState);\r\n\r\n    switch (iLoadState) {\r\n      case LOAD_STATE.success:\r\n        doLoadAction(LOAD_STATE.normal);\r\n        break;\r\n\r\n      case LOAD_STATE.failure:\r\n        setTimeout(() => {\r\n          if (!isMounted) return;\r\n          doLoadAction(LOAD_STATE.abort);\r\n        }, stayTime);\r\n        break;\r\n\r\n      default:\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 执行刷新动作\r\n   * @param  {REFRESH_STATE} iRefreshState 刷新状态\r\n   * @param  {number}        iOffsetY      偏移距离\r\n   */\r\n  const doRefreshAction = (iRefreshState: REFRESH_STATE, iOffsetY?: number): void => {\r\n    const { stayTime } = props;\r\n\r\n    setRefreshState(iRefreshState);\r\n\r\n    switch (iRefreshState) {\r\n      case REFRESH_STATE.pull:\r\n      case REFRESH_STATE.drop:\r\n        doTransition({ offsetY: iOffsetY!, animationDuration: 0 });\r\n        break;\r\n\r\n      case REFRESH_STATE.loading:\r\n        doTransition({ offsetY: 'auto', animationDuration });\r\n        break;\r\n\r\n      case REFRESH_STATE.success:\r\n      case REFRESH_STATE.failure:\r\n        doTransition({ offsetY: 'auto', animationDuration });\r\n        setTimeout(() => {\r\n          if (!isMounted) return;\r\n          doRefreshAction(REFRESH_STATE.normal);\r\n          doLoadAction(LOAD_STATE.normal);\r\n        }, stayTime);\r\n        break;\r\n\r\n      default:\r\n        doTransition({ offsetY: 0, animationDuration: props.animationDuration! });\r\n    }\r\n  };\r\n\r\n  const onDragMove = (state): boolean => {\r\n    const { movement, event } = state;\r\n    const [, dragOffsetY] = movement;\r\n    const { handler } = props.refresh!;\r\n\r\n    if (\r\n      // 未设置刷新事件\r\n      !handler ||\r\n      // 上拉\r\n      dragOffsetY <= 0 ||\r\n      // 未滚动到顶部\r\n      (dragOffsetY > 0 && getScrollTop(wrap.current) > 0) ||\r\n      // 已经触发过加载状态\r\n      refreshState! >= REFRESH_STATE.loading\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    if (event.cancelable) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    const refresh: PullAction = { ...Pull.defaultProps?.refresh, ...props?.refresh };\r\n    const { startDistance, distance } = refresh;\r\n\r\n    // 设置拖动距离衰减（实际下拉移动距离为拖动距离的1/3）\r\n    const offset = state.movement[1] / 3;\r\n\r\n    // 判断是否达到释放立即刷新的条件\r\n    const action = offset - startDistance! < distance! ? REFRESH_STATE.pull : REFRESH_STATE.drop;\r\n\r\n    doRefreshAction(action, offset);\r\n    return true;\r\n  };\r\n\r\n  const onDragEnd = ({ offsetY: iOffsetY }: { offsetY: number | 'auto' }): void => {\r\n    // 没有产生位移\r\n    if (!iOffsetY) {\r\n      return;\r\n    }\r\n\r\n    // 当前状态为下拉状态时\r\n    if (refreshState === REFRESH_STATE.pull) {\r\n      doRefreshAction(REFRESH_STATE.normal);\r\n      return;\r\n    }\r\n\r\n    // 执行外部触发刷新的回调\r\n    const { handler } = props.refresh!;\r\n    handler?.();\r\n  };\r\n\r\n  const bind = useDrag(\r\n    (state) => {\r\n      if (state.last) {\r\n        setAnimationDuration(props!.animationDuration!);\r\n        onDragEnd({ offsetY });\r\n        return;\r\n      }\r\n\r\n      onDragMove(state);\r\n    },\r\n    {\r\n      enabled: true,\r\n      pointer: { touch: true },\r\n      axis: 'y',\r\n      eventOptions: { passive: !Events.supportsPassiveEvents },\r\n    },\r\n  );\r\n\r\n  const { load, refresh } = props;\r\n  if (prevLoad.current.state !== load!.state) {\r\n    doLoadAction(load!.state as LOAD_STATE);\r\n    prevLoad.current = load!;\r\n  }\r\n  if (prevRefresh.current.state !== refresh!.state) {\r\n    doRefreshAction(refresh!.state as REFRESH_STATE);\r\n    prevRefresh.current = refresh!;\r\n  }\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n    pullRef.current && Events.on(pullRef.current, 'touchmove', () => {});\r\n\r\n    return () => {\r\n      pullRef.current && Events.off(pullRef.current, 'touchmove', () => {});\r\n      setIsMounted(false);\r\n    };\r\n  }, []);\r\n\r\n  /**\r\n   * 渲染刷新节点\r\n   */\r\n  const renderRefresh = (): ReactNode => {\r\n    const refreshProps: PullAction = { ...Pull.defaultProps?.refresh, ...props?.refresh };\r\n    const { startDistance, distance, render } = refreshProps;\r\n\r\n    let percent = 0;\r\n    if (typeof offsetY === 'number' && offsetY >= startDistance!) {\r\n      percent =\r\n        ((offsetY - startDistance! < distance! ? offsetY - startDistance! : distance)! * 100) /\r\n        distance!;\r\n    }\r\n\r\n    if (typeof render === 'function') {\r\n      return render(refreshState, percent);\r\n    }\r\n\r\n    const refreshCls = bem('control');\r\n\r\n    switch (refreshState) {\r\n      case REFRESH_STATE.pull:\r\n        return (\r\n          <div className={refreshCls}>\r\n            <Loading loading={false} percent={percent} />\r\n            <span>{locale!.Pull!.pullText}</span>\r\n          </div>\r\n        );\r\n\r\n      case REFRESH_STATE.drop:\r\n        return (\r\n          <div className={refreshCls}>\r\n            <Loading loading={false} percent={100} />\r\n            <span>{locale!.Pull!.dropText}</span>\r\n          </div>\r\n        );\r\n\r\n      case REFRESH_STATE.loading:\r\n        return (\r\n          <div className={refreshCls}>\r\n            <Loading type=\"spinner\" />\r\n            <span>{locale!.Pull!.loadingText}</span>\r\n          </div>\r\n        );\r\n\r\n      case REFRESH_STATE.success:\r\n        return (\r\n          <div className={refreshCls}>\r\n            <SuccessCircleIcon theme=\"success\" />\r\n            <span>{locale!.Pull!.successText}</span>\r\n          </div>\r\n        );\r\n\r\n      case REFRESH_STATE.failure:\r\n        return (\r\n          <div className={refreshCls}>\r\n            <WarningCircleIcon theme=\"danger\" />\r\n            <span>{locale!.Pull!.failureText}</span>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 渲染加载节点\r\n   */\r\n  const renderLoad = (): ReactNode => {\r\n    const loadProps: PullAction = { ...Pull.defaultProps?.load, ...props?.load };\r\n    const { render } = loadProps;\r\n\r\n    if (typeof render === 'function') {\r\n      return render(loadState);\r\n    }\r\n\r\n    const loadCls = bem('control');\r\n\r\n    switch (loadState) {\r\n      case LOAD_STATE.loading:\r\n        return (\r\n          <div className={loadCls}>\r\n            <Loading type=\"spinner\" />\r\n            <span>{locale!.Pull!.loadingText}</span>\r\n          </div>\r\n        );\r\n\r\n      case LOAD_STATE.failure:\r\n        return (\r\n          <div className={loadCls}>\r\n            <WarningCircleIcon theme=\"danger\" />\r\n            <span>{locale!.Pull!.failureText}</span>\r\n          </div>\r\n        );\r\n\r\n      case LOAD_STATE.complete:\r\n        return (\r\n          <div className={loadCls}>\r\n            <span>{locale!.Pull!.completeText}</span>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n    }\r\n  };\r\n\r\n  const { className, style, children } = props;\r\n  const cls = bem([className]);\r\n\r\n  const loadCls = bem('load', [\r\n    {\r\n      show: loadState! >= LOAD_STATE.loading,\r\n    },\r\n  ]);\r\n\r\n  const contentStyle: CSSProperties = {\r\n    WebkitTransition: `all ${animationDuration}ms`,\r\n    transition: `all ${animationDuration}ms`,\r\n  };\r\n\r\n  if (refreshState! <= REFRESH_STATE.drop) {\r\n    contentStyle.WebkitTransform = `translate3d(0, ${offsetY}px, 0)`;\r\n    contentStyle.transform = `translate3d(0, ${offsetY}px, 0)`;\r\n  }\r\n\r\n  return (\r\n    <div className={cls} style={style} {...bind()} ref={pullRef}>\r\n      <div className={bem('content')} style={contentStyle}>\r\n        <div className={bem('refresh')}>{renderRefresh()}</div>\r\n        <div className={bem('body')}>{children}</div>\r\n        <div className={loadCls}>{renderLoad()}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nPull.defaultProps = {\r\n  refresh: {\r\n    state: REFRESH_STATE.normal,\r\n    startDistance: 30,\r\n    distance: 30,\r\n  },\r\n  load: {\r\n    state: LOAD_STATE.normal,\r\n    distance: 0,\r\n  },\r\n  animationDuration: 400,\r\n  stayTime: 1000,\r\n};\r\n\r\nexport default Pull;\r\n","import Pull from './Pull';\r\n\r\nexport type { PullProps, PullCssVars } from './Pull';\r\n\r\nexport default Pull;\r\n","import { useDrag } from '@use-gesture/react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { StarFill } from '@zarm-design/icons';\r\nimport { useControllableValue } from 'ahooks';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport { getBoundingClientRect } from '../utils/dom';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseRateProps } from './interface';\r\n\r\nexport interface RateCssVars {\r\n  '--size'?: number | string;\r\n  '--color'?: React.CSSProperties['color'];\r\n  '--active-color'?: React.CSSProperties['color'];\r\n  '--gap'?: React.CSSProperties['marginRight'];\r\n}\r\n\r\nexport type RateProps = BaseRateProps & HTMLProps;\r\n\r\nconst Rate = React.forwardRef<HTMLDivElement, RateProps>((props, ref) => {\r\n  const { className, style, count, character, allowHalf, allowClear, readonly } = props;\r\n\r\n  const [value, setValue] = useControllableValue<number>(props);\r\n  const itemRefs = React.useRef<(HTMLDivElement | null)[]>([]);\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('rate', { prefixCls });\r\n\r\n  const items = Array(count).fill(null);\r\n\r\n  const getScoreRanges = () => {\r\n    const ranges: { score: number; left: number }[] = [];\r\n    itemRefs.current.forEach((item, index) => {\r\n      if (!item) return;\r\n\r\n      const rect = getBoundingClientRect(item);\r\n      if (allowHalf) {\r\n        ranges.push(\r\n          { score: index + 0.5, left: rect.left },\r\n          { score: index + 1, left: rect.left + rect.width / 2 },\r\n        );\r\n      } else {\r\n        ranges.push({ score: index + 1, left: rect.left });\r\n      }\r\n    });\r\n\r\n    return ranges;\r\n  };\r\n\r\n  const getScoreByPosition = (x: number) => {\r\n    const ranges = getScoreRanges();\r\n    for (let i = ranges.length - 1; i > 0; i--) {\r\n      if (x > ranges[i].left) return ranges[i].score;\r\n    }\r\n\r\n    return allowHalf ? 0.5 : 1;\r\n  };\r\n\r\n  const render = (_, index: number) => {\r\n    const score = index + 1;\r\n    const checked = true;\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n      if (readonly) return;\r\n\r\n      const next = getScoreByPosition(event.clientX);\r\n\r\n      if (allowClear && value === next) {\r\n        setValue(0);\r\n        return;\r\n      }\r\n\r\n      setValue(allowHalf ? next : score);\r\n    };\r\n\r\n    const itemCls = bem('item', [\r\n      {\r\n        active: value >= index + 1,\r\n        half: allowHalf && value === index + 0.5,\r\n      },\r\n    ]);\r\n\r\n    return (\r\n      <div\r\n        key={index}\r\n        ref={(element) => {\r\n          itemRefs.current[index] = element;\r\n        }}\r\n        role=\"radio\"\r\n        tabIndex={0}\r\n        className={itemCls}\r\n        onClick={handleClick}\r\n        aria-setsize={count}\r\n        aria-posinset={score}\r\n        aria-checked={checked}\r\n      >\r\n        <div className={bem('character__half')}>{character}</div>\r\n        <div className={bem('character__full')}>{character}</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const cls = bem([{ readonly }, className]);\r\n\r\n  const bind = useDrag(\r\n    ({ values: [x] }) => {\r\n      if (readonly) return;\r\n      setValue(getScoreByPosition(x));\r\n    },\r\n    { pointer: { touch: true }, axis: 'x' },\r\n  );\r\n  return (\r\n    <div ref={ref} role=\"radiogroup\" tabIndex={0} className={cls} style={style} {...bind()}>\r\n      {items.map(render)}\r\n    </div>\r\n  );\r\n});\r\n\r\nRate.displayName = 'Rate';\r\n\r\nRate.defaultProps = {\r\n  count: 5,\r\n  defaultValue: 0,\r\n  allowHalf: false,\r\n  allowClear: false,\r\n  character: <StarFill />,\r\n};\r\n\r\nexport default Rate;\r\n","import Rate from './Rate';\r\n\r\nexport type { RateProps, RateCssVars } from './Rate';\r\n\r\nexport default Rate;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport { Search as SearchIcon } from '@zarm-design/icons';\r\nimport isFunction from 'lodash/isFunction';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Input, { InputRef, InputTextProps } from '../input';\r\nimport { useControllableEventValue } from '../utils/hooks';\r\nimport { resolveOnChange } from '../utils/resolveOnChange';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type BaseSearchBarProps from './interface';\r\n\r\nexport interface SearchBarCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--padding-horizontal'?: React.CSSProperties['paddingRight'];\r\n  '--input-padding-horizontal'?: React.CSSProperties['paddingRight'];\r\n  '--input-height'?: React.CSSProperties['height'];\r\n  '--input-background'?: React.CSSProperties['background'];\r\n  '--input-font-size'?: React.CSSProperties['fontSize'];\r\n  '--input-placeholder-color'?: React.CSSProperties['color'];\r\n  '--input-clear-icon-color'?: React.CSSProperties['color'];\r\n  '--input-border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--cancel-font-size'?: React.CSSProperties['fontSize'];\r\n  '--cancel-color'?: React.CSSProperties['color'];\r\n  '--cancel-margin-left'?: React.CSSProperties['marginLeft'];\r\n  '--cancel-transition'?: React.CSSProperties['transition'];\r\n  '--icon-margin-right'?: React.CSSProperties['marginRight'];\r\n  '--icon-color'?: React.CSSProperties['color'];\r\n}\r\n\r\nexport type SearchBarProps = BaseSearchBarProps &\r\n  React.InputHTMLAttributes<HTMLInputElement> &\r\n  HTMLProps<SearchBarCssVars>;\r\n\r\nconst SearchBar = React.forwardRef<unknown, SearchBarProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    style,\r\n    shape,\r\n    icon,\r\n    placeholder,\r\n    showCancel,\r\n    cancelText,\r\n    defaultValue = '',\r\n    onFocus,\r\n    onBlur,\r\n    onChange,\r\n    onCancel,\r\n    onSubmit,\r\n    ...restProps\r\n  } = props;\r\n  const cancelRef = React.useRef<HTMLDivElement>(null);\r\n  const inputRef = React.useRef<InputRef>();\r\n  const formRef = React.createRef<HTMLFormElement>();\r\n  const [value, setValue] = useControllableEventValue({ ...props, defaultValue });\r\n  const [isFocus, setIsFocus] = React.useState<boolean>(false);\r\n\r\n  const { prefixCls, locale: globalLocal } = React.useContext(ConfigContext);\r\n  const bem = createBEM('search-bar', { prefixCls });\r\n  const locale = globalLocal?.SearchBar;\r\n\r\n  const isShowCancel = React.useMemo(() => {\r\n    if (isFunction(showCancel)) {\r\n      return showCancel(isFocus, value);\r\n    }\r\n    return showCancel && isFocus;\r\n  }, [showCancel, isFocus]);\r\n\r\n  const cls = bem([\r\n    {\r\n      [`${shape}`]: !!shape,\r\n      focus: isFocus,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  const onInputFocus = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    setIsFocus(true);\r\n    onFocus?.(e);\r\n  };\r\n\r\n  const onInputBlur = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    setIsFocus(false);\r\n    onBlur?.(e);\r\n  };\r\n\r\n  const onInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue?.(e);\r\n  };\r\n\r\n  const onFormSubmit = (e?: React.FormEvent) => {\r\n    e?.preventDefault();\r\n    inputRef.current && inputRef.current.blur();\r\n    onSubmit?.(value);\r\n  };\r\n\r\n  const onClickCancelButton = (e): void => {\r\n    resolveOnChange(inputRef.current?.nativeElement, e, setValue);\r\n\r\n    inputRef.current && inputRef.current.blur();\r\n    onCancel?.();\r\n  };\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    focus: inputRef.current?.focus,\r\n    blur: inputRef.current?.blur,\r\n    submit: onFormSubmit,\r\n  }));\r\n\r\n  const renderCancel = () => {\r\n    return (\r\n      isShowCancel && (\r\n        <div className={bem('cancel')} ref={cancelRef} onClick={onClickCancelButton}>\r\n          {cancelText || locale?.cancelText}\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const inputProps: InputTextProps = {\r\n    type: 'search',\r\n    placeholder: placeholder || (locale && locale.placeholder),\r\n    value,\r\n    onFocus: onInputFocus,\r\n    onBlur: onInputBlur,\r\n    onChange: onInputChange,\r\n    ...restProps,\r\n  };\r\n\r\n  return (\r\n    <div className={cls} style={style}>\r\n      <form action=\"#\" className={bem('form')} onSubmit={onFormSubmit} ref={formRef}>\r\n        <div className={bem('content')}>\r\n          {icon !== null && <div className={bem('icon')}>{icon || <SearchIcon size=\"sm\" />}</div>}\r\n          <Input ref={inputRef} {...(inputProps as InputTextProps)} />\r\n        </div>\r\n        {renderCancel()}\r\n      </form>\r\n    </div>\r\n  );\r\n});\r\n\r\nSearchBar.defaultProps = {\r\n  shape: 'radius',\r\n  clearable: true,\r\n};\r\n\r\nSearchBar.displayName = 'SearchBar';\r\n\r\nexport default SearchBar;\r\n","import SearchBar from './SearchBar';\r\n\r\nexport type { SearchBarProps, SearchBarCssVars } from './SearchBar';\r\n\r\nexport default SearchBar;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport isEqual from 'lodash/isEqual';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Picker from '../picker';\r\nimport { resolved } from '../picker-view/utils';\r\nimport { toArray } from '../utils';\r\nimport { HTMLProps } from '../utils/utilityTypes';\r\nimport type { WheelItem } from '../wheel/interface';\r\nimport type { BaseSelectProps } from './interface';\r\n\r\nexport interface SelectCssVars {\r\n  '--height': React.CSSProperties['height'];\r\n  '--disabled-color': React.CSSProperties['color'];\r\n  '--placeholder-color': React.CSSProperties['color'];\r\n  '--arrow-color': React.CSSProperties['color'];\r\n  '--arrow-size': React.CSSProperties['width'];\r\n  '--arrow-width': React.CSSProperties['width'];\r\n}\r\n\r\nexport type SelectProps = BaseSelectProps &\r\n  Omit<React.HTMLAttributes<HTMLDivElement>, 'defaultValue' | 'onChange'> &\r\n  HTMLProps<SelectCssVars>;\r\n\r\nexport interface SelectState {\r\n  selectValue: Array<WheelItem>;\r\n  visible: boolean;\r\n}\r\n\r\nconst Select = React.forwardRef<HTMLDivElement, SelectProps>((props, ref) => {\r\n  const {\r\n    placeholder,\r\n    className,\r\n    style,\r\n    disabled,\r\n    displayRender,\r\n    value,\r\n    onChange,\r\n    onCancel,\r\n    onConfirm,\r\n    defaultValue,\r\n    ...rest\r\n  } = props;\r\n\r\n  const { prefixCls, locale } = React.useContext(ConfigContext);\r\n  const bem = createBEM('select', { prefixCls });\r\n  const [innerValue, setInnerValue] = React.useState(toArray(value || defaultValue));\r\n  const [visible, setVisible] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (props.value === undefined) return;\r\n    if (isEqual(props.value, innerValue)) return;\r\n    setInnerValue(resolved(props).value);\r\n  }, [props.value]);\r\n\r\n  const handleClick = React.useCallback(() => {\r\n    if (disabled) return;\r\n    setVisible(true);\r\n  }, [disabled]);\r\n\r\n  const handleonConfirm = (changedValue, dataSource) => {\r\n    setVisible(false);\r\n    onConfirm?.(changedValue, dataSource);\r\n  };\r\n\r\n  const handleOnCancel = () => {\r\n    setVisible(false);\r\n    onCancel?.();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        ref={ref}\r\n        className={bem([\r\n          {\r\n            placeholder: !innerValue.length,\r\n            disabled,\r\n            visible,\r\n          },\r\n          className,\r\n        ])}\r\n        style={style}\r\n        onClick={handleClick}\r\n      >\r\n        <div className={bem('input')}>\r\n          <div className={bem('value')}>\r\n            {(innerValue.length && displayRender!(resolved(props).items || [])) ||\r\n              placeholder ||\r\n              locale?.Select?.placeholder}\r\n          </div>\r\n        </div>\r\n        <div className={bem('arrow')} />\r\n      </div>\r\n      <Picker\r\n        {...rest}\r\n        visible={visible}\r\n        value={innerValue}\r\n        onConfirm={handleonConfirm}\r\n        onChange={onChange}\r\n        onCancel={handleOnCancel}\r\n      />\r\n    </>\r\n  );\r\n});\r\n\r\nSelect.displayName = 'Select';\r\n\r\nSelect.defaultProps = {\r\n  dataSource: [],\r\n  cols: Infinity,\r\n  maskClosable: true,\r\n  displayRender: (items) => items?.map((item) => item && item.label),\r\n  onClick: () => {},\r\n};\r\n\r\nexport default Select;\r\n","import Select from './Select';\r\n\r\nexport type { SelectProps, SelectCssVars } from './Select';\r\n\r\nexport default Select;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport includes from 'lodash/includes';\r\nimport * as React from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { SkeletonLineShape, SkeletonShape } from './interface';\r\n\r\n// SkeletonTitle和SkeletonParagraph的shape属性值集合\r\nconst SKELETONLINESHAPE = ['radius', 'rect'];\r\n\r\nexport interface SkeletonCssVars {\r\n  '--width'?: React.CSSProperties['width'];\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--margin'?: React.CSSProperties['margin'];\r\n}\r\n\r\nexport type SkeletonProps = HTMLProps<SkeletonCssVars> & {\r\n  shape?: SkeletonShape;\r\n  animated?: boolean;\r\n};\r\n\r\nexport type SkeletonTitleProps = HTMLProps<SkeletonCssVars> & {\r\n  shape?: SkeletonLineShape;\r\n  animated?: boolean;\r\n};\r\n\r\nexport type SkeletonParagraphProps = HTMLProps & {\r\n  shape?: SkeletonLineShape;\r\n  animated?: boolean;\r\n  lineCount?: number;\r\n};\r\n\r\nconst Skeleton = (props: SkeletonProps) => {\r\n  const { className, shape, animated, ...restProps } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('skeleton', { prefixCls });\r\n  const cls = bem([\r\n    {\r\n      [`${shape}`]: !!shape,\r\n      animated,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  return <div className={cls} {...restProps} />;\r\n};\r\n\r\nSkeleton.displayName = 'skeleton';\r\n\r\nSkeleton.defaultProps = {\r\n  shape: 'radius',\r\n};\r\n\r\n// SkeletonTitle\r\nconst SkeletonTitle = (props: SkeletonTitleProps) => {\r\n  const { className, shape, ...restProps } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('skeleton', { prefixCls });\r\n  const cls = bem('title', [className]);\r\n  const _shape = shape && includes(SKELETONLINESHAPE, shape) ? shape : undefined;\r\n\r\n  return <Skeleton shape={_shape} className={cls} {...restProps} />;\r\n};\r\n\r\n// SkeletonParagraph\r\nconst SkeletonParagraph = (props: SkeletonParagraphProps) => {\r\n  const { className, shape, lineCount = 3, animated, ...restProps } = props;\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('skeleton', { prefixCls });\r\n  const cls = bem('paragraph', [className]);\r\n  const lineCls = bem('line');\r\n  const _shape = shape && includes(SKELETONLINESHAPE, shape) ? shape : undefined;\r\n\r\n  return (\r\n    <div className={cls} {...restProps}>\r\n      {lineCount > 0\r\n        ? Array(lineCount)\r\n            .fill(1)\r\n            .map((...arg) => (\r\n              <Skeleton key={arg[1]} shape={_shape} animated={animated} className={lineCls} />\r\n            ))\r\n        : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Skeleton;\r\nexport { SkeletonTitle, SkeletonParagraph };\r\n","import Skeleton, { SkeletonTitle as Title, SkeletonParagraph as Paragraph } from './Skeleton';\r\nimport attachPropertiesToComponent from '../utils/attachPropertiesToComponent';\r\n\r\nexport type {\r\n  SkeletonProps,\r\n  SkeletonTitleProps,\r\n  SkeletonParagraphProps,\r\n  SkeletonCssVars,\r\n} from './Skeleton';\r\n\r\nexport default attachPropertiesToComponent(Skeleton, { Title, Paragraph });\r\n","import type PropsType from '../interface';\r\n\r\nexport default function getClosestPoint(\r\n  val: number,\r\n  { marks = {}, step = 1, min = 0, max = 10 }: Pick<PropsType, 'marks' | 'step' | 'min' | 'max'>,\r\n) {\r\n  if (max < min) {\r\n    throw new Error(`\"max\" should be greater than \"min\". Got \"min\" = ${min}, \"max\" = ${max}`);\r\n  }\r\n\r\n  const points = Object.keys(marks || {}).map(parseFloat);\r\n  if (step !== null) {\r\n    const maxSteps = Math.floor((max - min) / step);\r\n    const steps = Math.min((val - min) / step, maxSteps);\r\n    const closestStep = Math.round(steps) * step + min;\r\n    points.push(closestStep);\r\n  }\r\n  const diffs = points.map((point) => Math.abs(val - point));\r\n\r\n  return points[diffs.indexOf(Math.min(...diffs))];\r\n}\r\n","const getValue = (props: { value?: number; defaultValue?: number }, defaultValue: number) => {\r\n  if (typeof props.value !== 'undefined') {\r\n    return props.value;\r\n  }\r\n  if (typeof props.defaultValue !== 'undefined') {\r\n    return props.defaultValue || defaultValue;\r\n  }\r\n  return defaultValue;\r\n};\r\n\r\nexport default getValue;\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { useDrag } from '@use-gesture/react';\r\nimport isPlainObject from 'lodash/isPlainObject';\r\nimport BaseSliderProps from './interface';\r\nimport Events from '../utils/events';\r\nimport Tooltip from '../tooltip';\r\nimport ensureValuePrecision from './utils/ensureValuePrecision';\r\nimport getValue from './utils/getValue';\r\nimport { ConfigContext } from '../config-provider';\r\n\r\nexport interface SliderCssVars {\r\n  '--line-size'?: React.CSSProperties['width' | 'height'];\r\n  '--line-border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--line-background'?: React.CSSProperties['background'];\r\n  '--line-active-background'?: React.CSSProperties['background'];\r\n  '--dot-size'?: React.CSSProperties['width' | 'height'];\r\n  '--dot-background'?: React.CSSProperties['background'];\r\n  '--dot-border-color'?: React.CSSProperties['borderColor'];\r\n  '--dot-border-width'?: React.CSSProperties['borderWidth'];\r\n  '--dot-active-border-color'?: React.CSSProperties['borderColor'];\r\n  '--knob-size'?: React.CSSProperties['width' | 'height'];\r\n  '--knob-size-small'?: React.CSSProperties['width' | 'height'];\r\n  '--knob-background'?: React.CSSProperties['background'];\r\n  '--knob-box-shadow'?: React.CSSProperties['boxShadow'];\r\n  '--mark-font-size'?: React.CSSProperties['fontSize'];\r\n  '--mark-text-color'?: React.CSSProperties['color'];\r\n  '--mark-spacing'?: React.CSSProperties['left' | 'top'];\r\n  '--disabled-opacity'?: React.CSSProperties['opacity'];\r\n}\r\n\r\nexport interface SliderProps\r\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, 'defaultValue' | 'onChange'>,\r\n    BaseSliderProps {}\r\n\r\nconst Slider = React.forwardRef<HTMLDivElement, SliderProps>((props, ref) => {\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('slider', { prefixCls });\r\n\r\n  const {\r\n    className,\r\n    disabled,\r\n    min,\r\n    max,\r\n    vertical,\r\n    showMark,\r\n    value,\r\n    marks,\r\n    onChange,\r\n    onSlideChange,\r\n    defaultValue,\r\n    style,\r\n  } = props;\r\n  const [tooltip, setTooltip] = useState(false);\r\n  const [currentValue, setCurrentValue] = React.useState(getValue(props, 0));\r\n\r\n  const lineRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const getMaxOffset = () => {\r\n    const divRect = lineRef?.current?.getBoundingClientRect();\r\n    return (vertical ? divRect?.height : divRect?.width) || 0;\r\n  };\r\n\r\n  const getOffsetByValue = (val: number): number => {\r\n    const maxOffset = getMaxOffset();\r\n    const range = max! - min!;\r\n\r\n    return vertical ? maxOffset * ((max! - val) / range) : maxOffset * ((val - min!) / range);\r\n  };\r\n\r\n  const getValueByOffset = (offset: number): number => {\r\n    const maxOffset = getMaxOffset();\r\n    const percent = offset / maxOffset;\r\n\r\n    const val = vertical\r\n      ? (1 - percent) * (max! - min!) + min!\r\n      : Math.round(min! + (max! - min!) * percent);\r\n\r\n    return ensureValuePrecision(val, props);\r\n  };\r\n\r\n  const offsetStart = useRef(0);\r\n  useEffect(() => {\r\n    const val = getValue(\r\n      {\r\n        defaultValue,\r\n        value,\r\n      },\r\n      0,\r\n    );\r\n    setCurrentValue(val);\r\n  }, [defaultValue, value]);\r\n\r\n  const trackClick = useCallback(\r\n    (event: React.MouseEvent) => {\r\n      event.stopPropagation();\r\n      if (disabled) return;\r\n      const line = lineRef.current;\r\n      if (!line) return;\r\n      const { left, top } = line.getBoundingClientRect();\r\n      const offset = vertical ? event.clientY - top : event.clientX - left;\r\n      let current = getValueByOffset(offset);\r\n      current = Math.min(max!, Math.max(min!, current));\r\n      setCurrentValue(current);\r\n      if (typeof onChange === 'function') {\r\n        onChange(current);\r\n      }\r\n    },\r\n    [onChange, max, min],\r\n  );\r\n\r\n  const bind = useDrag(\r\n    (state) => {\r\n      const [offsetX, offsetY] = [state.xy[0] - state.initial[0], state.xy[1] - state.initial[1]];\r\n      state.event.stopPropagation();\r\n      if (state.first) {\r\n        offsetStart.current = getOffsetByValue(currentValue);\r\n        setTooltip(true);\r\n      }\r\n      let offset = vertical ? offsetY : offsetX;\r\n      offset += offsetStart.current;\r\n      const maxOffset = getMaxOffset();\r\n      offset = Math.min(maxOffset, Math.max(offset, 0));\r\n      const current = getValueByOffset(offset);\r\n      setCurrentValue(current);\r\n      if (state.dragging && !state.first) {\r\n        onSlideChange?.(current);\r\n      }\r\n      if (state.last) {\r\n        setTooltip(false);\r\n        onChange?.(currentValue);\r\n      }\r\n    },\r\n    {\r\n      enabled: !props.disabled,\r\n      axis: vertical ? 'y' : 'x',\r\n      pointer: { touch: true },\r\n      preventDefault: !Events.supportsPassiveEvents,\r\n    },\r\n  );\r\n\r\n  const renderMark = () => {\r\n    const isEmptyMarks = !isPlainObject(marks) || JSON.stringify(marks) === '{}';\r\n\r\n    if (showMark && isEmptyMarks) {\r\n      console.error('请输入有效的 marks');\r\n      return null;\r\n    }\r\n    // 判断是否为空对象\r\n    if (isEmptyMarks) {\r\n      return null;\r\n    }\r\n\r\n    const markKeys = Object.keys(marks || {});\r\n\r\n    const lineDot = markKeys.map((item) => {\r\n      const dotStyle = bem('dot', [\r\n        {\r\n          active: currentValue >= +item,\r\n        },\r\n      ]);\r\n\r\n      const markStyle: React.CSSProperties = {\r\n        [`${vertical ? 'bottom' : 'left'}`]: `${item}%`,\r\n      };\r\n\r\n      return <span key={item} className={dotStyle} style={markStyle} />;\r\n    });\r\n\r\n    if (!showMark) {\r\n      return lineDot;\r\n    }\r\n\r\n    const marksElement = markKeys.map((item) => {\r\n      const markStyle: React.CSSProperties = {\r\n        [`${vertical ? 'bottom' : 'left'}`]: `${item}%`,\r\n      };\r\n\r\n      return (\r\n        <span key={item} className={bem('mark')} style={markStyle}>\r\n          {marks?.[+item]}\r\n        </span>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <>\r\n        {lineDot}\r\n        <div className={bem('marks')}>{marksElement}</div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const cls = bem([\r\n    {\r\n      disabled,\r\n      vertical,\r\n      marked: showMark,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  const ratio = (currentValue - min!) / (max! - min!);\r\n  const offset = `${ratio * 100}%`;\r\n\r\n  const knobStyle: React.CSSProperties = {\r\n    [`${vertical ? 'bottom' : 'left'}`]: offset || 0,\r\n  };\r\n\r\n  const lineBg: React.CSSProperties = {\r\n    [`${vertical ? 'height' : 'width'}`]: offset || 0,\r\n  };\r\n\r\n  return (\r\n    <div className={cls} ref={ref} style={style}>\r\n      <div className={bem('content')}>\r\n        <div className={bem('line')} ref={lineRef} onClick={trackClick}>\r\n          <div className={bem('line__bg')} style={lineBg} />\r\n          {renderMark()}\r\n        </div>\r\n        <div\r\n          className={bem('knob')}\r\n          role=\"slider\"\r\n          aria-valuemin={min}\r\n          aria-valuemax={max}\r\n          aria-valuenow={value}\r\n          aria-orientation={vertical ? 'vertical' : 'horizontal'}\r\n          style={knobStyle}\r\n          {...bind()}\r\n        >\r\n          <Tooltip trigger=\"manual\" arrowPointAtCenter visible={tooltip} content={currentValue}>\r\n            <div className={bem('knob__shadow')} />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nSlider.displayName = 'Slider';\r\nSlider.defaultProps = {\r\n  disabled: false,\r\n  showMark: false,\r\n  vertical: false,\r\n  step: 1,\r\n  min: 0,\r\n  max: 100,\r\n  marks: {},\r\n};\r\n\r\nexport default Slider;\r\n","import getClosestPoint from './getClosestPoint';\r\nimport getPrecision from './getPrecision';\r\nimport type PropsType from '../interface';\r\n\r\nexport default function ensureValuePrecision(\r\n  val: number,\r\n  props: Pick<PropsType, 'marks' | 'step' | 'min' | 'max'>,\r\n) {\r\n  const { step } = props;\r\n  const closestPoint = Number.isFinite(getClosestPoint(val, props))\r\n    ? getClosestPoint(val, props)\r\n    : 0;\r\n  return step === null ? closestPoint : parseFloat(closestPoint.toFixed(getPrecision(step!)));\r\n}\r\n","export default function getPrecision(step: number): number {\r\n  const stepString = step.toString();\r\n  let precision = 0;\r\n  if (stepString.indexOf('.') >= 0) {\r\n    precision = stepString.length - stepString.indexOf('.') - 1;\r\n  }\r\n  return precision;\r\n}\r\n","import React from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { Minus as MinusIcon, Plus as PlusIcon } from '@zarm-design/icons';\r\nimport type { BaseStepperProps } from './interface';\r\nimport Button from '../button';\r\nimport { ConfigContext } from '../config-provider';\r\nimport CustomInput from '../custom-input';\r\nimport type { CustomInputProps } from '../custom-input';\r\nimport Input from '../input';\r\nimport type { InputProps } from '../input';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport interface StepperCssVars {\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--input-width'?: React.CSSProperties['width'];\r\n  '--input-background'?: React.CSSProperties['background'];\r\n  '--input-border-width'?: React.CSSProperties['borderWidth'];\r\n  '--input-border-color'?: React.CSSProperties['borderColor'];\r\n  '--input-border-radius'?: React.CSSProperties['borderRadius'],\r\n  '--input-text-color'?: React.CSSProperties['color'],\r\n  '--input-font-size'?: React.CSSProperties['fontSize'];\r\n  '--input-disabled-text-color'?: React.CSSProperties['color'];\r\n  '--input-disabled-opacity'?: React.CSSProperties['opacity'];\r\n  '--input-margin'?: React.CSSProperties['margin'];\r\n  '--input-padding'?: React.CSSProperties['padding'];\r\n  '--icon-font-size'?: React.CSSProperties['fontSize'];\r\n}\r\n\r\nconst compareValue = (value, max, min) => {\r\n  if (typeof max === 'number') {\r\n    value = value > max ? max : value;\r\n  }\r\n  if (typeof min === 'number') {\r\n    value = value < min ? min : value;\r\n  }\r\n  return value;\r\n};\r\n\r\nconst getPrecision = (value) => {\r\n  const valueStr = value?.toString();\r\n  if (valueStr && valueStr.indexOf('e-') >= 0) {\r\n    return parseInt(valueStr.slice(valueStr.indexOf('-e')), 10);\r\n  }\r\n  let precision = 0;\r\n  if (valueStr && valueStr.indexOf('.') >= 0) {\r\n    precision = valueStr.length - valueStr.indexOf('.') - 1;\r\n  }\r\n  return precision;\r\n};\r\n\r\nconst getMaxPrecision = (currentValue, step) => {\r\n  const stepPrecision = getPrecision(step);\r\n  const currentValuePrecision = getPrecision(currentValue);\r\n  return Math.max(currentValuePrecision, stepPrecision);\r\n};\r\n\r\nconst getPrecisionFactor = (currentValue, step) => {\r\n  const precision = getMaxPrecision(currentValue, step);\r\n  return 10 ** precision;\r\n};\r\n\r\nconst formatValue = (currentValue, step) => {\r\n  const precision = getMaxPrecision(currentValue, step);\r\n  // 小数当字符串处理，因为1.00在jstoFixed(2)返回的是字符串\r\n  if (precision > 0) {\r\n    return Number(currentValue).toFixed(precision);\r\n  }\r\n  return Number(Number(currentValue).toFixed(precision));\r\n};\r\n\r\nconst getValue = (props: StepperProps, defaultValue: number) => {\r\n  const { value, max, min, step } = props;\r\n  let tempValue = props.defaultValue === undefined ? defaultValue : props.defaultValue;\r\n  tempValue = value === undefined ? tempValue : value;\r\n  return formatValue(compareValue(tempValue, max, min), step);\r\n};\r\n\r\nexport type StepperProps = BaseStepperProps & HTMLProps<StepperCssVars>;\r\n\r\nconst Stepper = React.forwardRef<unknown, StepperProps>((props, ref) => {\r\n  const {\r\n    className,\r\n    style,\r\n    shape,\r\n    disabled,\r\n    size,\r\n    type,\r\n    disableInput,\r\n    step,\r\n    max,\r\n    min,\r\n    value,\r\n    defaultValue,\r\n    onChange,\r\n    onInputChange,\r\n  } = props;\r\n\r\n  const stepperRef = (ref as any) || React.createRef<HTMLSpanElement>();\r\n\r\n  const [currentValue, setCurrentValue] = React.useState(\r\n    getValue({ value, defaultValue, min, max }, 0),\r\n  );\r\n  const [lastValue, setLastValue] = React.useState(\r\n    getValue({ value, defaultValue, min, max, step }, 0),\r\n  );\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('stepper', { prefixCls });\r\n\r\n  const onInputChangeCallback = (newValue: string | number) => {\r\n    setCurrentValue(newValue);\r\n    onInputChange?.(newValue);\r\n  };\r\n\r\n  const onInputBlur = (newValue: number | string) => {\r\n    let newCurrentValue = newValue;\r\n    if (Number.isNaN(Number(newValue))) {\r\n      newCurrentValue = lastValue;\r\n    }\r\n    newCurrentValue = formatValue(compareValue(newCurrentValue, max, min), step);\r\n    setCurrentValue(newCurrentValue);\r\n    setLastValue(newCurrentValue);\r\n    onChange?.(newCurrentValue);\r\n  };\r\n\r\n  const isSubDisabled = () => {\r\n    if (min === null) {\r\n      return false;\r\n    }\r\n    return currentValue <= min! || disabled;\r\n  };\r\n\r\n  const isPlusDisabled = () => {\r\n    if (max === null) {\r\n      return false;\r\n    }\r\n    return currentValue >= max! || disabled;\r\n  };\r\n\r\n  const onSubClick = () => {\r\n    if (isSubDisabled()) {\r\n      return;\r\n    }\r\n    const precisionFactor = getPrecisionFactor(currentValue, step);\r\n    const precision = getMaxPrecision(currentValue, step);\r\n    const newValue =\r\n      (precisionFactor * Number(currentValue) - precisionFactor * step!) / precisionFactor;\r\n    onInputBlur(newValue.toFixed(precision));\r\n  };\r\n\r\n  const onPlusClick = () => {\r\n    if (isPlusDisabled()) {\r\n      return;\r\n    }\r\n    const precisionFactor = getPrecisionFactor(currentValue, step);\r\n    const precision = getMaxPrecision(currentValue, step);\r\n    const newValue =\r\n      (precisionFactor * Number(currentValue) + precisionFactor * step!) / precisionFactor;\r\n    onInputBlur(newValue.toFixed(precision));\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const newValue = getValue({ value, defaultValue, min, max, step }, 0);\r\n    setCurrentValue(newValue);\r\n    setLastValue(newValue);\r\n  }, [value, defaultValue, min, max, step]);\r\n\r\n  const cls = bem([\r\n    {\r\n      [`${shape}`]: !!shape,\r\n      [`${size}`]: !!size,\r\n      disabled,\r\n    },\r\n    className,\r\n  ]);\r\n\r\n  const inputCls = bem('input', [\r\n    {\r\n      disabled: disableInput,\r\n    },\r\n  ]);\r\n\r\n  const buttonSize = size === 'lg' ? 'sm' : 'xs';\r\n\r\n  const inputProps = {\r\n    className: inputCls,\r\n    type,\r\n    value: currentValue,\r\n    disabled: disabled || disableInput,\r\n    clearable: false,\r\n    onChange: () => !disabled && onInputChangeCallback(currentValue),\r\n    onBlur: () => !disabled && onInputBlur(currentValue),\r\n  };\r\n\r\n  return (\r\n    <span ref={stepperRef} className={cls} style={style}>\r\n      <Button\r\n        className={bem('sub')}\r\n        size={buttonSize}\r\n        disabled={isSubDisabled()}\r\n        shape={shape}\r\n        onClick={onSubClick}\r\n      >\r\n        <MinusIcon />\r\n      </Button>\r\n      {['price'].indexOf(type!) > -1 ? (\r\n        <CustomInput\r\n          {...(inputProps as CustomInputProps)}\r\n          onChange={(v) => !disabled && onInputChangeCallback(v!)}\r\n        />\r\n      ) : (\r\n        <Input\r\n          {...(inputProps as InputProps)}\r\n          onChange={(e) => !disabled && onInputChangeCallback(e.target.value)}\r\n        />\r\n      )}\r\n      <Button\r\n        className={bem('plus')}\r\n        size={buttonSize}\r\n        disabled={isPlusDisabled()}\r\n        shape={shape}\r\n        onClick={onPlusClick}\r\n      >\r\n        <PlusIcon />\r\n      </Button>\r\n    </span>\r\n  );\r\n});\r\n\r\nStepper.displayName = 'Stepper';\r\nStepper.defaultProps = {\r\n  shape: 'radius',\r\n  disabled: false,\r\n  step: 1,\r\n  type: 'number',\r\n  disableInput: false,\r\n};\r\n\r\nexport default Stepper;\r\n","import Stepper from './Stepper';\r\n\r\nexport type { StepperProps, StepperCssVars } from './Stepper';\r\n\r\nexport default Stepper;\r\n","import * as React from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport Button from '../button';\r\nimport { useSafeState } from '../utils/hooks';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseSwipeActionItemProps } from './interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\n\r\nexport type SwipeActionItemProps = BaseSwipeActionItemProps & HTMLProps;\r\n\r\nconst SwipeActionItem = React.forwardRef<HTMLDivElement, SwipeActionItemProps>((props, ref) => {\r\n  const { className, text, onClick, theme = 'primary', ...rest } = props;\r\n  const [loading, setLoading] = useSafeState(false);\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('swipe-action-item', { prefixCls });\r\n  const cls = bem('item', [className]);\r\n\r\n  return (\r\n    <Button\r\n      {...rest}\r\n      className={cls}\r\n      ref={ref}\r\n      shape=\"rect\"\r\n      size=\"md\"\r\n      theme={theme}\r\n      loading={loading}\r\n      onClick={async () => {\r\n        setLoading(true);\r\n        try {\r\n          await onClick?.();\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      }}\r\n    >\r\n      {loading ? null : text}\r\n    </Button>\r\n  );\r\n});\r\n\r\nexport default SwipeActionItem;\r\n","import { useDrag } from '@use-gesture/react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport React, { useCallback, useContext, useRef } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport useClickAway from '../use-click-away';\r\nimport { useSafeState } from '../utils/hooks';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseSwipeActionItemProps, BaseSwipeActionProps } from './interface';\r\nimport SwipeActionItem from './SwipeActionItem';\r\n\r\nexport interface SwipeActionCssVars {\r\n  '--background'?: React.CSSProperties['background'];\r\n}\r\n\r\nexport type SwipeActionItemProps = HTMLProps & BaseSwipeActionItemProps;\r\n\r\nexport type SwipeActionProps = BaseSwipeActionProps &\r\n  React.PropsWithChildren<HTMLProps<SwipeActionCssVars>> & {\r\n    leftActions?: SwipeActionItemProps[];\r\n    rightActions?: SwipeActionItemProps[];\r\n  };\r\n\r\nconst SwipeAction = React.forwardRef<HTMLDivElement, SwipeActionProps>((props, ref) => {\r\n  const {\r\n    children,\r\n    className,\r\n    leftActions,\r\n    rightActions,\r\n    moveDistanceRatio,\r\n    moveTimeSpan,\r\n    animationDuration: initialAnimationDuration,\r\n    offset,\r\n    autoClose,\r\n    disabled,\r\n    onClose,\r\n    onOpen,\r\n  } = props;\r\n\r\n  const isOpen = useRef<null | string>(null);\r\n  const pending = useRef(false);\r\n  const leftRef = useRef<HTMLDivElement>();\r\n  const rightRef = useRef<HTMLDivElement>();\r\n  const swipeActionWrap = useRef<HTMLDivElement | null>((ref as any) || null);\r\n  const { prefixCls } = useContext(ConfigContext);\r\n  const [offsetLeft, setOffsetLeft] = useSafeState<number>(0);\r\n  const [animationDuration, setAnimationDuration] = useSafeState(initialAnimationDuration);\r\n  const bem = createBEM('swipe-action', { prefixCls });\r\n\r\n  const doTransition = useCallback(\r\n    ({ offsetX, duration }) => {\r\n      setAnimationDuration(duration);\r\n      setOffsetLeft(offsetX);\r\n    },\r\n    [offsetLeft],\r\n  );\r\n\r\n  useClickAway(\r\n    swipeActionWrap.current,\r\n    () => {\r\n      close();\r\n    },\r\n    'ontouchstart' in window ? 'touchstart' : 'mousedown',\r\n  );\r\n\r\n  const dragStart = useRef(0);\r\n\r\n  const close = () => {\r\n    if (pending.current) return;\r\n    doTransition({ offsetX: 0, duration: initialAnimationDuration });\r\n    isOpen.current = null;\r\n    dragStart.current = 0;\r\n  };\r\n\r\n  const renderButtons = (actions, direction, refs) => {\r\n    if (!actions || actions.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const cls = bem('actions', [{ [`${direction}`]: true }]);\r\n\r\n    return (\r\n      <div className={cls} ref={refs}>\r\n        {actions.map((action, index) => {\r\n          return (\r\n            <SwipeActionItem\r\n              {...action}\r\n              key={+index}\r\n              onClick={async () => {\r\n                pending.current = true;\r\n                await action.onClick?.();\r\n                pending.current = false;\r\n                if (autoClose) {\r\n                  close?.();\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const dragging = useRef(false);\r\n  const btnsLeftWidth = leftRef?.current?.offsetWidth || 0;\r\n  const btnsRightWidth = rightRef?.current?.offsetWidth || 0;\r\n\r\n  const bind = useDrag(\r\n    (state) => {\r\n      const [offsetX] = state.offset;\r\n      if (\r\n        (isOpen.current === 'right' && offsetX < 0) ||\r\n        (isOpen.current === 'left' && offsetX > 0)\r\n      ) {\r\n        return false;\r\n      }\r\n      if (state.down) {\r\n        dragging.current = true;\r\n      }\r\n      if (!dragging.current) return;\r\n      dragStart.current = offsetX;\r\n\r\n      if (offsetX > 0 && !leftRef?.current) {\r\n        return false;\r\n      }\r\n\r\n      if (offsetX < 0 && !rightRef?.current) {\r\n        return false;\r\n      }\r\n\r\n      if (state.last) {\r\n        const timeSpan = Math.floor(state.elapsedTime);\r\n        let distanceX = 0;\r\n        let _isOpen = false;\r\n        if (\r\n          btnsLeftWidth > 0 &&\r\n          (offsetX / btnsLeftWidth > moveDistanceRatio! ||\r\n            (offsetX > 0 && timeSpan <= moveTimeSpan!))\r\n        ) {\r\n          distanceX = btnsLeftWidth;\r\n          _isOpen = true;\r\n        } else if (\r\n          (btnsRightWidth > 0 && offsetX / btnsRightWidth < -moveDistanceRatio!) ||\r\n          (offsetX < 0 && timeSpan <= moveTimeSpan!)\r\n        ) {\r\n          distanceX = -btnsRightWidth;\r\n          _isOpen = true;\r\n        }\r\n        doTransition({ offsetX: distanceX, duration: initialAnimationDuration });\r\n\r\n        if (_isOpen) {\r\n          // 打开\r\n          isOpen.current = distanceX > 0 ? 'left' : 'right';\r\n          onOpen?.();\r\n        } else {\r\n          // 还原\r\n          close();\r\n        }\r\n        window.setTimeout(() => {\r\n          dragging.current = false;\r\n        });\r\n      } else {\r\n        doTransition({ offsetX, duration: 0 });\r\n      }\r\n    },\r\n    {\r\n      from: () => [dragStart.current, 0],\r\n      bounds: () => {\r\n        const leftWidth = leftRef?.current?.offsetWidth || 0;\r\n        const rightWidth = rightRef?.current?.offsetWidth || 0;\r\n        return {\r\n          left: -rightWidth - offset!,\r\n          right: leftWidth + offset!,\r\n        };\r\n      },\r\n      enabled: !disabled,\r\n      axis: 'x',\r\n      pointer: { touch: true },\r\n      preventScroll: true,\r\n      triggerAllEvents: true,\r\n    },\r\n  );\r\n\r\n  const style = {\r\n    WebkitTransitionDuration: `${animationDuration}ms`,\r\n    transitionDuration: `${animationDuration}ms`,\r\n    WebkitTransform: `translate3d(${offsetLeft}px, 0, 0)`,\r\n    transform: `translate3d(${offsetLeft}px, 0, 0)`,\r\n  };\r\n\r\n  const cls = bem([className]);\r\n\r\n  return (\r\n    <>\r\n      {leftActions || rightActions ? (\r\n        <div ref={swipeActionWrap} className={cls} style={props.style} {...bind()}>\r\n          {renderButtons(leftActions, 'left', leftRef)}\r\n          {renderButtons(rightActions, 'right', rightRef)}\r\n          <div\r\n            className={bem('content')}\r\n            style={style}\r\n            onTransitionEnd={() => !isOpen.current && onClose?.()}\r\n            onClick={(e) => {\r\n              if (isOpen.current && !dragging.current) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                close();\r\n              }\r\n            }}\r\n          >\r\n            {children}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        children\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nSwipeAction.displayName = 'SwipeAction';\r\n\r\nSwipeAction.defaultProps = {\r\n  leftActions: [],\r\n  rightActions: [],\r\n  moveDistanceRatio: 0.5,\r\n  moveTimeSpan: 300,\r\n  animationDuration: 300,\r\n  offset: 10,\r\n  autoClose: true,\r\n  disabled: false,\r\n};\r\n\r\nexport default SwipeAction;\r\n","import SwipeAction from './SwipeAction';\r\n\r\nexport type { SwipeActionProps, SwipeActionCssVars } from './SwipeAction';\r\n\r\nexport default SwipeAction;\r\n","import * as React from 'react';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseSwitchProps } from './interface';\r\n\r\nexport interface SwitchCssVars {\r\n  '--width'?: React.CSSProperties['width'];\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--border-radius'?: React.CSSProperties['borderRadius'];\r\n  '--transition'?: React.CSSProperties['transition'];\r\n  '--checked-background'?: React.CSSProperties['background'];\r\n  '--knob-background'?: React.CSSProperties['background'];\r\n  '--knob-size'?: React.CSSProperties['width' | 'height'];\r\n  '--knob-box-shadow'?: React.CSSProperties['boxShadow'];\r\n  '--knob-border-color'?: React.CSSProperties['borderColor'];\r\n  '--knob-border-width'?: React.CSSProperties['width'];\r\n  '--knob-transition'?: React.CSSProperties['transition'];\r\n}\r\n\r\nexport type SwitchProps = BaseSwitchProps &\r\n  Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'>;\r\n\r\nconst Switch = React.forwardRef<HTMLDivElement, SwitchProps>((props, ref) => {\r\n  const { className, style, disabled, checked, defaultChecked, onChange, ...restProps } = props;\r\n  const getChecked = checked || defaultChecked || false;\r\n  const [currentChecked, setCurrentChecked] = React.useState(getChecked);\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('switch', { prefixCls });\r\n  const cls = bem([{ disabled }, className]);\r\n\r\n  const onInputChange = () => {\r\n    const newChecked = !currentChecked;\r\n\r\n    if (!('checked' in props)) {\r\n      setCurrentChecked(newChecked);\r\n    }\r\n\r\n    onChange?.(newChecked);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setCurrentChecked(getChecked);\r\n  }, [getChecked]);\r\n\r\n  return (\r\n    <span className={cls} style={style} ref={ref}>\r\n      <input\r\n        {...restProps}\r\n        role=\"switch\"\r\n        aria-checked={currentChecked}\r\n        type=\"checkbox\"\r\n        className={bem('input')}\r\n        disabled={disabled}\r\n        value={currentChecked ? 'on' : 'off'}\r\n        checked={'checked' in props ? currentChecked : undefined}\r\n        defaultChecked={'defaultChecked' in props ? defaultChecked : undefined}\r\n        onChange={'onChange' in props ? onInputChange : undefined}\r\n      />\r\n    </span>\r\n  );\r\n});\r\n\r\nSwitch.displayName = 'Switch';\r\n\r\nSwitch.defaultProps = {\r\n  disabled: false,\r\n};\r\n\r\nexport default Switch;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, { cloneElement, useCallback, useState } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseTabBarProps } from './interface';\r\nimport type { TabBarItemProps } from './TabBarItem';\r\nimport TabBarItem from './TabBarItem';\r\n\r\nexport interface TabBarCssVars {\r\n  '--height'?: React.CSSProperties['height'];\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--color'?: React.CSSProperties['color'];\r\n  '--active-color'?: React.CSSProperties['color'];\r\n}\r\n\r\nexport type TabBarProps = BaseTabBarProps & React.PropsWithChildren<HTMLProps<TabBarCssVars>>;\r\n\r\ninterface CompoundedComponent\r\n  extends React.ForwardRefExoticComponent<TabBarProps & React.RefAttributes<HTMLDivElement>> {\r\n  Item: typeof TabBarItem;\r\n}\r\n\r\nconst TabBar = React.forwardRef<HTMLDivElement, TabBarProps>((props, ref) => {\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('tab-bar', { prefixCls });\r\n\r\n  const { className, children, onChange, activeKey, defaultActiveKey, ...rest } = props;\r\n\r\n  const [selectedKey, setSelectedKey] = useState(defaultActiveKey);\r\n\r\n  const onChildChange = useCallback(\r\n    (value: string | number) => {\r\n      if (!activeKey) {\r\n        setSelectedKey(value);\r\n      }\r\n      onChange?.(value);\r\n    },\r\n    [activeKey, onChange],\r\n  );\r\n\r\n  const getSelected = (index: number, itemKey: string | number) => {\r\n    if (!activeKey) {\r\n      if (!defaultActiveKey && index === 0) {\r\n        return true;\r\n      }\r\n      return defaultActiveKey === itemKey;\r\n    }\r\n    return activeKey === itemKey;\r\n  };\r\n\r\n  const items = React.Children.map(\r\n    children,\r\n    (element: React.ReactElement<TabBarItemProps, typeof TabBarItem>, index: number) => {\r\n      if (!React.isValidElement(element)) return null;\r\n      const itemKey = element.props.itemKey || index;\r\n      let selected = getSelected(index, itemKey);\r\n      if (!activeKey) {\r\n        selected = selectedKey === itemKey;\r\n        if (!selectedKey && index === 0) {\r\n          selected = true;\r\n        }\r\n      }\r\n      return cloneElement(element, {\r\n        key: index,\r\n        // disabled: element.props.disabled,\r\n        onClick: () => onChildChange(itemKey),\r\n        badge: element.props.badge,\r\n        title: element.props.title,\r\n        icon: element.props.icon,\r\n        itemKey,\r\n        style: element.props.style,\r\n        selected,\r\n      });\r\n    },\r\n  );\r\n  return (\r\n    <div {...rest} ref={ref} className={bem([className])}>\r\n      <div className={bem('wrapper')}>{items}</div>\r\n    </div>\r\n  );\r\n}) as CompoundedComponent;\r\n\r\nTabBar.displayName = 'TabBar';\r\n\r\nexport default TabBar;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React from 'react';\r\nimport Badge from '../badge';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseTabBarItemProps } from './interface';\r\n\r\nexport interface TabBarItemProps\r\n  extends BaseTabBarItemProps,\r\n    Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange' | 'title'> {}\r\n\r\nconst TabBarItem = React.forwardRef<HTMLDivElement, TabBarItemProps>((props, ref) => {\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('tab-bar', { prefixCls });\r\n\r\n  const { title, icon, badge, selected, activeIcon = icon, onClick, itemKey, ...restProps } = props;\r\n\r\n  const contentRender = (activeIcon || icon) && (\r\n    <div className={bem('icon')}>{selected ? activeIcon : icon}</div>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={bem('item', [\r\n        {\r\n          active: selected,\r\n        },\r\n      ])}\r\n      ref={ref}\r\n      onClick={onClick}\r\n      {...restProps}\r\n    >\r\n      {badge ? <Badge {...badge}>{contentRender}</Badge> : contentRender}\r\n      <div className={bem('title')}>{title}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nTabBarItem.displayName = 'TabBarItem';\r\n\r\nexport default TabBarItem;\r\n","import TabBar from './TabBar';\r\nimport TabBarItem from './TabBarItem';\r\n\r\nexport type { TabBarProps, TabBarCssVars } from './TabBar';\r\nexport type { TabBarItemProps } from './TabBarItem';\r\n\r\nTabBar.Item = TabBarItem;\r\n\r\nexport default TabBar;\r\n","import { useEffect, useState } from 'react';\r\nimport Events from '../utils/events';\r\n\r\nexport interface UseOrientationProps {\r\n  angle: number;\r\n  type: string;\r\n}\r\n\r\nconst defaultProps: UseOrientationProps = {\r\n  angle: 0,\r\n  type: 'portrait-primary',\r\n};\r\n\r\nconst useOrientation = (initialState: UseOrientationProps = defaultProps) => {\r\n  const [state, setState] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    const { screen } = window;\r\n    let mounted = true;\r\n\r\n    const onChange = () => {\r\n      if (mounted) {\r\n        const { orientation } = screen;\r\n        if (orientation) {\r\n          const { angle, type } = orientation;\r\n          setState({ angle, type });\r\n        } else if (window.orientation !== undefined) {\r\n          setState({\r\n            angle: typeof window.orientation === 'number' ? window.orientation : 0,\r\n            type: '',\r\n          });\r\n        } else {\r\n          setState(initialState);\r\n        }\r\n      }\r\n    };\r\n\r\n    Events.on(window, 'orientationchange', onChange);\r\n    onChange();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      Events.off(window, 'orientationchange', onChange);\r\n    };\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n\r\nexport default useOrientation;\r\n","import * as React from 'react';\r\n\r\nconst config = {\r\n  attributes: true,\r\n  characterData: true,\r\n  childList: true,\r\n  subtree: true,\r\n};\r\n\r\ntype useMutationObserverRefTarget = HTMLElement | null;\r\n\r\nconst useMutationObserverRef = (\r\n  callback: MutationCallback,\r\n  options: MutationObserverInit = config,\r\n): [useMutationObserverRefTarget, (node: useMutationObserverRefTarget) => void] => {\r\n  const [target, setTarget] = React.useState<HTMLElement | null>(null);\r\n\r\n  React.useEffect(() => {\r\n    if (target) {\r\n      const observer = new MutationObserver(callback);\r\n      observer.observe(target, options);\r\n\r\n      return () => {\r\n        observer.disconnect();\r\n      };\r\n    }\r\n  }, [target, callback, options]);\r\n\r\n  return [target, setTarget];\r\n};\r\n\r\nexport default useMutationObserverRef;\r\n","import * as React from 'react';\r\nimport type { BaseWaterMarkProps } from './interface';\r\n\r\nexport const WATERMARK_DEFAULT_STYLES: React.CSSProperties = {\r\n  position: 'fixed',\r\n  left: 0,\r\n  top: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  pointerEvents: 'none',\r\n  overflow: 'hidden',\r\n  backgroundColor: 'transparent',\r\n  backgroundRepeat: 'repeat',\r\n};\r\n\r\nexport const TEXT_STYLE_DEFAULT: BaseWaterMarkProps['textStyle'] = {\r\n  color: '#000',\r\n  fontStyle: 'normal',\r\n  fontWeight: 300,\r\n  fontSize: 14,\r\n  fontFamily: 'sans-serif',\r\n  fontVariant: 'normal',\r\n  textAlign: 'center',\r\n  textBaseline: 'alphabetic',\r\n};\r\n\r\nexport const IMAGE_STYLE_DEFAULT: BaseWaterMarkProps['imageStyle'] = {\r\n  width: 120,\r\n  height: 64,\r\n};\r\n\r\nexport const MARK_STYLE_DEFAULT: BaseWaterMarkProps['markStyle'] = {\r\n  width: 120,\r\n  height: 64,\r\n  rotate: -22,\r\n  opacity: 0.15,\r\n  gapX: 100,\r\n  gapY: 100,\r\n  offsetLeft: 0,\r\n  offsetTop: 0,\r\n};\r\n","import * as React from 'react';\r\nimport isString from 'lodash/isString';\r\nimport type { BaseWaterMarkProps, WaterMarkDrawResult } from './interface';\r\n\r\nconst resolveImage = (url: string) => {\r\n  return new Promise<HTMLImageElement>((resolve, reject) => {\r\n    const image = new Image();\r\n    image.crossOrigin = 'anonymous';\r\n    image.referrerPolicy = 'no-referrer';\r\n    image.onload = () => resolve(image);\r\n    image.onerror = () => reject(new Error('图片加载失败'));\r\n    image.src = url;\r\n  });\r\n};\r\n\r\nexport const isContainNode = (nodes: NodeList, target: HTMLElement) =>\r\n  nodes.length && Array.from(nodes).some((node) => node.contains(target));\r\n\r\nexport const compareUUID = (left: Node, right: Node) =>\r\n  (left as HTMLElement)?.dataset?.watermark === (right as HTMLElement)?.dataset?.watermark;\r\n\r\nlet id = 0;\r\nexport const getUUID = () => {\r\n  id += 1;\r\n  return id;\r\n};\r\n\r\nexport const plainStyle = (style: React.CSSProperties) => {\r\n  return Object.entries(style).reduce((acc, [name, value]) => {\r\n    if (value === undefined || value === null) return acc;\r\n    const key = name.replace(/([A-Z])/g, '-$1').toLowerCase();\r\n    return `${acc}${key}:${value};`;\r\n  }, '');\r\n};\r\n\r\nexport const draw = async ({\r\n  text,\r\n  image,\r\n  textStyle,\r\n  imageStyle,\r\n  markStyle,\r\n}: BaseWaterMarkProps): Promise<WaterMarkDrawResult> => {\r\n  const { gapX, gapY, offsetLeft, offsetTop, width, height, opacity, rotate } = markStyle!;\r\n  const canvas = document.createElement('canvas');\r\n  const context = canvas.getContext('2d');\r\n  if (!context) return Promise.reject(new Error('当前环境不支持 Canvas'));\r\n\r\n  const ratio = 3;\r\n  const canvasWidth = (gapX! + width!) * ratio;\r\n  const canvasHeight = (gapY! + height!) * ratio;\r\n\r\n  const canvasOffsetLeft = offsetLeft || gapX! / 2;\r\n  const canvasOffsetTop = offsetTop || gapY! / 2;\r\n\r\n  canvas.setAttribute('width', `${canvasWidth}px`);\r\n  canvas.setAttribute('height', `${canvasHeight}px`);\r\n  // 设置透明度\r\n  context.globalAlpha = opacity!;\r\n  // 旋转画布\r\n  context.translate(canvasOffsetLeft * ratio, canvasOffsetTop * ratio);\r\n  context.rotate((Math.PI / 180) * Number(rotate));\r\n\r\n  if (image) {\r\n    const { width: imageWidth, height: imageHeight } = imageStyle!;\r\n    const img = await resolveImage(image);\r\n    context.drawImage(img, 0, 0, imageWidth! * ratio, imageHeight! * ratio);\r\n\r\n    return { url: canvas.toDataURL(), width: canvasWidth, height: canvasHeight, ratio };\r\n  }\r\n\r\n  if ((Array.isArray(text) && text.length) || isString(text)) {\r\n    const {\r\n      color,\r\n      fontSize,\r\n      fontWeight,\r\n      fontFamily,\r\n      fontStyle,\r\n      fontVariant,\r\n      textAlign,\r\n      textBaseline,\r\n    } = textStyle!;\r\n    const markWidth = width! * ratio;\r\n    const markHeight = height! * ratio;\r\n    // 获取文本的最大宽度\r\n    const texts = Array.isArray(text) ? text : [text!];\r\n    const widths = texts.map((item) => context.measureText(item).width);\r\n    const maxWidth = Math.max.apply(null, widths);\r\n    const markSize = Number(fontSize) * ratio;\r\n\r\n    // 获取行高\r\n    const lineHeight = markSize + 5;\r\n    // 设置文本对齐方式\r\n    context.textAlign = textAlign!;\r\n    // 设置文本基线\r\n    context.textBaseline = textBaseline!;\r\n    // 设置字体颜色\r\n    context.fillStyle = color!;\r\n    // 设置字体\r\n    context.font = `${fontStyle} ${fontVariant} ${fontWeight} ${\r\n      maxWidth > width! ? markSize / 2 : markSize\r\n    }px/${lineHeight}px ${fontFamily}`;\r\n\r\n    // 计算水印在y轴上的初始位置\r\n    let initY = (markHeight - (fontSize! * texts.length + (texts.length - 1) * 5)) / 2;\r\n    initY = initY < 0 ? 0 : initY;\r\n\r\n    let initX = markWidth / 2;\r\n\r\n    switch (textAlign) {\r\n      case 'left':\r\n      case 'start':\r\n        initX = 0;\r\n        break;\r\n      case 'right':\r\n      case 'end':\r\n        initX = width! * ratio;\r\n        break;\r\n    }\r\n\r\n    // 处理多行文本\r\n    for (let i = 0; i < texts.length; i++) {\r\n      context.fillText(texts[i], initX, initY + lineHeight * i, canvasWidth);\r\n    }\r\n\r\n    return { url: canvas.toDataURL(), width: canvasWidth, height: canvasHeight, ratio };\r\n  }\r\n\r\n  return Promise.reject(new Error('图片或文字选项缺失'));\r\n};\r\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { createBEM } from '@zarm-design/bem';\r\nimport { useMutationObserverRef } from '../utils/hooks';\r\nimport { ConfigContext } from '../config-provider';\r\nimport type { BaseWaterMarkProps } from './interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport {\r\n  WATERMARK_DEFAULT_STYLES,\r\n  TEXT_STYLE_DEFAULT,\r\n  IMAGE_STYLE_DEFAULT,\r\n  MARK_STYLE_DEFAULT,\r\n} from './defaults';\r\nimport { draw, isContainNode, getUUID, compareUUID, plainStyle } from './utils';\r\nimport { noop } from '../utils';\r\n\r\nexport type WaterMarkProps = BaseWaterMarkProps & HTMLProps;\r\n\r\nconst MUTATION_OBSERVER_CONFIG = {\r\n  childList: true,\r\n  subtree: true,\r\n  attributeFilter: ['class', 'style', 'data-watermark'],\r\n  attributeOldValue: true,\r\n};\r\n\r\nconst WaterMark: React.FC<WaterMarkProps> = (props) => {\r\n  const uuid = React.useRef(getUUID());\r\n  const { className, text, image, mode, monitor, children } = props;\r\n  const watermark = React.useRef<HTMLDivElement>(null);\r\n  const [styles, setStyels] = React.useState<React.CSSProperties>(WATERMARK_DEFAULT_STYLES);\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n  const bem = createBEM('water-mark', { prefixCls });\r\n\r\n  const textStyle = { ...TEXT_STYLE_DEFAULT!, ...props.textStyle };\r\n  const imageStyle = { ...IMAGE_STYLE_DEFAULT!, ...props.imageStyle };\r\n  const markStyle = { ...MARK_STYLE_DEFAULT!, ...props.markStyle };\r\n\r\n  let rerender = noop;\r\n\r\n  const [, setNode] = useMutationObserverRef((records, observer) => {\r\n    // 重置监听状态\r\n    const reset = (target?: HTMLElement | Node | null, cb?: () => void) => {\r\n      if (!target) return;\r\n      observer.disconnect();\r\n      cb?.();\r\n      observer.observe(target, MUTATION_OBSERVER_CONFIG);\r\n    };\r\n\r\n    records.forEach((record) => {\r\n      const { type, target, attributeName, addedNodes, removedNodes } = record;\r\n      const source = watermark.current;\r\n      if (!source) return;\r\n\r\n      // style 发生变化\r\n      if (type === 'attributes' && target.contains(source)) {\r\n        attributeName === 'class' && source?.removeAttribute('class');\r\n        attributeName === 'style' && rerender();\r\n        attributeName === 'data-watermark' &&\r\n          reset(watermark.current?.parentNode, () =>\r\n            source?.setAttribute('data-watermark', String(uuid.current)),\r\n          );\r\n      }\r\n\r\n      // 篡改节点标签名\r\n      if (type === 'childList' && addedNodes.length) {\r\n        const element = Array.from(addedNodes).find((node) => compareUUID(node, source));\r\n        element && target.removeChild(element);\r\n      }\r\n\r\n      // 移除节点\r\n      if (type === 'childList' && isContainNode(removedNodes, source)) {\r\n        reset(target, () => {\r\n          ReactDOM.unmountComponentAtNode(source);\r\n          target.appendChild(source);\r\n        });\r\n      }\r\n    });\r\n  }, MUTATION_OBSERVER_CONFIG);\r\n\r\n  // 渲染水印\r\n  rerender = async () => {\r\n    const style: React.CSSProperties = { ...WATERMARK_DEFAULT_STYLES };\r\n    try {\r\n      const rest = { text, image, textStyle, imageStyle, markStyle };\r\n      const { url, ratio, width, height } = await draw(rest);\r\n      if (!url) return;\r\n      if (mode === 'repeat') {\r\n        style.backgroundImage = `url(${url})`;\r\n      } else {\r\n        style.backgroundImage = `url(${url}), url(${url})`;\r\n        style.backgroundRepeat = 'repeat, repeat';\r\n        style.backgroundPosition = `${width / 2}px ${height / 2}px, 0 0`;\r\n      }\r\n      style.backgroundSize = `${width / ratio}px`;\r\n      setStyels(style);\r\n      setNode(monitor ? watermark.current?.parentElement! : null);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  };\r\n\r\n  const isContains = React.isValidElement(children);\r\n\r\n  React.useEffect(() => {\r\n    rerender();\r\n  }, [\r\n    textStyle.color,\r\n    textStyle.fontStyle,\r\n    textStyle.fontWeight,\r\n    textStyle.fontSize,\r\n    textStyle.fontFamily,\r\n    textStyle.fontVariant,\r\n    textStyle.textAlign,\r\n    textStyle.textBaseline,\r\n    imageStyle.width,\r\n    imageStyle.height,\r\n    markStyle.width,\r\n    markStyle.height,\r\n    markStyle.rotate,\r\n    markStyle.opacity,\r\n    markStyle.gapX,\r\n    markStyle.gapY,\r\n    markStyle.offsetLeft,\r\n    markStyle.offsetTop,\r\n    text,\r\n    image,\r\n    mode,\r\n    monitor,\r\n    isContains,\r\n  ]);\r\n\r\n  const style = React.useMemo(() => {\r\n    const properties = {\r\n      zIndex: markStyle.zIndex,\r\n      ...styles,\r\n      ...props.style,\r\n    };\r\n\r\n    if (isContains) {\r\n      properties.position = 'absolute';\r\n    }\r\n\r\n    // 监视模式写入样式到节点\r\n    if (monitor && watermark.current) {\r\n      watermark.current?.setAttribute('style', plainStyle(properties));\r\n    }\r\n    return properties;\r\n  }, [markStyle.zIndex, monitor, styles, props.style, isContains]);\r\n\r\n  const element = <div ref={watermark} data-watermark={uuid.current} style={style} />;\r\n\r\n  if (isContains)\r\n    return (\r\n      <div className={bem([className])}>\r\n        {children}\r\n        {element}\r\n      </div>\r\n    );\r\n\r\n  return element;\r\n};\r\n\r\nWaterMark.displayName = 'WaterMark';\r\n\r\nWaterMark.defaultProps = {\r\n  textStyle: TEXT_STYLE_DEFAULT,\r\n  imageStyle: IMAGE_STYLE_DEFAULT,\r\n  markStyle: MARK_STYLE_DEFAULT,\r\n  mode: 'interval',\r\n  monitor: true,\r\n};\r\n\r\nexport default WaterMark;\r\n","import WaterMark from './WaterMark';\r\n\r\nexport type { WaterMarkProps } from './WaterMark';\r\n\r\nexport default WaterMark;\r\n","import { createBEM } from '@zarm-design/bem';\r\nimport React, { forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport { ConfigContext } from '../config-provider';\r\nimport Popper from '../popper';\r\nimport type { PopperPlacement, PopperTrigger } from '../popper/interface';\r\nimport type { HTMLProps } from '../utils/utilityTypes';\r\nimport type { BaseTooltipProps } from './interface';\r\n\r\nexport type TooltipPlacement = PopperPlacement;\r\n\r\nexport type TooltipTrigger = PopperTrigger;\r\n\r\ninterface refHander {\r\n  update: () => void;\r\n}\r\n\r\nexport interface TooltipCssVars {\r\n  '--font-size'?: React.CSSProperties['fontSize'];\r\n  '--color'?: React.CSSProperties['color'];\r\n  '--background'?: React.CSSProperties['background'];\r\n  '--zindex'?: React.CSSProperties['zIndex'];\r\n  '--spacing'?: React.CSSProperties['height'];\r\n  '--padding-horizontal'?: React.CSSProperties['paddingLeft'];\r\n  '--padding-vertical'?: React.CSSProperties['paddingTop'];\r\n  '--arrow-size'?: React.CSSProperties['width'];\r\n  '--arrow-horizontal-offset'?: React.CSSProperties['left'];\r\n  '--arrow-vertical-offset'?: React.CSSProperties['top'];\r\n}\r\n\r\nexport type TooltipProps = BaseTooltipProps & React.PropsWithChildren<HTMLProps<TooltipCssVars>>;\r\n\r\nconst Tooltip = forwardRef<refHander, TooltipProps>((props, ref) => {\r\n  const { children, content, className, ...others } = props;\r\n\r\n  const { prefixCls } = React.useContext(ConfigContext);\r\n\r\n  const bem = createBEM('tooltip', { prefixCls });\r\n  const cls = bem([className]);\r\n\r\n  const poperRef = useRef<React.ElementRef<typeof Popper>>(null);\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      update: () => {\r\n        return poperRef.current?.update();\r\n      },\r\n    };\r\n  });\r\n  return (\r\n    <Popper content={content!} className={cls} {...others} ref={poperRef}>\r\n      {children}\r\n    </Popper>\r\n  );\r\n});\r\n\r\nTooltip.defaultProps = {\r\n  direction: 'top' as TooltipPlacement,\r\n  hasArrow: true,\r\n  onVisibleChange: () => {},\r\n};\r\n\r\nexport default Tooltip;\r\n"],"names":["BackTop","props","className","style","visibleDistance","destroy","onClick","children","React","visible","setVisible","ConfigContext","prefixCls","globalMountContainer","mountContainer","globalScrollContainer","scrollContainer","bem","createBEM","canUseDOM","isFunction","window","getScrollContainer","undefined","getMountContainer","useScroll","event","scrollTop","getScrollTop","target","renderToContainer","duration","tranisitionName","position","document","body","speed","Infinity","scrollTo","defaultProps","rest","initialState","state","setState","mounted","current","nextState","ref","bold","theme","disabled","text","useSafeState","loading","setLoading","cls","ActionSheet","spacing","actions","cancelText","onCancel","onAction","safeArea","restProps","useContext","globalSafeArea","locale","actionsRender","map","action","index","key","renderCancel","displayName","attachPropertiesToComponent","show","renderImperatively","DEFAULT_SCROLL_CONTAINER","Affix","forwardRef","containerRect","affixed","width","height","offsetBottom","offsetTop","onChange","useState","affixState","setAffixState","savePlaceholderNode","timerRef","useRef","fixedNodeTopRef","getContainer","useCallback","getContainerRect","top","bottom","container","getBoundingClientRect","innerHeight","getAffixed","onPositionUpdate","throttle","currentAffixed","useEffect","setTimeout","Events","on","off","clearTimeout","Badge","shape","bordered","Carousel","direction","loop","onChangeEnd","autoPlay","autoPlayIntervalTime","swipeable","animationDuration","propActiveIndex","activeIndex","showPagination","moveDistanceRatio","moveTimeSpan","stateRef","activeIndexChanged","activeIndexState","setActiveIndexState","updateRef","isVertical","carouselRef","carouselItemsRef","translateXRef","translateYRef","count","useMemo","Children","carouselItems","length","itemList","firstItem","lastItem","push","unshift","element","cloneElement","doTransition","offset","animationDurationNum","dom","x","y","transitionDuration","transform","onMoving","transitionEnd","size","onMoveTo","num","onSlideTo","onJumpTo","resize","intervalRef","bind","useDrag","intentional","clearInterval","elapsedTime","offsetX","offsetY","last","Math","abs","from","enabled","axis","pointer","touch","preventScroll","triggerAllEvents","setInterval","useImperativeHandle","pagination","paginationItems","_child","active","horizontal","vertical","itemsStyle","onTransitionEnd","onScroll","wait","handler","DEFAULT_FIELD_NAMES","value","label","resolvedFieldNames","left","merged","Object","keys","forEach","isCascader","dataSource","Array","isArray","isValidValue","toArray","some","item","resolvedValue","initialValue","defaultValue","wheelDefaultValue","resolved","cols","fieldNames","columns","items","traverse","options","depth","option","omit","currentValue","resolveCascade","column","filter","resolveColumn","usePrevious","useEventCallback","fn","dependencies","Error","_fn","BScroll","use","WheelPlugin","Wheel","stopScroll","itemRender","scrollInstance","wheelWrapperRef","createRef","getValue","prevValue","prevDataSource","prevStopScroll","heightRef","getSelectedIndex","changedValue","newDataSource","i","handleScrollEnd","child","useSafeLayoutEffect","clientHeight","initIndex","wheel","selectedIndex","wheelWrapperClass","wheelItemClass","probeType","scroller","wrapper","ResizeObserver","entries","entry","contentRect","refresh","observe","disconnect","disable","isEqual","findIndex","oldIndex","newIndex","wheelTo","stop","itemCls","selected","PickerView","innerValue","setInnerValue","setStopScroll","reset","onValueChange","slice","next","Header","globalLocal","Calendar","showDatePicker","setShowDatePicker","changeMonth","months","currentMonth","Date","year","getFullYear","month","getMonth","title","dayjs","format","yearMonthFormat","parseDataSource","animate","ArrowRight","ArrowLeft","values","day","isSame","CalendarMonthView","dateRender","min","max","disabledDate","onDateClick","dateMonth","mode","weekStartsOn","monthRef","isDisabled","date","isBefore","isAfter","isSelected","currentDate","range","start","end","hanlerDateClick","renderDay","firstDay","dayjsDate","isToday","isValidElement","console","warn","marginLeft","rangeStatus","today","d6","d7","first","daysInMonth","el","monthKey","days","renderDays","getDate","Week","_props","weeks","content","week","onSelect","maxDate","minDate","header","tmpValue","toDate","sort","item1","item2","parseState","step","add","steps","nodes","scrollBodyRef","weekRef","scrollDate","setScrollDate","scrolling","setScrolling","isHorizontal","dateMax","dateMin","len","currentMonthIndex","currentTime","setCurrentMonth","scrollIntoView","handleDateClick","currentStep","idx","Number","indexOf","splice","prevState","renderMonth","n","showHeader","bodyScroll","weekNode","a","b","getTime","getAttribute","monthsContent","Transition","in","timeout","tState","node","timer","TabPanel","role","getChildChecked","selectIndex","parseValueBoundary","inputValue","Tabs","condition","propType","scrollable","lineWidth","includes","lineInnerRender","contentRender","tablistRef","itemWidth","setItemWidth","setCurrentValue","parseValue","classes","onTabChange","newValue","lineStyle","ChildCount","pos","offsetLeft","v","transformValue","unit","getPxStyle","styleUl","WebkitTransform","MozTransform","itemSize","caclLineSizePos","backgroundColor","tabsRender","tab","onTabClick","calculateLineWidth","prop","getComputedStyle","getPropertyValue","getItemStyle","parseInt","toString","calculateScorllLeftLocation","prevTabItem","childNodes","offsetWidth","layoutOffsetWidth","offsetHeight","layoutOffsetHeight","Panel","parseItems","field","memo","CascaderView","propsFieldNames","cascaderViewRef","tabsBem","tabIndex","handleObtainItem","list","_value","find","initValue","reduce","accumulator","_currentValue","valueItem","columnDataList","group","_dataSource","colVal","childrenData","groupActiveItemDisplay","panelTitle","unselected","unselectedTabText","Group","type","listIconAlign","itemValue","handleChange","isActive","handleItemRender","confirmText","maskClosable","forceRender","onConfirm","onClose","afterOpen","afterClose","onMaskClick","noop","stopPropagation","Picker","Cascader","handleCancel","prompt","Promise","resolve","close","CheckboxGroupContext","createContext","getChecked","defaultChecked","checked","Checkbox","inputRef","setChecked","groupContext","changedChecked","check","uncheck","indeterminate","untext","currentProps","textRender","iconRender","renderIcon","Minus","Success","inputRender","id","e","click","toggle","block","tickRender","Item","hasArrow","prefix","iconAlign","suffix","render","CheckboxGroup","setValue","Provider","getActiveKey","multiple","activeKey","defaultActiveKey","hasActiveKeys","concat","Collapse","animated","collapseRef","activeKeyState","setActiveKey","ele","itemOnChange","onItemChangeProps","newActiveKey","tempActiveKey","onItemChange","CollapseItem","collapseItemRef","setStyle","res","preventDefault","ev","isTouchEvent","touches","isPreventDefault","delay","onLongPress","onPress","onClear","onLongPressRef","useLatest","onPressRef","onClearRef","startedRef","Element","passive","clear","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","onMouseLeave","number","rowSpan","price","idcard","Keyboard","onKeyClick","getKeyConfig","BuildInConfig","onKeyPressRef","keyObj","longPressEvent","useLongPress","renderKey","commonProps","blank","ok","gridRow","colSpan","gridColumn","renderText","DeleteKey","pointerEvents","gridTemplateColumns","join","KeyboardPicker","keyboardPickerRef","currentVisible","setCurrentVisible","mask","lockScroll","getTargetElement","defaultElement","useClickAway","onClickAway","eventName","onClickAwayRef","eventNameRef","targetRef","currentTarget","targetItem","targetElement","contains","CustomInput","clearable","readOnly","autoFocus","maxLength","onBlur","onFocus","placeholder","contentRef","pickerRef","useControllableValue","focused","setFocused","showClearIcon","onInputFocus","onInputBlur","focus","blur","labelRender","clearIconRender","CloseCircleFill","inline","behavior","scrollLeft","scrollWidth","COLUMN_TYPE","MERIDIEM","isoWeek","isoWeeksInYear","isLeapYear","generateMeridiemHour","hour","hasMeridiem","useRenderLabel","renderLabel","globalLocale","DatePickerView","YEAR","MONTH","WEEK","WEEK_DAY","DAY","HOUR","MINUTE","minute","SECOND","second","AM","am","pm","generateDatePickerColumns","selectedValue","columnType","minYear","minMonth","minDay","minWeek","minWeekday","isoWeekday","minHour","getHours","minMinute","getMinutes","minSecond","getSeconds","maxYear","maxMonth","maxDay","maxWeek","maxWeekday","maxHour","maxMinute","maxSecond","selectedYear","selectedMonth","selectedDay","selectedWeek","selectedHour","selectedMinute","selectedYearWeeks","isInMinYear","isInMaxYear","isInMinMonth","isInMaxMonth","isInMinDay","isInMaxDay","isInMinWeek","isInMaxWeek","isInMinHour","isInMaxHour","isInMinMinute","isInMaxMinute","firstDayInSelectedMonth","startOf","generateColumns","to","iteratee","generateMeridiemHourColumn","PM","dateToNumberArray","hasWeek","isoWeekYear","currentYear","setFullYear","pickerViewRef","prevColumnType","defaultRenderLabel","useUpdateEffect","now","clamp","pickerValue","changedPickerValue","level","types","fromEntries","currentColumnType","weekDay","meridiemIndex","meridiem","getMeridiemHour","getHour","selectedDate","numberArrayToDate","datePickerViewRef","DatePicker","displayRender","DateSelect","arrowRender","changedItems","batchedUpdates","handleFileInfo","callback","file","quality","fileSize","fileName","name","fileType","substr","lastIndexOf","isPic","match","isImage","getFileDetail","fileDetail","thumbnail","maxWidth","maxHeight","img","createElement","URL","webkitURL","onload","imgUrl","canvas","ctx","getContext","error","fillStyle","fillRect","drawImage","toDataURL","changeImageSize","src","createObjectURL","createThumbnail","then","url","callbackFunc","catch","FilePicker","fileRef","accept","capture","onBeforeSelect","handleClick","handleDefaultInput","Boolean","files","call","fileList","getFileInfo","data","Grid","gutter","square","gutters","gridContext","gridStyle","horizontalGutter","verticalGutter","paddingTop","paddingBottom","paddingLeft","paddingRight","GridContext","percent","mergedStyle","flexBasis","clickable","getTouches","totuch","pageX","pageY","getDistance","sqrt","sum","cancelEvent","supportsPassiveEvents","PinchZoom","startTouches","lastScaleCenter","lastDragPosition","wheelTimeOut","maxScale","minScale","onPinchZoom","currentScale","lastScale","firstMove","initOffset","fingers","nthZoom","rafId","update","raf","setProperty","alignCenter","firstElementChild","rect","getElementSize","calculateOffset","newOffset","doScale","scale","touchCenter","originScale","newScale","center","fixedScale","doDrag","lastCenter","getTouchesOffset","documentElement","posTop","posLeft","handleDrag","currentOffset","elHeight","maxX","maxY","maxOffsetX","maxOffsetY","minOffsetX","minOffsetY","interaction","updateInteraction","newInteraction","handleDragStart","setInteraction","touchEnd","onLoad","onTouchCancel","onTouchMove","point","handleZoom","endTouches","startDistance","calculateScale","onWheel","deltaY","ctrlKey","deltaMode","LOAD_STATUS","images","previewImages","image","isString","isImageString","isPlainObject","isImageObject","originSrc","loaded","before","imageStyle","innerWidth","Content","imgSrc","setLoaded","display","alt","draggable","ImagePreview","formatImages","setImages","currentIndex","setCurrentIndex","bindEvent","tap","loadEvent","newImages","Image","loadImages","loadAfeterImages","after","loadOrigin","maskOpacity","showOriginButton","renderOriginButton","isIntersecting","setIsIntersecting","observer","IntersectionObserver","root","useInViewport","inViewport","onActive","IMAGE_STATUS","fallback","onError","fit","preview","lazy","status","setStatus","initialized","setInitialized","imgRef","orientation","self","renderImageStatus","loadFailed","objectFit","defaultValuePropName","valuePropName","trigger","isControlled","hasOwnProperty","useUpdate","useMemoizedFn","resolveOnChange","targetValue","cloneNode","create","regexAstralSymbols","Input","blurTimeout","showLength","autoHeight","rows","wrapperRef","useControllableEventValue","isTextarea","blurFromClear","textarea","readonly","onInputClear","Event","textLengthRender","replace","countSymbols","activeElement","nativeElement","scrollHeight","CLIENT_RECT","DOMRect","right","toJSON","Marquee","dir","toLowerCase","scrollItem","containerBoundingRect","boundingRect","marqueeRef","setAnimationProperty","transformX","transformY","distanceX","distanceY","distance","animationDelay","Message","icon","closable","Close","Modal","footer","hasActions","showFooter","currentAction","j","animationType","closeFn","Set","delete","alert","getRuntimeConfig","confirm","NavBar","NoticeBar","NOTICEBAR_KEYFRAME_NAME","noticeBarRef","keyframeName","setAnimationDuration","updateScrolling","wrapWidth","contentWidth","newAnimationDuration","round","delayPercent","getElementById","keyframe","getElementsByTagName","removeChild","removeKeyframe","innerHTML","toKeyframe","appendChild","addKeyframe","useAnimationDuration","WebkitAnimation","animation","Volume","strokeWeights","lg","md","sm","diameter","radius","Progress","strokeShape","strokeWidth","htmlAttributes","progressElement","sizeStyle","hasKnownSize","parseFloat","useSizeStyle","shouldUseSVG","useSVG","strokeWidthWithBackup","backup","useStrokeWidthWithBackup","params","svgStrokeWidth","setSvgStrokeWidth","clientWidth","useSVGStrokeWidth","finalStrokeWidth","extendRadius","strokeLinecap","viewBox","path","dasharray","PI","dashoffset","useRoundSVGAttributes","borderRadius","lineTrackStyle","lineThumbStyle","useRectStyles","indicator","formattedPercent","useIndicator","roundInner","d","strokeDasharray","strokeDashoffset","rectInner","val","REFRESH_STATE","LOAD_STATE","Pull","pullRef","wrap","isMounted","setIsMounted","setOffsetY","refreshState","setRefreshState","load","loadState","setLoadState","prevLoad","prevRefresh","normal","throttledScroll","_scrollContainer","getScrollParent","iOffsetY","iAnimationDuration","doLoadAction","iLoadState","stayTime","success","failure","abort","doRefreshAction","iRefreshState","pull","drop","onDragEnd","movement","dragOffsetY","cancelable","onDragMove","eventOptions","loadCls","contentStyle","WebkitTransition","transition","refreshProps","refreshCls","pullText","dropText","loadingText","SuccessCircle","successText","WarningCircle","failureText","renderRefresh","complete","completeText","renderLoad","Rate","character","allowHalf","allowClear","itemRefs","fill","getScoreByPosition","ranges","score","getScoreRanges","_","half","clientX","StarFill","SearchBar","showCancel","onSubmit","cancelRef","formRef","isFocus","setIsFocus","isShowCancel","onFormSubmit","submit","inputProps","Search","Select","SKELETONLINESHAPE","Skeleton","Title","_shape","Paragraph","lineCount","lineCls","getClosestPoint","marks","points","maxSteps","floor","closestStep","diffs","Slider","showMark","onSlideChange","tooltip","setTooltip","lineRef","getMaxOffset","divRect","getValueByOffset","closestPoint","isFinite","toFixed","stepString","precision","getPrecision","ensureValuePrecision","offsetStart","trackClick","line","clientY","xy","initial","maxOffset","getOffsetByValue","dragging","marked","knobStyle","lineBg","isEmptyMarks","JSON","stringify","markKeys","lineDot","dotStyle","markStyle","marksElement","renderMark","arrowPointAtCenter","compareValue","valueStr","getMaxPrecision","stepPrecision","currentValuePrecision","getPrecisionFactor","formatValue","tempValue","Stepper","disableInput","onInputChange","stepperRef","lastValue","setLastValue","onInputChangeCallback","newCurrentValue","isNaN","isSubDisabled","isPlusDisabled","buttonSize","precisionFactor","Plus","SwipeAction","leftActions","rightActions","initialAnimationDuration","autoClose","onOpen","isOpen","pending","leftRef","rightRef","swipeActionWrap","setOffsetLeft","dragStart","renderButtons","refs","btnsLeftWidth","btnsRightWidth","down","timeSpan","_isOpen","bounds","leftWidth","WebkitTransitionDuration","Switch","currentChecked","setCurrentChecked","newChecked","TabBar","selectedKey","setSelectedKey","onChildChange","itemKey","getSelected","badge","TabBarItem","activeIcon","angle","screen","config","attributes","characterData","childList","subtree","WATERMARK_DEFAULT_STYLES","overflow","backgroundRepeat","TEXT_STYLE_DEFAULT","color","fontStyle","fontWeight","fontSize","fontFamily","fontVariant","textAlign","textBaseline","IMAGE_STYLE_DEFAULT","MARK_STYLE_DEFAULT","rotate","opacity","gapX","gapY","resolveImage","reject","crossOrigin","referrerPolicy","onerror","draw","textStyle","context","canvasWidth","ratio","canvasHeight","canvasOffsetLeft","canvasOffsetTop","setAttribute","globalAlpha","translate","imageWidth","imageHeight","markWidth","markHeight","texts","widths","measureText","apply","markSize","lineHeight","font","initY","initX","fillText","MUTATION_OBSERVER_CONFIG","attributeFilter","attributeOldValue","WaterMark","uuid","monitor","watermark","styles","setStyels","rerender","setTarget","MutationObserver","useMutationObserverRef","records","cb","record","attributeName","addedNodes","removedNodes","source","removeAttribute","parentNode","String","dataset","isContainNode","ReactDOM","setNode","backgroundImage","backgroundPosition","backgroundSize","parentElement","message","isContains","properties","zIndex","acc","plainStyle","Tooltip","others","poperRef","onVisibleChange"],"sourceRoot":""}